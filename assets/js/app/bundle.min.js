!function i(n,o,s){function a(e,t){if(!o[e]){if(!n[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=o[e]={exports:{}},n[e][0].call(r.exports,function(t){return a(n[e][1][t]||t)},r,r.exports,i,n,o,s)}return o[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/display"),l=t("@pixi/utils"),t={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};i.DisplayObject.mixin(t);var n=100,i=(Object.defineProperty(o.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),o.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},o.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},o.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},o.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},o.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},o.prototype.update=function(){var t=performance.now();if(!(l.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=this.renderer.resolution,r=e.width/this.renderer.width*t,i=e.height/this.renderer.height*t,n=this.div;n.style.left=e.left+"px",n.style.top=e.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s,a,u=this.children[o];u.renderId!==this.renderId?(u._accessibleActive=!1,l.removeItems(this.children,o,1),this.div.removeChild(u._accessibleDiv),this.pool.push(u._accessibleDiv),u._accessibleDiv=null,o--):(n=u._accessibleDiv,s=u.hitArea,a=u.worldTransform,u.hitArea?(n.style.left=(a.tx+s.x*a.a)*r+"px",n.style.top=(a.ty+s.y*a.d)*i+"px",n.style.width=s.width*a.a*r+"px",n.style.height=s.height*a.d*i+"px"):(s=u.getBounds(),this.capHitArea(s),n.style.left=s.x*r+"px",n.style.top=s.y*i+"px",n.style.width=s.width*r+"px",n.style.height=s.height*i+"px",n.title!==u.accessibleTitle&&null!==u.accessibleTitle&&(n.title=u.accessibleTitle),n.getAttribute("aria-label")!==u.accessibleHint&&null!==u.accessibleHint&&n.setAttribute("aria-label",u.accessibleHint)),u.accessibleTitle===n.title&&u.tabIndex===n.tabIndex||(n.title=u.accessibleTitle,n.tabIndex=u.tabIndex,this.debug&&this.updateDebugHTML(n)))}this.renderId++}},o.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},o.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},o.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=n+"px",e.style.height=n+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},o.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},o.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},o.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},o.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},o.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},o.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},o);function o(t){this._hookDiv=null,(l.isMobile.tablet||l.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=n+"px",e.style.height=n+"px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}r.AccessibilityManager=i,r.accessibleTarget=t},{"@pixi/display":5,"@pixi/utils":34}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/display"),n=t("@pixi/core"),o=(s.registerPlugin=function(t){s._plugins.push(t)},s.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(s.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),s.prototype.destroy=function(t,e){var r=this,i=s._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},s);function s(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=n.autoDetectRenderer(e),this.stage=new i.Container,s._plugins.forEach(function(t){t.init.call(r,e)})}o._plugins=[];a.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){r._resizeTo&&(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){var t,e;r._resizeTo&&(r.cancelResize(),e=r._resizeTo===window?(t=window.innerWidth,window.innerHeight):(t=(e=r._resizeTo).clientWidth,e.clientHeight),r.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},a.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t=a;function a(){}o.registerPlugin(t),r.Application=o},{"@pixi/core":4,"@pixi/display":5}],3:[function(t,e,r){"use strict";var i;Object.defineProperty(r,"__esModule",{value:!0}),(i=r.ENV||(r.ENV={}))[i.WEBGL_LEGACY=0]="WEBGL_LEGACY",i[i.WEBGL=1]="WEBGL",i[i.WEBGL2=2]="WEBGL2",(i=r.RENDERER_TYPE||(r.RENDERER_TYPE={}))[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",(i=r.BUFFER_BITS||(r.BUFFER_BITS={}))[i.COLOR=16384]="COLOR",i[i.DEPTH=256]="DEPTH",i[i.STENCIL=1024]="STENCIL",(i=r.BLEND_MODES||(r.BLEND_MODES={}))[i.NORMAL=0]="NORMAL",i[i.ADD=1]="ADD",i[i.MULTIPLY=2]="MULTIPLY",i[i.SCREEN=3]="SCREEN",i[i.OVERLAY=4]="OVERLAY",i[i.DARKEN=5]="DARKEN",i[i.LIGHTEN=6]="LIGHTEN",i[i.COLOR_DODGE=7]="COLOR_DODGE",i[i.COLOR_BURN=8]="COLOR_BURN",i[i.HARD_LIGHT=9]="HARD_LIGHT",i[i.SOFT_LIGHT=10]="SOFT_LIGHT",i[i.DIFFERENCE=11]="DIFFERENCE",i[i.EXCLUSION=12]="EXCLUSION",i[i.HUE=13]="HUE",i[i.SATURATION=14]="SATURATION",i[i.COLOR=15]="COLOR",i[i.LUMINOSITY=16]="LUMINOSITY",i[i.NORMAL_NPM=17]="NORMAL_NPM",i[i.ADD_NPM=18]="ADD_NPM",i[i.SCREEN_NPM=19]="SCREEN_NPM",i[i.NONE=20]="NONE",i[i.SRC_OVER=0]="SRC_OVER",i[i.SRC_IN=21]="SRC_IN",i[i.SRC_OUT=22]="SRC_OUT",i[i.SRC_ATOP=23]="SRC_ATOP",i[i.DST_OVER=24]="DST_OVER",i[i.DST_IN=25]="DST_IN",i[i.DST_OUT=26]="DST_OUT",i[i.DST_ATOP=27]="DST_ATOP",i[i.ERASE=26]="ERASE",i[i.SUBTRACT=28]="SUBTRACT",i[i.XOR=29]="XOR",(i=r.DRAW_MODES||(r.DRAW_MODES={}))[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",(i=r.FORMATS||(r.FORMATS={}))[i.RGBA=6408]="RGBA",i[i.RGB=6407]="RGB",i[i.ALPHA=6406]="ALPHA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(i=r.TARGETS||(r.TARGETS={}))[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(i=r.TYPES||(r.TYPES={}))[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.FLOAT=5126]="FLOAT",i[i.HALF_FLOAT=36193]="HALF_FLOAT",(i=r.SCALE_MODES||(r.SCALE_MODES={}))[i.NEAREST=0]="NEAREST",i[i.LINEAR=1]="LINEAR",(i=r.WRAP_MODES||(r.WRAP_MODES={}))[i.CLAMP=33071]="CLAMP",i[i.REPEAT=10497]="REPEAT",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(i=r.MIPMAP_MODES||(r.MIPMAP_MODES={}))[i.OFF=0]="OFF",i[i.POW2=1]="POW2",i[i.ON=2]="ON",(i=r.ALPHA_MODES||(r.ALPHA_MODES={}))[i.NPM=0]="NPM",i[i.UNPACK=1]="UNPACK",i[i.PMA=2]="PMA",i[i.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",i[i.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",i[i.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(i=r.CLEAR_MODES||(r.CLEAR_MODES={}))[i.NO=0]="NO",i[i.YES=1]="YES",i[i.AUTO=2]="AUTO",i[i.BLEND=0]="BLEND",i[i.CLEAR=1]="CLEAR",i[i.BLIT=2]="BLIT",(i=r.GC_MODES||(r.GC_MODES={}))[i.AUTO=0]="AUTO",i[i.MANUAL=1]="MANUAL",(i=r.PRECISION||(r.PRECISION={})).LOW="lowp",i.MEDIUM="mediump",i.HIGH="highp",(i=r.MASK_TYPES||(r.MASK_TYPES={}))[i.NONE=0]="NONE",i[i.SCISSOR=1]="SCISSOR",i[i.STENCIL=2]="STENCIL",i[i.SPRITE=3]="SPRITE",(r=r.MSAA_QUALITY||(r.MSAA_QUALITY={}))[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH"},{}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var m=t("@pixi/settings"),g=t("@pixi/constants"),v=t("@pixi/utils"),i=t("@pixi/runner"),n=t("@pixi/ticker"),u=t("@pixi/math");m.settings.PREFER_ENV=v.isMobile.any?g.ENV.WEBGL:g.ENV.WEBGL2,m.settings.STRICT_TEXTURE_CACHE=!1;var s=[];function y(t,e){if(!t)return null;var r,i="";"string"!=typeof t||(r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(i=r[1].toLowerCase());for(var n=s.length-1;0<=n;--n){var o=s[n];if(o.test&&o.test(t,i))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var _=(l.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},l.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},l.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(l.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),l.prototype.update=function(){this.destroyed||this.onUpdate.emit()},l.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),l.prototype.style=function(t,e,r){return!1},l.prototype.dispose=function(){},l.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},l.test=function(t,e){return!1},l);function l(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new i.Runner("setRealSize"),this.onUpdate=new i.Runner("update"),this.onError=new i.Runner("onError")}var h,c=(a(p,h=_),p.prototype.upload=function(t,e,r){t=t.gl;return t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===g.ALPHA_MODES.UNPACK),r.width===e.width&&r.height===e.height?t.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,t.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},p.prototype.dispose=function(){this.data=null},p.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},p);function p(t,e){var r=this,i=e||{},e=i.width,i=i.height;if(!e||!i)throw new Error("BufferResource width or height invalid");return(r=h.call(this,e,i)||this).data=t,r}var b,d={scaleMode:g.SCALE_MODES.NEAREST,format:g.FORMATS.RGBA,alphaMode:g.ALPHA_MODES.NPM},f=(a(x,b=v.EventEmitter),Object.defineProperty(x.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),x.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},x.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},x.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},x.prototype._refreshPOT=function(){this.isPowerOfTwo=v.isPow2(this.realWidth)&&v.isPow2(this.realHeight)},x.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},x.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},x.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},x.prototype.onError=function(t){this.emit("error",this,t)},x.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete v.BaseTextureCache[this.cacheId],delete v.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),x.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},x.prototype.dispose=function(){this.emit("dispose",this)},x.prototype.castToBaseTexture=function(){return this},x.from=function(t,e,r){void 0===r&&(r=m.settings.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null,n=i?t:(t._pixiId||(t._pixiId="pixiid_"+v.uid()),t._pixiId),o=v.BaseTextureCache[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return o||((o=new x(t,e)).cacheId=n,x.addToCache(o,n)),o},x.fromBuffer=function(t,e,r,i){t=t||new Float32Array(e*r*4);var n=new c(t,{width:e,height:r}),t=t instanceof Float32Array?g.TYPES.FLOAT:g.TYPES.UNSIGNED_BYTE;return new x(n,Object.assign(d,i||{width:e,height:r,type:t}))},x.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),v.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),v.BaseTextureCache[e]=t)},x.removeFromCache=function(t){if("string"==typeof t){var e=v.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete v.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete v.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},x._globalBatch=0,x);function x(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=b.call(this)||this,i=(e=e||{}).alphaMode,n=e.mipmap,o=e.anisotropicLevel,s=e.scaleMode,a=e.width,u=e.height,l=e.wrapMode,h=e.format,c=e.type,p=e.target,d=e.resolution,f=e.resourceOptions;return!t||t instanceof _||((t=y(t,f)).internal=!0),r.width=a||0,r.height=u||0,r.resolution=d||m.settings.RESOLUTION,r.mipmap=void 0!==n?n:m.settings.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==o?o:m.settings.ANISOTROPIC_LEVEL,r.wrapMode=l||m.settings.WRAP_MODE,r.scaleMode=void 0!==s?s:m.settings.SCALE_MODE,r.format=h||g.FORMATS.RGBA,r.type=c||g.TYPES.UNSIGNED_BYTE,r.target=p||g.TARGETS.TEXTURE_2D,r.alphaMode=void 0!==i?i:g.ALPHA_MODES.UNPACK,void 0!==e.premultiplyAlpha&&(r.premultiplyAlpha=e.premultiplyAlpha),r.uid=v.uid(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=0<a&&0<u,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}var w,E=(a(S,w=_),S.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof _?this.addResourceAt(t[r],r):this.addResourceAt(y(t[r],e),r))},S.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},S.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},S.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");w.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},S.prototype.unbind=function(t){w.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},S.prototype.load=function(){var r=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=r.items[0],e=t.realWidth,t=t.realHeight;return r.resize(e,t),Promise.resolve(r)}),this._load},S);function S(t,e){var r=this,i=e||{},e=i.width,i=i.height;(r=w.call(this,e,i)||this).items=[],r.itemDirtyIds=[];for(var n=0;n<t;n++){var o=new f;r.items.push(o),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}var T,P=(a(A,T=E),A.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},A.prototype.bind=function(t){T.prototype.bind.call(this,t),t.target=g.TARGETS.TEXTURE_2D_ARRAY},A.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var u=o[a];n[a]<u.dirtyId&&(n[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},A);function A(t,e){var r,i=this,n=e||{},o=n.width,n=n.height,t=Array.isArray(t)?(r=t).length:t,i=T.call(this,t,{width:o,height:n})||this;return r&&i.initFromArray(r,e),i}var I,O=(a(M,I=_),M.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=v.determineCrossOrigin(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},M.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,t=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===g.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==t?(r.width=o,r.height=t,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},M.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),I.prototype.update.call(this))},M.prototype.dispose=function(){this.source=null},M);function M(t){var e=this,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;return(e=I.call(this,r,i)||this).source=t,e.noSubImage=!1,e}var C,D=(a(R,C=O),R.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},R);function R(){return null!==C&&C.apply(this,arguments)||this}var L,N=(a(F,L=E),F.prototype.bind=function(t){L.prototype.bind.call(this,t),t.target=g.TARGETS.TEXTURE_CUBE_MAP},F.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=g.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},F.prototype.upload=function(t,e,r){for(var i=this.itemDirtyIds,n=0;n<F.SIDES;n++){var o=this.items[n];i[n]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),i[n]=o.dirtyId):i[n]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0},F.test=function(t){return Array.isArray(t)&&t.length===F.SIDES},F.SIDES=6,F);function F(t,e){var r=this,i=e||{},n=i.width,o=i.height,s=i.autoLoad,i=i.linkBaseTexture;if(t&&t.length!==F.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");r=L.call(this,6,{width:n,height:o})||this;for(var a=0;a<F.SIDES;a++)r.items[a].target=g.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+a;return r.linkBaseTexture=!1!==i,t&&r.initFromArray(t,e),!1!==s&&r.load(),r}var k,B=(a(j,k=O),j.prototype.load=function(t){var n=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var r=n.source;n.url=r.src;function i(){n.destroyed||(r.onload=null,r.onerror=null,n.resize(r.width,r.height),n._load=null,n.createBitmap?t(n.process()):t(n))}r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){e(t),n.onError.emit(t)})}),this._load)},j.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===g.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},j.prototype.upload=function(t,e,r){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return k.prototype.upload.call(this,t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(k.prototype.upload.call(this,t,e,r,this.bitmap),!this.preserveBitmap){var i,n=!0,o=e._glTextures;for(i in o){var s=o[i];if(s!==r&&s.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},j.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,k.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},j.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},j);function j(t,e){var r,i=this;return e=e||{},t instanceof HTMLImageElement||(r=new Image,O.crossOrigin(r,t,e.crossorigin),r.src=t,t=r),i=k.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==e.createBitmap?e.createBitmap:m.settings.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,void 0!==e.premultiplyAlpha&&(i.premultiplyAlpha=e.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==e.autoLoad&&i.load(),i}var U,H=(a(G,U=O),G.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},G.prototype._loadSvg=function(){var o=this,s=new Image;O.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=function(t){o._resolve&&(s.onerror=null,o.onError.emit(t))},s.onload=function(){if(o._resolve){var t=s.width,e=s.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=t*o.scale,i=e*o.scale;(o._overrideWidth||o._overrideHeight)&&(r=o._overrideWidth||o._overrideHeight/e*t,i=o._overrideHeight||o._overrideWidth/t*e),r=Math.round(r),i=Math.round(i);var n=o.source;n.width=r,n.height=i,n._pixiId="canvas_"+v.uid(),n.getContext("2d").drawImage(s,0,0,t,e,0,0,r,i),o._resolve(),o._resolve=null}}},G.getSize=function(t){var e=G.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},G.prototype.dispose=function(){U.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},G.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},G.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,G);function G(t,e){var r=this;return e=e||{},(r=U.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=e.scale||1,r._overrideWidth=e.width,r._overrideHeight=e.height,r._resolve=null,r._crossorigin=e.crossorigin,r._load=null,!1!==e.autoLoad&&r.load(),r}var z,X=(a(W,z=O),W.prototype.update=function(t){void 0===t&&(t=0),this.destroyed||(t=n.Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(z.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},W.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,r.load())}),this._load},W.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},W.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},W.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},W.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},W.prototype._onPlayStop=function(){this._isConnectedToTicker&&(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},W.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},W.prototype.dispose=function(){this._isConnectedToTicker&&n.Ticker.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),z.prototype.dispose.call(this)},Object.defineProperty(W.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),W.test=function(t,e){return t instanceof HTMLVideoElement||-1<W.TYPES.indexOf(e)},W.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],W.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},W);function W(t,e){var r=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof t&&(t=[t]);var n=t[0].src||t[0];O.crossOrigin(i,n,e.crossorigin);for(var o=0;o<t.length;++o){var s=document.createElement("source"),a=t[o],u=a.src,l=a.mime,a=(u=u||t[o]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),l=l||W.MIME_TYPES[a]||"video/"+a;s.src=u,s.type=l,i.appendChild(s)}t=i}return(r=z.call(this,t)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=e.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==e.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==e.autoLoad&&r.load(),r}var Y,q=(a(V,Y=O),V.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},V);function V(){return null!==Y&&Y.apply(this,arguments)||this}s.push(B,q,D,X,H,c,N,P);var $={Resource:_,BaseImageResource:O,INSTALLED:s,autoDetectResource:y,AbstractMultiResource:E,ArrayResource:P,BufferResource:c,CanvasResource:D,CubeResource:N,ImageResource:B,SVGResource:H,VideoResource:X,ImageBitmapResource:q},K=(Q.prototype.destroy=function(){this.renderer=null},Q);function Q(t){this.renderer=t}var Z,J=(a(tt,Z=c),tt.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===g.ALPHA_MODES.UNPACK),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},tt);function tt(){return null!==Z&&Z.apply(this,arguments)||this}var et=(Object.defineProperty(rt.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),rt.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new f(null,{scaleMode:g.SCALE_MODES.NEAREST,resolution:1,mipmap:g.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},rt.prototype.addDepthTexture=function(t){return this.depthTexture=t||new f(new J(null,{width:this.width,height:this.height}),{scaleMode:g.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:g.MIPMAP_MODES.OFF,format:g.FORMATS.DEPTH_COMPONENT,type:g.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},rt.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},rt.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},rt.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},rt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},rt.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},rt);function rt(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new i.Runner("disposeFramebuffer"),this.multisample=g.MSAA_QUALITY.NONE}var it,nt=(a(ot,it=f),ot.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},ot.prototype.dispose=function(){this.framebuffer.dispose(),it.prototype.dispose.call(this)},ot.prototype.destroy=function(){it.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},ot);function ot(t){var e=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e=it.call(this,null,t)||this;var r=t||{},t=r.width,r=r.height;return e.mipmap=0,e.width=Math.ceil(t)||100,e.height=Math.ceil(r)||100,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new et(e.width*e.resolution,e.height*e.resolution).addColorTexture(0,e),e.maskStack=[],e.filterStack=[{}],e}var st=(at.prototype.set=function(t,e,r){var i,n,o,s=e.width,a=e.height;r?(i=t.width/2/s,n=t.height/2/a,o=t.x/s+i,e=t.y/a+n,r=u.groupD8.add(r,u.groupD8.NW),this.x0=o+i*u.groupD8.uX(r),this.y0=e+n*u.groupD8.uY(r),r=u.groupD8.add(r,2),this.x1=o+i*u.groupD8.uX(r),this.y1=e+n*u.groupD8.uY(r),r=u.groupD8.add(r,2),this.x2=o+i*u.groupD8.uX(r),this.y2=e+n*u.groupD8.uY(r),r=u.groupD8.add(r,2),this.x3=o+i*u.groupD8.uX(r),this.y3=e+n*u.groupD8.uY(r)):(this.x0=t.x/s,this.y0=t.y/a,this.x1=(t.x+t.width)/s,this.y1=t.y/a,this.x2=(t.x+t.width)/s,this.y2=(t.y+t.height)/a,this.x3=t.x/s,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},at);function at(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}var ut,lt=new st,ht=(a(ct,ut=v.EventEmitter),ct.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},ct.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},ct.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture)&&t.url&&v.TextureCache[t.url]&&ct.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ct.removeFromCache(this),this.textureCacheIds=null},ct.prototype.clone=function(){return new ct(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},ct.prototype.updateUvs=function(){this._uvs===lt&&(this._uvs=new st),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},ct.from=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=m.settings.STRICT_TEXTURE_CACHE);var i="string"==typeof t,n=null,n=i?t:(t._pixiId||(t._pixiId="pixiid_"+v.uid()),t._pixiId),o=v.TextureCache[n];if(i&&r&&!o)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return o||(e.resolution||(e.resolution=v.getResolutionOfUrl(t)),(o=new ct(new f(t,e))).baseTexture.cacheId=n,f.addToCache(o.baseTexture,n),ct.addToCache(o,n)),o},ct.fromURL=function(t,e){var r=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),i=ct.from(t,Object.assign({resourceOptions:r},e),!1),e=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):e.load().then(function(){return Promise.resolve(i)})},ct.fromBuffer=function(t,e,r,i){return new ct(f.fromBuffer(t,e,r,i))},ct.fromLoader=function(t,e,r){t=new B(t);t.url=e;t=new ct(new f(t,{scaleMode:m.settings.SCALE_MODE,resolution:v.getResolutionOfUrl(e)}));return r=r||e,f.addToCache(t.baseTexture,r),ct.addToCache(t,r),r!==e&&(f.addToCache(t.baseTexture,e),ct.addToCache(t,e)),t},ct.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),v.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),v.TextureCache[e]=t)},ct.removeFromCache=function(t){if("string"==typeof t){var e=v.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return-1<r&&e.textureCacheIds.splice(r,1),delete v.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)v.TextureCache[t.textureCacheIds[i]]===t&&delete v.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(ct.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){s=o&&s?"and":"or",e="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,r="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+s+" "+r)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(ct.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),ct.prototype.castToBaseTexture=function(){return this.baseTexture},ct);function ct(t,e,r,i,n,o){var s=ut.call(this)||this;if(s.noFrame=!1,e||(s.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof ct&&(t=t.baseTexture),s.baseTexture=t,s._frame=e,s.trim=i,s.valid=!1,s._uvs=lt,s.uvMatrix=null,s.orig=r||e,s._rotate=Number(n||0),!0===n)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return s.defaultAnchor=o?new u.Point(o.x,o.y):new u.Point(0,0),s._updateID=0,s.textureCacheIds=[],t.valid?s.noFrame?t.valid&&s.onBaseTextureUpdated(t):s.frame=e:t.once("loaded",s.onBaseTextureUpdated,s),s.noFrame&&t.on("update",s.onBaseTextureUpdated,s),s}function pt(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}ht.EMPTY=new ht(new f),pt(ht.EMPTY),pt(ht.EMPTY.baseTexture),ht.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ht(new f(new D(t)))}(),pt(ht.WHITE),pt(ht.WHITE.baseTexture);var dt,ft=(a(mt,dt=ht),Object.defineProperty(mt.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),mt.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},mt.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},mt.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new mt(new nt(t))},mt);function mt(t,e){var r,i,n,o,s=this,a=null;return t instanceof nt||(r=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],console.warn("Please use RenderTexture.create("+r+", "+i+") instead of the ctor directly."),a=arguments[0],e=null,t=new nt({width:r,height:i,scaleMode:n,resolution:o})),(s=dt.call(this,t,e)||this).legacyRenderer=a,s.valid=!0,s.filterFrame=null,s.filterPoolKey=null,s.updateUvs(),s}var gt=(vt.prototype.createTexture=function(t,e){e=new nt(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new ft(e)},vt.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=vt.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=v.nextPow2(t)))<<16|65535&(e=v.nextPow2(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return(n=n||this.createTexture(t,e)).filterPoolKey=i,n.setResolution(r),n},vt.prototype.getFilterTexture=function(t,e){e=this.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},vt.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},vt.prototype.returnFilterTexture=function(t){this.returnTexture(t)},vt.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},vt.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=vt.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=0<t.width&&0<t.height,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},vt.SCREEN_KEY="screen",vt);function vt(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}var yt=(_t.prototype.destroy=function(){this.buffer=null},_t.from=function(t,e,r,i,n){return new _t(t,e,r,i,n)},_t);function _t(t,e,r,i,n,o,s){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}var bt=0,xt=(wt.prototype.update=function(t){this.data=t||this.data,this._updateID++},wt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},wt.prototype.destroy=function(){this.dispose(),this.data=null},wt.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new wt(t)},wt);function wt(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=bt++,this.disposeRunner=new i.Runner("disposeBuffer")}function Et(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var St={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Tt={5126:4,5123:2,5121:1},Pt=0,At={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},t=(It.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof xt||(e instanceof Array&&(e=new Float32Array(e)),e=new xt(e));var u=t.split("|");if(1<u.length){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,r,i,n);return this}var h=this.buffers.indexOf(e);return-1===h&&(this.buffers.push(e),h=this.buffers.length-1),this.attributes[t]=new yt(h,r,i,n,o,s,a),this.instanced=this.instanced||a,this},It.prototype.getAttribute=function(t){return this.attributes[t]},It.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},It.prototype.addIndex=function(t){return t instanceof xt||(t instanceof Array&&(t=new Uint16Array(t)),t=new xt(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},It.prototype.getIndex=function(){return this.indexBuffer},It.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new xt;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Tt[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,u=0,o=0;o<t.length;o++){var l=e[o],h=t[o],c=Et(h);n[c]||(n[c]=new St[c](s)),a=n[c];for(var p=0;p<h.length;p++)a[(p/l|0)*i+u+p%l]=h[p];u+=l}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},It.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},It.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},It.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},It.prototype.clone=function(){for(var t=new It,e=0;e<this.buffers.length;e++)t.buffers[e]=new xt(this.buffers[e].data.slice(0));for(e in this.attributes){var r=this.attributes[e];t.attributes[e]=new yt(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},It.merge=function(t){for(var e,r=new It,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(s=0;s<e.buffers.length;s++)i[s]=new At[Et(e.buffers[s].data)](n[s]),r.buffers[s]=new xt(i[s]);for(s=0;s<t.length;s++){e=t[s];for(a=0;a<e.buffers.length;a++)i[a].set(e.buffers[a].data,o[a]),o[a]+=e.buffers[a].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var u=0,l=0,h=0,c=0,s=0;s<e.buffers.length;s++)if(e.buffers[s]!==e.indexBuffer){c=s;break}for(s in e.attributes){var p=e.attributes[s];(0|p.buffer)===c&&(l+=p.size*Tt[p.type]/4)}for(s=0;s<t.length;s++){for(var d=t[s].indexBuffer.data,a=0;a<d.length;a++)r.indexBuffer.data[a+h]+=u;u+=e.buffers[c].data.length/l,h+=d.length}}return r},It);function It(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Pt++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new i.Runner("disposeGeometry"),this.refCount=0}var Ot,Mt=(a(Ct,Ot=t),Ct);function Ct(){var t=Ot.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}var Dt,Rt=(a(Lt,Dt=t),Lt.prototype.map=function(t,e){var r,i;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},Lt.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},Lt);function Lt(){var t=Dt.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new xt(t.vertices),t.uvBuffer=new xt(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}var Nt=0,Ft=(kt.prototype.update=function(){this.dirtyId++},kt.prototype.add=function(t,e,r){this.uniforms[t]=new kt(e,r)},kt.from=function(t,e){return new kt(t,e)},kt);function kt(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Nt++,this.static=!!e}var Bt=(jt.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},jt);function jt(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new u.Rectangle,this.destinationFrame=new u.Rectangle,this.filters=[]}var Ut,Ht=(a(Gt,Ut=K),Gt.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Bt,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,u=e[0].legacy,l=1;l<e.length;l++)var h=e[l],o=Math.min(o,h.resolution),s=this.useMaxPadding?Math.max(s,h.padding):s+h.padding,a=a&&h.autoFit,u=u||h.legacy;1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;t=this.tempRect;t.width=n.sourceFrame.width,t.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,t),r.renderTexture.clear()},Gt.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy&&((o=i.filterArea)[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=e.sourceFrame.x,o[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(1<e.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,t.renderTexture,g.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(h=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var u=0,u=0;u<r.length-1;++u){r[u].apply(this,a,h,g.CLEAR_MODES.CLEAR,e);var l=a,a=h,h=l}r[u].apply(this,a,t.renderTexture,g.CLEAR_MODES.BLEND,e),this.returnFilterTexture(a),this.returnFilterTexture(h)}e.clear(),this.statePool.push(e)},Gt.prototype.bindAndClear=function(t,e){var r;void 0===e&&(e=g.CLEAR_MODES.CLEAR),t&&t.filterFrame?((r=this.tempRect).width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)):this.renderer.renderTexture.bind(t),"boolean"==typeof e&&(e=e?g.CLEAR_MODES.CLEAR:g.CLEAR_MODES.BLEND,v.deprecation("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===g.CLEAR_MODES.CLEAR||e===g.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},Gt.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(g.DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(g.DRAW_MODES.TRIANGLE_STRIP))},Gt.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,r=e._texture.orig,n=t.set(n.width,0,0,n.height,i.x,i.y),i=e.worldTransform.copyTo(u.Matrix.TEMP_MATRIX);return i.invert(),n.prepend(i),n.scale(1/r.width,1/r.height),n.translate(e.anchor.x,e.anchor.y),n},Gt.prototype.destroy=function(){this.texturePool.clear(!1)},Gt.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},Gt.prototype.getFilterTexture=function(t,e){var r;"number"==typeof t&&(r=t,t=e,e=r),t=t||this.activeState.renderTexture;e=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return e.filterFrame=t.filterFrame,e},Gt.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},Gt.prototype.emptyPool=function(){this.texturePool.clear(!0)},Gt.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},Gt);function Gt(t){var e=Ut.call(this,t)||this;return e.defaultFilterStack=[{}],e.texturePool=new gt,e.texturePool.setScreenSize(t.view),e.statePool=[],e.quad=new Mt,e.quadUv=new Rt,e.tempRect=new u.Rectangle,e.activeState={},e.globalUniforms=new Ft({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),e.forceClear=!1,e.useMaxPadding=!1,e}var zt=(Xt.prototype.flush=function(){},Xt.prototype.destroy=function(){this.renderer=null},Xt.prototype.start=function(){},Xt.prototype.stop=function(){this.flush()},Xt.prototype.render=function(t){},Xt);function Xt(t){this.renderer=t}var Wt,Yt=(a(qt,Wt=K),qt.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},qt.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},qt.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},qt.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;0<=i;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},qt.prototype.boundArray=function(t,e,r,i){for(var n=t.elements,o=t.ids,s=t.count,a=0,u=0;u<s;u++){var l=n[u],h=l._batchLocation;if(0<=h&&h<i&&e[h]===l)o[u]=h;else for(;a<i;){var c=e[a];if(!c||c._batchEnabled!==r||c._batchLocation!==a){o[u]=a,e[l._batchLocation=a]=l;break}a++}}},qt);function qt(t){var e=Wt.call(this,t)||this;return e.emptyRenderer=new zt(t),e.currentRenderer=e.emptyRenderer,e}var Vt,$t=0,Kt=(a(Qt,Vt=K),Object.defineProperty(Qt.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),Qt.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=$t++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},Qt.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=$t++,this.renderer.runners.contextChange.emit(t)},Qt.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},Qt.prototype.createContext=function(t,e){var r;if(m.settings.PREFER_ENV>=g.ENV.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},Qt.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},Qt.prototype.handleContextLost=function(t){t.preventDefault()},Qt.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},Qt.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},Qt.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},Qt.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");t=r||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},Qt);function Qt(t){var e=Vt.call(this,t)||this;return e.webGLVersion=1,e.extensions={},e.supports={uint32Indices:!1},e.handleContextLost=e.handleContextLost.bind(e),e.handleContextRestored=e.handleContextRestored.bind(e),t.view.addEventListener("webglcontextlost",e.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1),e}var Zt,Jt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=g.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},te=new u.Rectangle,ee=(a(re,Zt=K),re.prototype.contextChange=function(){var e,t,r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new u.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,m.settings.PREFER_ENV===g.ENV.WEBGL_LEGACY&&(t=e=null),e?r.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,r.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},re.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++){var o=t.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},re.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(re.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),re.prototype.clear=function(t,e,r,i,n){void 0===n&&(n=g.BUFFER_BITS.COLOR|g.BUFFER_BITS.DEPTH);var o=this.gl;o.clearColor(t,e,r,i),o.clear(n)},re.prototype.initFramebuffer=function(t){var e=this.gl,e=new Jt(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},re.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},re.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),1<r.multisample&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var n,o,s,a=[],u=0;u<i;u++)0===u&&1<r.multisample||(o=(n=t.colorTextures[u]).parentTextureArray||n,this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+u,n.target,o._glTextures[this.CONTEXT_UID].texture,0),a.push(e.COLOR_ATTACHMENT0+u));1<a.length&&e.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(s=t.depthTexture,this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},re.prototype.detectSamples=function(t){var e=this.msaaSamples,r=g.MSAA_QUALITY.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=g.MSAA_QUALITY.NONE),r},re.prototype.blit=function(t,e,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){s=i.glFramebuffers[s];if(s){if(!t){if(s.multisample<=1)return;s.blitFramebuffer||(s.blitFramebuffer=new et(i.width,i.height),s.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=s.blitFramebuffer).width=i.width,t.height=i.height}e||((e=te).width=i.width,e.height=i.height),r=r||e;i=e.width===r.width&&e.height===r.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,s.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,i?o.NEAREST:o.LINEAR)}}},re.prototype.disposeFramebuffer=function(t,e){var r,i=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;i&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(r=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(i.framebuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)))},re.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},re.prototype.forceStencil=function(){var t,e,r,i,n=this.current;!n||(t=n.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(n.enableStencil(),e=n.width,r=n.height,n=(i=this.gl).createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e,r),t.stencil=n,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n))},re.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new u.Rectangle},re);function re(t){t=Zt.call(this,t)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new et(10,10),t.msaaSamples=null,t}var ie,ne=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},oe={5126:4,5123:2,5121:1},se=(a(ae,ie=K),ae.prototype.contextChange=function(){this.disposeAll(!0);var e,o,t=this.gl=this.renderer.gl,r=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==r.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,m.settings.PREFER_ENV===g.ENV.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==r.webGLVersion&&((o=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,n){return o.drawElementsInstancedANGLE(t,e,r,i,n)},t.drawArraysInstanced=function(t,e,r,i){return o.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===r.webGLVersion||!!r.extensions.uint32ElementIndex},ae.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});i=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==i&&(this._activeVao=i,this.hasVao?r.bindVertexArray(i):this.activateVao(t,e.program)),this.updateBuffers()},ae.prototype.reset=function(){this.unbind()},ae.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i,n,o=t.buffers[r],s=o._glBuffers[this.CONTEXT_UID];o._updateID!==s.updateID&&(s.updateID=o._updateID,i=o.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,e.bindBuffer(i,s.buffer),(this._boundBuffer=s).byteLength>=o.data.byteLength?e.bufferSubData(i,0,o.data):(n=o.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,s.byteLength=o.data.byteLength,e.bufferData(i,o.data,n)))}},ae.prototype.checkCompatibility=function(t,e){var r,i=t.attributes;for(r in e.attributeData)if(!i[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},ae.prototype.getSignature=function(t,e){var r,i=t.attributes,n=e.attributeData,o=["g",t.id];for(r in i)n[r]&&o.push(r);return o.join("-")},ae.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s;var a,u=t.buffers,l=t.attributes,h={},c={};for(a in u)h[a]=0,c[a]=0;for(a in l)!l[a].size&&e.attributeData[a]?l[a].size=e.attributeData[a].size:l[a].size||console.warn("PIXI Geometry attribute '"+a+"' size cannot be determined (likely the bound shader does not have the attribute)"),h[l[a].buffer]+=l[a].size*oe[l[a].type];for(a in l){var p=l[a],d=p.size;void 0===p.stride&&(h[p.buffer]===d*oe[p.type]?p.stride=0:p.stride=h[p.buffer]),void 0===p.start&&(p.start=c[p.buffer],c[p.buffer]+=d*oe[p.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var f=0;f<u.length;f++){var m=u[f];m._glBuffers[i]||(m._glBuffers[i]=new ne(r.createBuffer()),(this.managedBuffers[m.id]=m).disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s},ae.prototype.disposeBuffer=function(t,e){var r,i;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],r=t._glBuffers[this.CONTEXT_UID],i=this.gl,t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID]))},ae.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o,s=0;s<n.length;s++){var a=n[s]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||e||this.disposeBuffer(n[s],e)}if(!e)for(var u in r)"g"===u[0]&&(o=r[u],this._activeVao===o&&this.unbind(),i.deleteVertexArray(o));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ae.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},ae.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s,a=null;for(s in o){var u=o[s],l=n[u.buffer]._glBuffers[i];if(e.attributeData[s]){a!==l&&(r.bindBuffer(r.ARRAY_BUFFER,l.buffer),a=l);l=e.attributeData[s].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},ae.prototype.draw=function(t,e,r,i){var n,o,s=this.gl,a=this._activeGeometry;return a.indexBuffer?(o=2===(n=a.indexBuffer.data.BYTES_PER_ELEMENT)?s.UNSIGNED_SHORT:s.UNSIGNED_INT,2===n||4===n&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(t,e||a.indexBuffer.data.length,o,(r||0)*n,i||1):s.drawElements(t,e||a.indexBuffer.data.length,o,(r||0)*n):console.warn("unsupported index buffer type: uint32")):a.instanced?s.drawArraysInstanced(t,r,e||a.getSize(),i||1):s.drawArrays(t,r,e||a.getSize()),this},ae.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ae);function ae(t){t=ie.call(this,t)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}var ue=(le.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=g.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},le.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},le);function le(t){void 0===t&&(t=null),this.type=g.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}function he(t,e,r){e=t.createShader(e);return t.shaderSource(e,r),t.compileShader(e),e}function ce(t,e,r,i){var n=he(t,t.VERTEX_SHADER,e),o=he(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(n))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function pe(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function de(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return pe(2*e);case"bvec3":return pe(3*e);case"bvec4":return pe(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var fe,me={},ge=me;function ve(){var t,e;return(ge===me||ge&&ge.isContextLost())&&(t=document.createElement("canvas"),e=void 0,m.settings.PREFER_ENV>=g.ENV.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),ge=e),ge}function ye(t,e,r){if("precision"===t.substring(0,9))return r!==g.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var i=e;return e===g.PRECISION.HIGH&&r!==g.PRECISION.HIGH&&(i=g.PRECISION.MEDIUM),"precision "+i+" float;\n"+t}var _e={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};var be=null,xe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function we(t,e){if(!be){var r=Object.keys(xe);be={};for(var i=0;i<r.length;++i){var n=r[i];be[t[n]]=xe[n]}}return be[e]}var Ee=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Se={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Te={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Pe,Ae=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ie(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=Ae.replace(/%forloop%/gi,function(t){for(var e="",r=0;r<t;++r)0<r&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var Oe=0,Me={},Ce=(De.prototype.extractData=function(t,e){var r=ve();r?(e=ce(r,t,e),this.attributeData=this.getAttributeData(e,r),this.uniformData=this.getUniformData(e,r),r.deleteProgram(e)):(this.uniformData={},this.attributeData={})},De.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=we(e,s.type),a={type:a,name:s.name,size:_e[a],location:0};r[s.name]=a,i.push(a)}i.sort(function(t,e){return t.name>e.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},De.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=we(e,o.type);r[s]={type:u,size:o.size,isArray:a,value:de(u,o.size)}}return r},Object.defineProperty(De,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(De,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),De.from=function(t,e,r){var i=t+e,n=v.ProgramCache[i];return n||(v.ProgramCache[i]=n=new De(t,e,r)),n},De);function De(t,e,r){void 0===r&&(r="pixi-shader"),this.id=Oe++,this.vertexSrc=t||De.defaultVertexSrc,this.fragmentSrc=e||De.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Me[r]?(Me[r]++,r+="-"+Me[r]):Me[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=ye(this.vertexSrc,m.settings.PRECISION_VERTEX,g.PRECISION.HIGH),this.fragmentSrc=ye(this.fragmentSrc,m.settings.PRECISION_FRAGMENT,(fe||(fe=g.PRECISION.MEDIUM,(r=ve())&&r.getShaderPrecisionFormat&&(r=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT),fe=r.precision?g.PRECISION.HIGH:g.PRECISION.MEDIUM)),fe))),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}var Re=(Le.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Le.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Le.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Le.from=function(t,e,r){return new Le(Ce.from(t,e),r)},Le);function Le(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ft?e:new Ft(e):new Ft({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}var Ne=(Object.defineProperty(Fe.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==g.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Fe.for2d=function(){var t=new Fe;return t.depthTest=!1,t.blend=!0,t},Fe);function Fe(){this.data=0,this.blendMode=g.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}var ke,E=(a(Be,ke=Re),Be.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i)},Object.defineProperty(Be.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Be,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Be,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),Be);function Be(t,e,r){var i=this,e=Ce.from(t||Be.defaultVertexSrc,e||Be.defaultFragmentSrc);return(i=ke.call(this,e,r)||this).padding=0,i.resolution=m.settings.FILTER_RESOLUTION,i.enabled=!0,i.autoFit=!0,i.legacy=!!i.program.attributeData.aTextureCoord,i.state=new Ne,i}var je=new u.Matrix,Ue=(Object.defineProperty(He.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),He.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},He.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(je.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(je));t=e.baseTexture,r=this.uClampFrame,i=this.clampMargin/t.resolution,n=this.clampOffset;return r[0]=(e._frame.x+i+n)/t.width,r[1]=(e._frame.y+i+n)/t.height,r[2]=(e._frame.x+e._frame.width-i+n)/t.width,r[3]=(e._frame.y+e._frame.height-i+n)/t.height,this.uClampOffset[0]=n/t.realWidth,this.uClampOffset[1]=n/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},He);function He(t,e){this._texture=t,this.mapCoord=new u.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}var Ge,ze=(a(Xe,Ge=E),Xe.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Ue(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,i))},Xe);function Xe(t){var e=this,r=new u.Matrix,e=Ge.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this;return t.renderable=!1,e.maskSprite=t,e.maskMatrix=r,e}var We,Ye=(a(qe,We=K),qe.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},qe.prototype.push=function(t,e){var r,i=e;switch(i.isMaskData||((r=this.maskDataPool.pop()||new ue).pooled=!0,r.maskObject=e,i=r),i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=t,i.type){case g.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case g.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case g.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},qe.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case g.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case g.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case g.MASK_TYPES.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},qe.prototype.detect=function(t){var e,r=t.maskObject;r.isSprite?t.type=g.MASK_TYPES.SPRITE:(t.type=g.MASK_TYPES.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()&&(e=r.worldTransform,r=Math.atan2(e.b,e.a),e=Math.atan2(e.d,e.c),r=Math.round(r*(180/Math.PI)*100),e=((e=Math.round(e*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3==e&&(t.type=g.MASK_TYPES.SCISSOR)))},qe.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];(i=i||(this.alphaMaskPool[this.alphaMaskIndex]=[new ze(e)]))[0].resolution=this.renderer.resolution,i[0].maskSprite=e;t=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=t,this.alphaMaskIndex++},qe.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},qe);function qe(t){t=We.call(this,t)||this;return t.enableScissor=!1,t.alphaMaskPool=[],t.maskDataPool=[],t.maskStack=[],t.alphaMaskIndex=0,t}var Ve,P=(a($e,Ve=K),$e.prototype.getStackLength=function(){return this.maskStack.length},$e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==r&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},$e.prototype._useCurrent=function(){},$e.prototype.destroy=function(){Ve.prototype.destroy.call(this),this.maskStack=null},$e);function $e(t){t=Ve.call(this,t)||this;return t.maskStack=[],t.glConst=0,t}var Ke,Qe=(a(Ze,Ke=P),Ze.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},Ze.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,i=e.getBounds(!0),n=this.renderer.gl;e.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},Ze.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},Ze.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=(e||this.renderer).resolution,r=(t.x-n.x)*s+o.x,n=(t.y-n.y)*s+o.y,o=t.width*s,t=t.height*s;i&&(r+=i.tx*s,n+=i.ty*s),e||(n=this.renderer.height-t-n),this.renderer.gl.scissor(r,n,o,t)},Ze);function Ze(t){t=Ke.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}var Je,tr=(a(er,Je=P),er.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},er.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},er.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},er.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},er.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},er);function er(t){t=Je.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}var rr,ir=(a(nr,rr=K),nr.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},nr.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix,i=i?-1:1;n.identity(),n.a=1/e.width*2,n.d=i*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-i-e.y*n.d},nr.prototype.setTransform=function(t){},nr);function nr(t){t=rr.call(this,t)||this;return t.destinationFrame=null,t.sourceFrame=null,t.defaultFrame=null,t.projectionMatrix=new u.Matrix,t.transform=null,t}var or,sr=new u.Rectangle,ar=new u.Rectangle,ur=new u.Rectangle,lr=(a(hr,or=K),hr.prototype.bind=function(t,e,r){void 0===t&&(t=null);var i,n,o,s=this.renderer;(this.current=t)?(o=(i=t.baseTexture).resolution,e||(sr.width=t.frame.width,sr.height=t.frame.height,e=sr),r||(ar.x=t.frame.x,ar.y=t.frame.y,ar.width=e.width,ar.height=e.height,r=ar),n=i.framebuffer):(o=s.resolution,e||(sr.width=s.screen.width,sr.height=s.screen.height,e=sr),r||((r=sr).width=e.width,r.height=e.height)),ur.x=r.x*o,ur.y=r.y*o,ur.width=r.width*o,ur.height=r.height*o,this.renderer.framebuffer.bind(n,ur),this.renderer.projection.update(r,e,o,!n),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},hr.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},hr.prototype.resize=function(){this.bind(null)},hr.prototype.reset=function(){this.bind(null)},hr);function hr(t){var e=or.call(this,t)||this;return e.clearColor=t._backgroundColorRgba,e.defaultMaskStack=[],e.current=null,e.sourceFrame=new u.Rectangle,e.destinationFrame=new u.Rectangle,e}var N=function(){},cr=(pr.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},pr);function pr(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}var dr,fr=0,mr={textureCount:0},gr=(a(vr,dr=K),vr.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Pe)return Pe;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Pe=!0===t({a:"b"},"a","b")}catch(t){Pe=!1}return Pe}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},vr.prototype.contextChange=function(t){this.gl=t,this.reset()},vr.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(mr.textureCount=0,this.syncUniformGroup(t.uniformGroup,mr)),i},vr.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},vr.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},vr.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},vr.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r,i=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(r in t.uniforms){var n=e[r];if(n){for(var o,s=t.uniforms[r],a=!1,u=0;u<Ee.length;u++)if(Ee[u].test(n,s)){i.push(Ee[u].code(r,s)),a=!0;break}a||(o=(1===n.size?Se:Te)[n.type].replace("location",'ud["'+r+'"].location'),i.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+o+";"))}else t.uniforms[r].group&&i.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},vr.prototype.getSignature=function(t,e){var r,i=[];for(r in t.uniforms)i.push(r),e[r]&&i.push(e[r].type);return i.join("-")},vr.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},vr.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(n in r.attributeData)i[n]=r.attributeData[n].location;var n,o=ce(e,r.vertexSrc,r.fragmentSrc,i),s={};for(n in r.uniformData){var a=r.uniformData[n];s[n]={location:e.getUniformLocation(o,n),value:de(a.type,a.size)}}t=new cr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=t},vr.prototype.reset=function(){this.program=null,this.shader=null},vr.prototype.destroy=function(){this.destroyed=!0},vr);function vr(t){t=dr.call(this,t)||this;return t.destroyed=!1,t.systemCheck(),t.gl=null,t.shader=null,t.program=null,t.cache={},t.id=fr++,t}var yr,_r=(a(br,yr=K),br.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,void 0===e&&(e=[]),e[g.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[g.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.NONE]=[0,0],e[g.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[g.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[g.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[g.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[g.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[g.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[g.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[g.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},br.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},br.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},br.prototype.setBlend=function(t){this.updateCheck(br.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},br.prototype.setOffset=function(t){this.updateCheck(br.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},br.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},br.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},br.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},br.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},br.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},br.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},br.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},br.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},br.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},br);function br(t){t=yr.call(this,t)||this;return t.gl=null,t.stateId=0,t.polygonOffset=0,t.blendMode=g.BLEND_MODES.NONE,t._blendEq=!1,t.map=[],t.map[0]=t.setBlend,t.map[1]=t.setOffset,t.map[2]=t.setCullFace,t.map[3]=t.setDepthTest,t.map[4]=t.setFrontFace,t.checks=[],t.defaultState=new Ne,t.defaultState.blend=!0,t}var xr,wr=(a(Er,xr=K),Er.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==g.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Er.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),r=!(e[i]=null))}if(r){for(var o=0,i=0;i<e.length;i++)null!==e[i]&&(e[o++]=e[i]);e.length=o}},Er.prototype.unload=function(t){var e,r=this.renderer.texture;null!==(e=t._texture)&&void 0!==e&&e.framebuffer&&r.destroyTexture(t._texture);for(var i=t.children.length-1;0<=i;i--)this.unload(t.children[i])},Er);function Er(t){t=xr.call(this,t)||this;return t.count=0,t.checkCount=0,t.maxIdle=m.settings.GC_MAX_IDLE,t.checkCountMax=m.settings.GC_MAX_CHECK_COUNT,t.mode=m.settings.GC_MODE,t}var Sr,Tr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Pr=(a(Ar,Sr=K),Ar.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Tr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Tr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},Ar.prototype.bind=function(t,e){void 0===e&&(e=0);var r,i=this.gl;t?(t=t.castToBaseTexture()).parentTextureArray||t.valid&&(t.touched=this.renderer.textureGC.count,r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null)},Ar.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Ar.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[i]=null)},Ar.prototype.initTexture=function(t){var e=new Tr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Ar.prototype.initTextureType=function(t,e){var r;e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion&&(r=this.renderer.gl,t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===g.TYPES.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F))},Ar.prototype.updateTexture=function(t){var e,r,i,n=t._glTextures[this.CONTEXT_UID];n&&(i=this.renderer,this.initTextureType(t,n),t.resource&&t.resource.upload(i,t,n)||(e=t.realWidth,r=t.realHeight,i=i.gl,(n.width!==e||n.height!==r||n.dirtyId<0)&&(n.width=e,n.height=r,i.texImage2D(t.target,0,n.internalFormat,e,r,0,t.format,n.type,null))),t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId)},Ar.prototype.destroyTexture=function(t,e){var r=this.gl;(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e||-1!==(t=this.managedTextures.indexOf(t))&&v.removeItems(this.managedTextures,t,1))},Ar.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==g.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=g.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Ar.prototype.setStyle=function(t,e){var r,i=this.gl;e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===g.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST),(r=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===g.SCALE_MODES.LINEAR&&(e=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,e))):i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===g.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===g.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},Ar);function Ar(t){t=Sr.call(this,t)||this;return t.boundTextures=[],t.currentLocation=-1,t.managedTextures=[],t._unknownBoundTextures=!1,t.unknownTexture=new f,t}var Ir,H={FilterSystem:Ht,BatchSystem:Yt,ContextSystem:Kt,FramebufferSystem:ee,GeometrySystem:se,MaskSystem:Ye,ScissorSystem:Qe,StencilSystem:tr,ProjectionSystem:ir,RenderTextureSystem:lr,ShaderSystem:gr,StateSystem:_r,TextureGCSystem:wr,TextureSystem:Pr},Or=new u.Matrix,X=(a(Mr,Ir=v.EventEmitter),Mr.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(Mr.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(Mr.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),Mr.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},Mr.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);r=ft.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:r});return Or.tx=-i.x,Or.ty=-i.y,this.render(t,r,!1,Or,!!t.parent),r},Mr.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);t=this;t.plugins=null,t.type=g.RENDERER_TYPE.UNKNOWN,t.view=null,t.screen=null,t._tempDisplayObjectParent=null,t.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(Mr.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=v.hex2string(t),v.hex2rgb(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Mr);function Mr(t,e){void 0===t&&(t=g.RENDERER_TYPE.UNKNOWN);var r=Ir.call(this)||this;return(e=Object.assign({},m.settings.RENDER_OPTIONS,e)).roundPixels&&(m.settings.ROUND_PIXELS=e.roundPixels,v.deprecation("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=e,r.type=t,r.screen=new u.Rectangle(0,0,e.width,e.height),r.view=e.view||document.createElement("canvas"),r.resolution=e.resolution||m.settings.RESOLUTION,r.transparent=e.transparent,r.autoDensity=e.autoDensity||e.autoResize||!1,r.preserveDrawingBuffer=e.preserveDrawingBuffer,r.clearBeforeRender=e.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=e.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}var Cr,Dr=(a(Rr,Cr=X),Rr.create=function(t){if(v.isWebGLSupported())return new Rr(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},Rr.prototype.addSystem=function(t,e){e=e||t.name;var r,i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(r in this[e]=i,this.runners)this.runners[r].add(i);return this},Rr.prototype.render=function(t,e,r,i,n){this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,this.context.isLost||(e||(this._lastObjectRendered=t),n||(n=t.enableTempParent(),t.updateTransform(),t.disableTempParent(n)),this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},Rr.prototype.resize=function(t,e){Cr.prototype.resize.call(this,t,e),this.runners.resize.emit(t,e)},Rr.prototype.reset=function(){return this.runners.reset.emit(),this},Rr.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},Rr.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();Cr.prototype.destroy.call(this,t),this.gl=null},Rr.registerPlugin=function(t,e){(Rr.__plugins=Rr.__plugins||{})[t]=e},Rr);function Rr(t){var e=Cr.call(this,g.RENDERER_TYPE.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new i.Runner("destroy"),contextChange:new i.Runner("contextChange"),reset:new i.Runner("reset"),update:new i.Runner("update"),postrender:new i.Runner("postrender"),prerender:new i.Runner("prerender"),resize:new i.Runner("resize")},e.globalUniforms=new Ft({projectionMatrix:new u.Matrix},!0),e.addSystem(Ye,"mask").addSystem(Kt,"context").addSystem(_r,"state").addSystem(gr,"shader").addSystem(Pr,"texture").addSystem(se,"geometry").addSystem(ee,"framebuffer").addSystem(Qe,"scissor").addSystem(tr,"stencil").addSystem(ir,"projection").addSystem(wr,"textureGC").addSystem(Ht,"filter").addSystem(lr,"renderTexture").addSystem(Yt,"batch"),e.initPlugins(Rr.__plugins),t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:t.antialias,premultipliedAlpha:e.transparent&&"notMultiplied"!==e.transparent,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,v.sayHello(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}var Lr=function(){this.texArray=null,this.blend=0,this.type=g.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},Nr=(Fr.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},Fr);function Fr(){this.elements=[],this.ids=[],this.count=0}var kr=(Object.defineProperty(Br.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(Br.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(Br.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(Br.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(Br.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),Br.prototype.view=function(t){return this[t+"View"]},Br.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Br.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Br);function Br(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}var jr,Ur=(a(Hr,jr=zt),Hr.prototype.contextChange=function(){var t=this.renderer.gl;m.settings.PREFER_ENV===g.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Ie(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},Hr.prototype.initFlushBuffers=function(){for(var t=Hr._drawCallPool,e=Hr._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new Lr);for(;e.length<i;)e.push(new Nr);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},Hr.prototype.onPrerender=function(){this._flushId=0},Hr.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},Hr.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,r=Hr._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++f._globalBatch,a=0,u=r[0],l=0;i.copyBoundTextures(n,e);for(var h=0;h<this._bufferSize;++h){var c=t[h];t[h]=null,c._batchEnabled!==s&&(u.count>=e&&(i.boundArray(u,n,s,e),this.buildDrawCalls(u,l,h),l=h,u=r[++a],++s),c._batchEnabled=s,c.touched=o,u.elements[u.count++]=c)}0<u.count&&(i.boundArray(u,n,s,e),this.buildDrawCalls(u,l,this._bufferSize),++a,++s);for(h=0;h<n.length;h++)n[h]=null;f._globalBatch=s},Hr.prototype.buildDrawCalls=function(t,e,r){var i=this._bufferedElements,n=this._attributeBuffer,o=this._indexBuffer,s=this.vertexSize,a=Hr._drawCallPool,u=this._dcIndex,l=this._aIndex,h=this._iIndex,c=a[u];c.start=this._iIndex,c.texArray=t;for(var p=e;p<r;++p){var d=i[p],f=d._texture.baseTexture,f=v.premultiplyBlendMode[f.alphaMode?1:0][d.blendMode];i[p]=null,e<p&&c.blend!==f&&(c.size=h-c.start,e=p,(c=a[++u]).texArray=t,c.start=h),this.packInterleavedGeometry(d,n,o,l,h),l+=d.vertexData.length/2*s,h+=d.indices.length,c.blend=f}e<r&&(c.size=h-c.start,++u),this._dcIndex=u,this._aIndex=l,this._iIndex=h},Hr.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},Hr.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,r=this._indexBuffer;m.settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},Hr.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,r=e.gl,i=e.state,n=Hr._drawCallPool,o=null,s=0;s<t;s++){var a=n[s],u=a.texArray,l=a.type,h=a.size,c=a.start,a=a.blend;o!==u&&(o=u,this.bindAndClearTexArray(u)),this.state.blendMode=a,i.set(this.state),r.drawElements(l,h,r.UNSIGNED_SHORT,2*c)}},Hr.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},Hr.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),m.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},Hr.prototype.stop=function(){this.flush()},Hr.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),jr.prototype.destroy.call(this)},Hr.prototype.getAttributeBuffer=function(t){var e=v.nextPow2(Math.ceil(t/8)),t=v.log2(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new kr(e*this.vertexSize*4)),t},Hr.prototype.getIndexBuffer=function(t){var e=v.nextPow2(Math.ceil(t/12)),r=v.log2(e),t=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);e=this._iBuffers[r];return e||(this._iBuffers[r]=e=new Uint16Array(t)),e},Hr.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,u=t.uvs,l=t.indices,h=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),p=e<1&&t._texture.baseTexture.alphaMode?v.premultiplyTint(t._tintRGB,e):t._tintRGB+(255*e<<24),d=0;d<h.length;d+=2)s[i++]=h[d],s[i++]=h[d+1],s[i++]=u[d],s[i++]=u[d+1],o[i++]=p,s[i++]=c;for(d=0;d<l.length;d++)r[n++]=a+l[d]},Hr._drawCallPool=[],Hr._textureArrayPool=[],Hr);function Hr(t){var e=jr.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Ne.for2d(),e.size=4*m.settings.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}var Gr=(zr.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Ft.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ce(this.vertexSrc,i)}i={tint:new Float32Array([1,1,1,1]),translationMatrix:new u.Matrix,default:this.defaultGroupCache[t]};return new Re(this.programCache[t],i)},zr.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)0<r&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},zr);function zr(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}var Xr,Wr=(a(Yr,Xr=t),Yr);function Yr(t){void 0===t&&(t=!1);var e=Xr.call(this)||this;return e._buffer=new xt(null,t,!1),e._indexBuffer=new xt(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,g.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,g.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,g.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,g.TYPES.FLOAT).addIndex(e._indexBuffer),e}var qr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Vr="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",q=($r.create=function(t){var e,t=Object.assign({vertex:qr,fragment:Vr,geometryClass:Wr,vertexSize:6},t),r=t.vertex,i=t.fragment,n=t.vertexSize,o=t.geometryClass;return a(s,e=Ur),s;function s(t){t=e.call(this,t)||this;return t.shaderGenerator=new Gr(r,i),t.geometryClass=o,t.vertexSize=n,t}},Object.defineProperty($r,"defaultVertexSrc",{get:function(){return qr},enumerable:!1,configurable:!0}),Object.defineProperty($r,"defaultFragmentTemplate",{get:function(){return Vr},enumerable:!1,configurable:!0}),$r);function $r(){}P=q.create();r.AbstractBatchRenderer=Ur,r.AbstractRenderer=X,r.Attribute=yt,r.BaseRenderTexture=nt,r.BaseTexture=f,r.BatchDrawCall=Lr,r.BatchGeometry=Wr,r.BatchPluginFactory=q,r.BatchRenderer=P,r.BatchShaderGenerator=Gr,r.BatchTextureArray=Nr,r.Buffer=xt,r.Filter=E,r.FilterState=Bt,r.Framebuffer=et,r.GLFramebuffer=Jt,r.GLProgram=cr,r.GLTexture=Tr,r.Geometry=t,r.IGLUniformData=N,r.MaskData=ue,r.ObjectRenderer=zt,r.Program=Ce,r.Quad=Mt,r.QuadUv=Rt,r.RenderTexture=ft,r.RenderTexturePool=gt,r.Renderer=Dr,r.Shader=Re,r.SpriteMaskFilter=ze,r.State=Ne,r.System=K,r.Texture=ht,r.TextureMatrix=Ue,r.TextureUvs=st,r.UniformGroup=Ft,r.ViewableBuffer=kr,r.autoDetectRenderer=function(t){return Dr.create(t)},r.checkMaxIfStatementsInShader=Ie,r.defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",r.defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",r.resources=$,r.systems=H,r.uniformParsers=Ee},{"@pixi/constants":3,"@pixi/math":16,"@pixi/runner":25,"@pixi/settings":26,"@pixi/ticker":33,"@pixi/utils":34}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/settings"),o=t("@pixi/math"),s=t("@pixi/utils");i.settings.SORTABLE_CHILDREN=!1;var a=(n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?o.Rectangle.EMPTY:((t=t||new o.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1],e=o<e?o:e,r=s<r?s:r,i=i<o?o:i,n=n<s?s:n;e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=i<o?o:i,n=n<s?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=i<o?o:i,n=n<s?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=i<o?o:i,n=n<s?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},n.prototype.addFrame=function(t,e,r,i,n){this.addFrameMatrix(t.worldTransform,e,r,i,n)},n.prototype.addFrameMatrix=function(t,e,r,i,n){var o=t.a,s=t.b,a=t.c,u=t.d,l=t.tx,h=t.ty,c=o*e+a*r+l,p=s*e+u*r+h,d=c<(d=this.minX)?c:d,f=p<(f=this.minY)?p:f,m=(m=this.maxX)<c?c:m,t=(t=this.maxY)<p?p:t;d=(c=o*i+a*r+l)<d?c:d,f=(p=s*i+u*r+h)<f?p:f,m=m<c?c:m,t=t<p?p:t,d=(c=o*e+a*n+l)<d?c:d,f=(p=s*e+u*n+h)<f?p:f,m=m<c?c:m,t=t<p?p:t,d=(c=o*i+a*n+l)<d?c:d,f=(p=s*i+u*n+h)<f?p:f,m=m<c?c:m,t=t<p?p:t,this.minX=d,this.minY=f,this.maxX=m,this.maxY=t},n.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2)var u=t[a],l=t[a+1],i=u<i?u:i,n=l<n?l:n,o=o<u?u:o,s=s<l?l:s;this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},n.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},n.prototype.addVerticesMatrix=function(t,e,r,i,n,o){void 0===n&&(n=0),void 0===o&&(o=n);for(var s=t.a,a=t.b,u=t.c,l=t.d,h=t.tx,c=t.ty,p=this.minX,d=this.minY,f=this.maxX,m=this.maxY,g=r;g<i;g+=2)var v=e[g],y=e[g+1],_=s*v+u*y+h,v=l*y+a*v+c,p=Math.min(p,_-n),f=Math.max(f,_+n),d=Math.min(d,v-o),m=Math.max(m,v+o);this.minX=p,this.minY=d,this.maxX=f,this.maxY=m},n.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},n.prototype.addBoundsMask=function(t,e){var r,i,n=(t.minX>e.minX?t:e).minX,o=(t.minY>e.minY?t:e).minY,s=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;n<=s&&o<=a&&(r=this.minX,i=this.minY,t=this.maxX,e=this.maxY,this.minX=n<r?n:r,this.minY=o<i?o:i,this.maxX=t<s?s:t,this.maxY=e<a?a:e)},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var r,i,n=t.minX>e.x?t.minX:e.x,o=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;n<=s&&o<=a&&(r=this.minX,i=this.minY,t=this.maxX,e=this.maxY,this.minX=n<r?n:r,this.minY=o<i?o:i,this.maxX=t<s?s:t,this.maxY=e<a?a:e)},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,r,i,n,o){t-=n,e-=o,r+=n,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},n);function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function l(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var h,c=(l(p,h=s.EventEmitter),p.mixin=function(t){for(var e=Object.keys(t),r=0;r<e.length;++r){var i=e[r];Object.defineProperty(p.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},p.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},p.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},p.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new o.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},p.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new a);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-n,t},p.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},p.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},p.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},p.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=u,this},p.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(p.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new f),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),p.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},p.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(p.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"angle",{get:function(){return this.transform.rotation*o.RAD_TO_DEG},set:function(t){this.transform.rotation=t*o.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1),this._mask=t,this._mask&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),p);function p(){var t=h.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new o.Transform,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new a,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}var d,f=(l(m,d=c),m);function m(){var t=null!==d&&d.apply(this,arguments)||this;return t.sortDirty=null,t}function g(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}c.prototype.displayObjectUpdateTransform=c.prototype.updateTransform;var v,t=(l(y,v=c),y.prototype.onChildrenChange=function(t){},y.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var n=e[0];n.parent&&n.parent.removeChild(n),(n.parent=this).sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},y.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},y.prototype.swapChildren=function(t,e){var r,i;t!==e&&(r=this.getChildIndex(t),i=this.getChildIndex(e),this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i))},y.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},y.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);s.removeItems(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},y.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},y.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(1<e.length)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var n=e[0],o=this.children.indexOf(n);if(-1===o)return null;n.parent=null,n.transform._parentID=-1,s.removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),n.emit("removed",this),this.emit("childRemoved",n,this,o)}return e[0]},y.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,s.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},y.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,i=e-t;if(0<i&&i<=e){r=this.children.splice(t,i);for(var n=0;n<r.length;++n)r[n].parent=null,r[n].transform&&(r[n].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(n=0;n<r.length;++n)r[n].emit("removed",this),this.emit("childRemoved",r[n],this,n);return r}if(0==i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},y.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(g),this.sortDirty=!1},y.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},y.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,r=this.children[t];r.visible&&r.renderable&&(r.calculateBounds(),r._mask?((e=r._mask.maskObject||r._mask).calculateBounds(),this._bounds.addBoundsMask(r._bounds,e._bounds)):r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds))}this._bounds.updateID=this._boundsID},y.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=v.prototype.getLocalBounds.call(this,t);if(!e)for(var r=0,i=this.children.length;r<i;++r){var n=this.children[r];n.visible&&n.updateTransform()}return t},y.prototype._calculateBounds=function(){},y.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},y.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var i=this._enabledFilters.length=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var i=0,n=this.children.length;i<n;i++)this.children[i].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},y.prototype._render=function(t){},y.prototype.destroy=function(t){v.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(e)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(y.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),y);function y(){var t=v.call(this)||this;return t.children=[],t.sortableChildren=i.settings.SORTABLE_CHILDREN,t.sortDirty=!1,t}t.prototype.containerUpdateTransform=t.prototype.updateTransform,r.Bounds=a,r.Container=t,r.DisplayObject=c,r.TemporaryDisplayObject=f},{"@pixi/math":16,"@pixi/settings":26,"@pixi/utils":34}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=t("@pixi/utils"),i=t("@pixi/math"),c=t("@pixi/core"),p=new i.Rectangle,i=(d.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},d.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},d.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof c.RenderTexture?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=p).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e+1e-4),u=Math.floor(r.height*e+1e-4),l=new h.CanvasRenderTarget(a,u,1),t=new Uint8Array(4*a*u),n=n.gl;n.readPixels(r.x*e,r.y*e,a,u,n.RGBA,n.UNSIGNED_BYTE,t);a=l.context.getImageData(0,0,a,u);return d.arrayPostDivide(t,a.data),l.context.putImageData(a,0,0),o&&((o=new h.CanvasRenderTarget(l.width,l.height,1)).context.scale(1,-1),o.context.drawImage(l.canvas,0,-u),l.destroy(),l=o),s&&i.destroy(!0),l.canvas},d.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof c.RenderTexture?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=p).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,t=new Uint8Array(4*s*a),n=n.gl;return n.readPixels(r.x*e,r.y*e,s,a,n.RGBA,n.UNSIGNED_BYTE,t),o&&i.destroy(!0),d.arrayPostDivide(t,t),t},d.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},d.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},d);function d(t){(this.renderer=t).extract=this}r.Extract=i},{"@pixi/core":4,"@pixi/math":16,"@pixi/utils":34}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var o,s,a,t=(o=i.Filter,n(s=l,a=o),s.prototype=null===a?Object.create(a):(u.prototype=a.prototype,new u),Object.defineProperty(l.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),l);function u(){this.constructor=s}function l(t){void 0===t&&(t=1);var e=o.call(this,i.defaultVertex,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}r.AlphaFilter=t},{"@pixi/core":4}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),a=t("@pixi/settings"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var h,l={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},c=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(t={})[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",(t={})[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",(t={})[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",(t={})[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",(t={})[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",(t={})[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(t={})[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(t={})[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT",(t={})[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",(t={})[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(t={})[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",(t={})[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",(t=h=h||{})[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",(t={})[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",(t={}).LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",(t={})[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",(t={})[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH";var p,s=(o(d,p=i.Filter),d.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,h.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(s,h.BLIT);var l=this.uniforms.uSampler=a,a=s,s=l;o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},Object.defineProperty(d.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),d);function d(t,e,r,i,n){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=a.settings.FILTER_RESOLUTION),void 0===n&&(n=5);var o=this,s=function(t,e){for(var r=Math.ceil(t/2),i=u,n="",o=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",s=0;s<t;s++)n+=o.replace("%index%",s.toString()).replace("%sampleIndex%",s-(r-1)+".0"),n+="\n";return i=(i=i.replace("%blur%",n)).replace("%size%",t.toString())}(n,t),n=function(t){for(var e=l[t],r=e.length,i=c,n="",o=0;o<t;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString()),a=r<=o?t-o-1:o;n+=s=s.replace("%value%",e[a].toString()),n+="\n"}return i=(i=i.replace("%blur%",n)).replace("%size%",t.toString())}(n);return(o=p.call(this,s,n)||this).horizontal=t,o.resolution=i,o._quality=0,o.quality=r,o.blur=e,o}var f,i=(o(m,f=i.Filter),m.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);n&&o?(n=t.getFilterTexture(),this.blurXFilter.apply(t,e,n,h.CLEAR),this.blurYFilter.apply(t,n,r,i),t.returnFilterTexture(n)):(o?this.blurYFilter:this.blurXFilter).apply(t,e,r,i)},m.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(m.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),m);function m(t,e,r,i){void 0===t&&(t=8),void 0===e&&(e=4),void 0===r&&(r=a.settings.FILTER_RESOLUTION),void 0===i&&(i=5);var n=f.call(this)||this;return n.blurXFilter=new s(!0,t,e,r,i),n.blurYFilter=new s(!1,t,e,r,i),n.resolution=r,n.quality=e,n.blur=t,n.repeatEdgePixels=!1,n}r.BlurFilter=i,r.BlurFilterPass=s},{"@pixi/core":4,"@pixi/settings":26}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var o,s,a,t=(o=i.Filter,n(s=l,a=o),s.prototype=null===a?Object.create(a):(u.prototype=a.prototype,new u),l.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},l.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},l.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},l.prototype.brightness=function(t,e){t=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(t,e)},l.prototype.greyscale=function(t,e){t=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(t,e)},l.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},l.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,t=(0,Math.sqrt)(n),r=[r+(1-r)*n,n*(1-r)-t*i,n*(1-r)+t*i,0,0,n*(1-r)+t*i,r+n*(1-r),n*(1-r)-t*i,0,0,n*(1-r)-t*i,n*(1-r)+t*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(r,e)},l.prototype.contrast=function(t,e){var r=(t||0)+1,t=-.5*(r-1),t=[r,0,0,0,t,0,r,0,0,t,0,0,r,0,t,0,0,0,1,0];this._loadMatrix(t,e)},l.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,t=-.5*(r-1),r=[r,t,t,0,0,t,r,t,0,0,t,t,r,0,0,0,0,0,1,0];this._loadMatrix(r,e)},l.prototype.desaturate=function(){this.saturate(-1)},l.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},l.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},l.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},l.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},l.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},l.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},l.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},l.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},l.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,u=((i=i||3375104)>>16&255)/255,r=(i>>8&255)/255,i=(255&i)/255,i=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,u,r,i,e=e||.15,0,o-u,s-r,a-i,0,0];this._loadMatrix(i,n)},l.prototype.night=function(t,e){t=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(t,e)},l.prototype.predator=function(t,e){t=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(t,e)},l.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},l.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(l.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),l);function u(){this.constructor=s}function l(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=o.call(this,i.defaultFilterVertex,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}t.prototype.grayscale=t.prototype.greyscale,r.ColorMatrixFilter=t},{"@pixi/core":4}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),n=t("@pixi/math"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var s,a,u,i=(s=i.Filter,o(a=h,u=s),a.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l),h.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},Object.defineProperty(h.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),h);function l(){this.constructor=a}function h(t,e){var r=this,i=new n.Matrix;return t.renderable=!1,(r=s.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null==e&&(e=20),r.scale=new n.Point(e,e),r}r.DisplacementFilter=i},{"@pixi/core":4,"@pixi/math":16}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=t("@pixi/core"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var n,o,s,t=(n=t.Filter,i(o=u,s=n),o.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a),u);function a(){this.constructor=o}function u(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}r.FXAAFilter=t},{"@pixi/core":4}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var o,s,a,t=(o=i.Filter,n(s=l,a=o),s.prototype=null===a?Object.create(a):(u.prototype=a.prototype,new u),Object.defineProperty(l.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),l);function u(){this.constructor=s}function l(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var r=o.call(this,i.defaultFilterVertex,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=e,r}r.NoiseFilter=t},{"@pixi/core":4}],13:[function(t,e,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var f=t("@pixi/core"),X=t("@pixi/math"),c=t("@pixi/utils"),g=t("@pixi/constants"),r=t("@pixi/display");(h=z.LINE_JOIN||(z.LINE_JOIN={})).MITER="miter",h.BEVEL="bevel",h.ROUND="round",(T=z.LINE_CAP||(z.LINE_CAP={})).BUTT="butt",T.ROUND="round",T.SQUARE="square";var W={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},i=(n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=f.Texture.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n);function n(){this.color=16777215,this.alpha=1,this.texture=f.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function s(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var a={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(6<=r.length){for(var s=[],a=0;a<i.length;a++){var u=i[a];s.push(r.length/2),r=r.concat(u.points)}var l=c.earcut(r,s,2);if(l){for(var h=n.length/2,a=0;a<l.length;a+=3)o.push(l[a]+h),o.push(l[a+1]+h),o.push(l[a+2]+h);for(a=0;a<r.length;a++)n.push(r[a])}}}},u={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,r=t.type===X.SHAPES.CIRC?(e=i.radius,i.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+r));a/=2.3;for(var u=2*Math.PI/a,l=0;l<a-.5;l++)n.push(o+Math.sin(-u*l)*e,s+Math.cos(-u*l)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o,a=t.shape,u=t.matrix,e=a.x,a=a.y;i.push(t.matrix?u.a*e+u.c*a+u.tx:e,t.matrix?u.b*e+u.d*a+u.ty:a);for(var l=0;l<r.length;l+=2)i.push(r[l],r[l+1]),n.push(o++,s,o)}},t={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,e=e.height,t=t.points;t.length=0,t.push(r,i,r+n,i,r+n,i+e,r,i+e)},triangulate:function(t,e){var r=t.points,i=e.points,t=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function v(t,e,r){return t+(e-t)*r}function l(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a,u,l,h,c,p,d,f=s,m=0;m<=20;++m)a=v(t,r,d=m/20),u=v(e,i,d),l=v(r,n,d),h=v(i,o,d),c=v(a,l,d),p=v(u,h,d),f.push(c,p);return f}var h={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(o,t)/2));r.length=0,e?(l(i,n+e,i,n,i+e,n,r),l(i+o-e,n,i+o,n,i+o,n+e,r),l(i+o,n+t-e,i+o,n+t,i+o-e,n+t,r),l(i+e,n+t,i,n+t,i,n+t-e,r)):r.push(i,n,i+o,n,i+o,n+t,i,n+t)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=c.earcut(r,null,2),a=0,u=s.length;a<u;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(a=0,u=r.length;a<u;a++)i.push(r[a],r[++a])}};function Y(t,e,r,i,n,o,s,a){var u=s?(l=i,-r):(l=-i,r),s=t-r*n+l,n=e-i*n+u,l=t+r*o+l,u=e+i*o+u;return a.push(s,n),a.push(l,u),2}function q(t,e,r,i,n,o,s,a){var u=r-t,l=i-e,h=Math.atan2(u,l),c=Math.atan2(n-t,o-e);a&&h<c?h+=2*Math.PI:!a&&c<h&&(c+=2*Math.PI);var p=h,c=c-h,h=Math.abs(c),d=Math.sqrt(u*u+l*l),f=1+(15*h*Math.sqrt(d)/Math.PI>>0),m=c/f;if(p+=m,a){s.push(t,e),s.push(r,i);for(var g=1,v=p;g<f;g++,v+=m)s.push(t,e),s.push(t+Math.sin(v)*d,e+Math.cos(v)*d);s.push(t,e),s.push(n,o)}else{s.push(r,i),s.push(t,e);for(g=1,v=p;g<f;g++,v+=m)s.push(t+Math.sin(v)*d,e+Math.cos(v)*d),s.push(t,e);s.push(n,o),s.push(t,e)}return 2*f}function p(u,t){u.lineStyle.native?function(t){var e=0,r=u.shape,i=u.points||r.points,r=r.type!==X.SHAPES.POLY||r.closeStroke;if(0!==i.length){var n=t.points,o=t.indices,s=i.length/2,t=n.length/2,a=t;for(n.push(i[0],i[1]),e=1;e<s;e++)n.push(i[2*e],i[2*e+1]),o.push(a,a+1),a++;r&&o.push(a,t)}}(t):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0!==i.length){var o=t.lineStyle,s=new X.Point(i[0],i[1]),t=new X.Point(i[i.length-2],i[i.length-1]),r=r.type!==X.SHAPES.POLY||r.closeStroke,n=Math.abs(s.x-t.x)<n&&Math.abs(s.y-t.y)<n;r&&(i=i.slice(),n&&(i.pop(),i.pop(),t.set(i[i.length-2],i[i.length-1])),n=.5*(s.x+t.x),T=.5*(t.y+s.y),i.unshift(n,T),i.push(n,T));var a,u,l=e.points,h=i.length/2,c=i.length,p=l.length/2,d=o.width/2,f=d*d,m=o.miterLimit*o.miterLimit,g=i[0],v=i[1],y=i[2],_=i[3],b=0,x=0,w=-(v-_),E=g-y,S=Math.sqrt(w*w+E*E);w/=S,E/=S,w*=d,E*=d;var T=o.alignment,P=2*(1-T),A=2*T;r||(o.cap===z.LINE_CAP.ROUND?c+=q(g-w*(P-A)*.5,v-E*(P-A)*.5,g-w*P,v-E*P,g+w*A,v+E*A,l,!0)+2:o.cap===z.LINE_CAP.SQUARE&&(c+=Y(g,v,w,E,P,A,!0,l))),l.push(g-w*P,v-E*P),l.push(g+w*A,v+E*A);for(var I=1;I<h-1;++I){g=i[2*(I-1)],v=i[2*(I-1)+1],y=i[2*I],_=i[2*I+1],b=i[2*(I+1)],x=i[2*(I+1)+1],w=-(v-_),E=g-y,w/=S=Math.sqrt(w*w+E*E),E/=S,w*=d,E*=d,a=-(_-x),u=y-b,a/=S=Math.sqrt(a*a+u*u),u/=S,a*=d,u*=d;var O,M,C,D,R,L,N=y-g,F=v-_,k=y-b,B=x-_,j=F*k-B*N,U=j<0;Math.abs(j)<.1?(l.push(y-w*P,_-E*P),l.push(y+w*A,_+E*A)):(C=y+((O=(N*(L=(-a+b)*(-u+_)-(-a+y)*(-u+x))-k*(R=(-w+g)*(-E+_)-(-w+y)*(-E+v)))/j)-y)*P,D=_+((M=(B*R-F*L)/j)-_)*P,R=y-(O-y)*A,L=_-(M-_)*A,j=U?P:A,(M=(O-y)*(O-y)+(M-_)*(M-_))<=Math.min(N*N+F*F,k*k+B*B)+j*j*f?o.join===z.LINE_JOIN.BEVEL||m<M/f?(U?(l.push(C,D),l.push(y+w*A,_+E*A),l.push(C,D),l.push(y+a*A,_+u*A)):(l.push(y-w*P,_-E*P),l.push(R,L),l.push(y-a*P,_-u*P),l.push(R,L)),c+=2):o.join===z.LINE_JOIN.ROUND?U?(l.push(C,D),l.push(y+w*A,_+E*A),c+=q(y,_,y+w*A,_+E*A,y+a*A,_+u*A,l,!0)+4,l.push(C,D),l.push(y+a*A,_+u*A)):(l.push(y-w*P,_-E*P),l.push(R,L),c+=q(y,_,y-w*P,_-E*P,y-a*P,_-u*P,l,!1)+4,l.push(y-a*P,_-u*P),l.push(R,L)):(l.push(C,D),l.push(R,L)):(l.push(y-w*P,_-E*P),l.push(y+w*A,_+E*A),o.join===z.LINE_JOIN.BEVEL||m<M/f||(o.join===z.LINE_JOIN.ROUND?c+=U?q(y,_,y+w*A,_+E*A,y+a*A,_+u*A,l,!0)+2:q(y,_,y-w*P,_-E*P,y-a*P,_-u*P,l,!1)+2:(U?(l.push(R,L),l.push(R,L)):(l.push(C,D),l.push(C,D)),c+=2)),l.push(y-a*P,_-u*P),l.push(y+a*A,_+u*A),c+=2))}g=i[2*(h-2)],v=i[2*(h-2)+1],y=i[2*(h-1)],w=-(v-(_=i[2*(h-1)+1])),E=g-y,w/=S=Math.sqrt(w*w+E*E),E/=S,w*=d,E*=d,l.push(y-w*P,_-E*P),l.push(y+w*A,_+E*A),r||(o.cap===z.LINE_CAP.ROUND?c+=q(y-w*(P-A)*.5,_-E*(P-A)*.5,y-w*P,_-E*P,y+w*A,_+E*A,l,!1)+2:o.cap===z.LINE_CAP.SQUARE&&(c+=Y(y,_,w,E,P,A,!1,l)));for(var H=e.indices,G=W.epsilon*W.epsilon,I=p;I<c+p-2;++I)g=l[2*I],v=l[2*I+1],y=l[2*(I+1)],_=l[2*(I+1)+1],b=l[2*(I+2)],x=l[2*(I+2)+1],Math.abs(g*(_-x)+y*(x-v)+b*(v-_))<G||H.push(I,I+1,I+2)}}(u,t)}var d,m=(s(y,d=X.Polygon),y);function y(t,e,r,i,n,o){void 0===o&&(o=0);n=n||i/2;for(var s=-1*Math.PI/2+o,a=2*r,u=X.PI_2/a,l=[],h=0;h<a;h++){var c=h%2?n:i,p=h*u+s;l.push(t+c*Math.cos(p),e+c*Math.sin(p))}return d.call(this,l)||this}var _=(b.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,u=s-t,l=i-e,h=r-t,c=Math.abs(a*h-u*l);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var p=a*a+u*u,d=l*l+h*h,s=a*l+u*h,i=n*Math.sqrt(p)/c,r=n*Math.sqrt(d)/c,o=i*s/p,c=r*s/d,p=i*h+r*u,s=i*l+r*a,d=u*(r+o),r=a*(r+o),o=h*(i+c),c=l*(i+c);return{cx:p+t,cy:s+e,radius:n,startAngle:Math.atan2(r-s,d-p),endAngle:Math.atan2(c-s,o-p),anticlockwise:h*a<u*l}},b.arc=function(t,e,r,i,n,o,s,a,u){for(var l=s-o,s=W._segmentsCount(Math.abs(l)*n,40*Math.ceil(Math.abs(l)/X.PI_2)),h=l/(2*s),c=2*h,p=Math.cos(h),d=Math.sin(h),f=s-1,m=f%1/f,g=0;g<=f;++g){var v=h+o+c*(g+m*g),y=Math.cos(v),v=-Math.sin(v);u.push((p*y+d*v)*n+r,(p*-v+d*y)*n+i)}},b);function b(){}var x=(w.curveLength=function(t,e,r,i,n,o,s,a){for(var u,l,h,c,p,d,f,m,g,v,y=0,_=t,b=e,x=1;x<=10;++x)g=_-(f=(d=(p=(c=1-(u=x/10))*c)*c)*t+3*p*u*r+3*c*(l=u*u)*n+(h=l*u)*s),v=b-(m=d*e+3*p*u*i+3*c*l*o+h*a),_=f,b=m,y+=Math.sqrt(g*g+v*v);return y},w.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],u=s[s.length-1];s.length-=2;var l,h,c,p,d,f=W._segmentsCount(w.curveLength(a,u,t,e,r,i,n,o));s.push(a,u);for(var m,g=1;g<=f;++g)c=(h=(l=1-(m=g/f))*l)*l,d=(p=m*m)*m,s.push(c*a+3*h*m*t+3*l*p*r+d*n,c*u+3*h*m*e+3*l*p*i+d*o)},w);function w(){}var E=(S.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,n=2*r-2*t,o=2*i-2*e,r=4*(s*s+a*a),t=4*(s*n+a*o),i=n*n+o*o,e=2*Math.sqrt(r+t+i),s=Math.sqrt(r),a=2*r*s,n=2*Math.sqrt(i),o=t/s;return(a*e+s*t*(e-n)+(4*i*r-t*t)*Math.log((2*s+o+e)/(o+n)))/(4*a)},S.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=W._segmentsCount(S.curveLength(o,s,t,e,r,i)),u=1;u<=a;++u){var l=u/a,h=o+(t-o)*l,c=s+(e-s)*l;n.push(h+(t+(r-t)*l-h)*l,c+(e+(i-e)*l-c)*l)}},S);function S(){}var T,P=(A.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},A.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},A.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},A);function A(){this.reset()}var I=((T={})[X.SHAPES.POLY]=a,T[X.SHAPES.CIRC]=u,T[X.SHAPES.ELIP]=u,T[X.SHAPES.RECT]=t,T[X.SHAPES.RREC]=h,T),O=[],M=[],t={buildPoly:a,buildCircle:u,buildRectangle:t,buildRoundedRectangle:h,FILL_COMMANDS:I,BATCH_POOL:O,DRAW_CALL_POOL:M,buildLine:p,Star:m,ArcUtils:_,BezierUtils:x,QuadraticUtils:E,BatchPart:P},C=(D.prototype.clone=function(){return new D(this.shape,this.fillStyle,this.lineStyle,this.matrix)},D.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},D);function D(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}var R,L=new X.Point,N=new r.Bounds,F=(s(k,R=f.BatchGeometry),Object.defineProperty(k.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),k.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),M.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),O.push(e)}this.batches.length=0},k.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},k.prototype.drawShape=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null);i=new C(t,e,r,i);return this.graphicsData.push(i),this.dirty++,this},k.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;t=new C(t,null,null,e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},k.prototype.destroy=function(){R.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},k.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,L):L.copyFrom(t),i.shape.contains(L.x,L.y)))){var n=!1;if(i.holes)for(var o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(L.x,L.y)){n=!0;break}if(!n)return!0}}return!1},k.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,i=null,n=null;0<this.batches.length&&(n=(i=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var s=r[o],a=s.fillStyle,u=s.lineStyle;I[s.type].build(s),s.matrix&&this.transformPoints(s.points,s.matrix);for(var l=0;l<2;l++){var h,c,p,d=0===l?a:u;d.visible&&(p=d.texture.baseTexture,h=this.indices.length,c=this.points.length/2,p.wrapMode=g.WRAP_MODES.REPEAT,0===l?this.processFill(s):this.processLine(s),0!=(p=this.points.length/2-c)&&(i&&!this._compareStyles(n,d)&&(i.end(h,c),i=null),i||((i=O.pop()||new P).begin(d,h,c),this.batches.push(i),n=d),this.addUvs(this.points,e,d.texture,c,p,d.matrix)))}}var f=this.indices.length,m=this.points.length/2;i&&i.end(f,m),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):(t=65535<m&&t,this.indicesUint16=new(t?Uint32Array:Uint16Array)(this.indices)),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},k.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},k.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],i=r.fillStyle,r=r.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},k.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var i=t[e],n=0;n<i.size;n++){var o=i.start+n;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}},k.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*k.BATCHABLE_SIZE},k.prototype.buildDrawCalls=function(){for(var t=++f.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),M.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=M.pop();n||((n=new f.BatchDrawCall).texArray=new f.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=g.DRAW_MODES.TRIANGLES;var o,s=0,a=null,u=!1,l=g.DRAW_MODES.TRIANGLES,h=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var c=this.batches[e],p=c.style,d=p.texture.baseTexture;u!==!!p.native&&(l=(u=!!p.native)?g.DRAW_MODES.LINES:g.DRAW_MODES.TRIANGLES,a=null,s=8,t++),a!==d&&(a=d)._batchEnabled!==t&&(8===s&&(t++,(s=0)<n.size&&((n=M.pop())||((n=new f.BatchDrawCall).texArray=new f.BatchTextureArray),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=l),d.touched=1,d._batchEnabled=t,d._batchLocation=s,d.wrapMode=10497,n.texArray.elements[n.texArray.count++]=d,s++),n.size+=c.size,h+=c.size,o=d._batchLocation,this.addColors(r,p.color,p.alpha,c.attribSize),this.addTextureIds(i,o,c.attribSize)}f.BaseTexture._globalBatch=t,this.packAttributes()},k.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*t.length*4),o=new Float32Array(n),s=new Uint32Array(n),a=0,u=0;u<t.length/2;u++)o[a++]=t[2*u],o[a++]=t[2*u+1],o[a++]=e[2*u],o[a++]=e[2*u+1],s[a++]=r[u],o[a++]=i[u];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},k.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),a.triangulate(t,this)):I[t.type].triangulate(t,this)},k.prototype.processLine=function(t){p(t,this);for(var e=0;e<t.holes.length;e++)p(t.holes[e],this)},k.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];I[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},k.prototype.calculateBounds=function(){var t=this._bounds,e=N,r=X.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],o=n.shape,s=n.type,a=n.lineStyle,u=n.matrix||X.Matrix.IDENTITY,l=0;a&&a.visible&&(n=a.alignment,l=a.width,s===X.SHAPES.POLY?l*=.5+Math.abs(.5-n):l*=Math.max(0,n)),r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),s===X.SHAPES.RECT||s===X.SHAPES.RREC?e.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,l,l):s===X.SHAPES.CIRC?e.addFramePad(o.x,o.y,o.x,o.y,o.radius+l,o.radius+l):s===X.SHAPES.ELIP?e.addFramePad(o.x,o.y,o.x,o.y,o.width+l,o.height+l):t.addVerticesMatrix(r,o.points,0,o.points.length,l,l)}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},k.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},k.prototype.addColors=function(t,e,r,i){for(var e=(e>>16)+(65280&e)+((255&e)<<16),n=c.premultiplyTint(e,r);0<i--;)t.push(n)},k.prototype.addTextureIds=function(t,e,r){for(;0<r--;)t.push(e)},k.prototype.addUvs=function(t,e,r,i,n,o){void 0===o&&(o=null);for(var s=0,a=e.length,u=r.frame;s<n;){var l,h=t[2*(i+s)],c=t[2*(i+s)+1];o&&(l=o.a*h+o.c*c+o.tx,c=o.b*h+o.d*c+o.ty,h=l),s++,e.push(h/u.width,c/u.height)}var p=r.baseTexture;(u.width<p.width||u.height<p.height)&&this.adjustUvs(e,r,a,n)},k.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,e=e.frame,s=e.width/n.width,a=e.height/n.height,u=e.x/e.width,l=e.y/e.height,h=Math.floor(t[r]+1e-6),c=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)h=Math.min(h,Math.floor(t[p]+1e-6)),c=Math.min(c,Math.floor(t[p+1]+1e-6));u-=h,l-=c;for(p=r;p<o;p+=2)t[p]=(t[p]+u)*s,t[p+1]=(t[p+1]+l)*a},k.BATCHABLE_SIZE=100,k);function k(){var t=R.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new r.Bounds,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}var B,j=(s(U,B=i),U.prototype.clone=function(){var t=new U;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},U.prototype.reset=function(){B.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},U);function U(){var t=null!==B&&B.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=z.LINE_CAP.BUTT,t.join=z.LINE_JOIN.MITER,t.miterLimit=10,t}var H,G=new Float32Array(3),V={},h=(s($,H=r.Container),Object.defineProperty($.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),$.prototype.clone=function(){return this.finishPoly(),new $(this._geometry)},Object.defineProperty($.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),$.prototype.lineStyle=function(t){var e;return void 0===t&&(t=null),"number"==typeof t&&(t={width:(e=arguments)[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}),this.lineTextureStyle(t)},$.prototype.lineTextureStyle=function(e){"number"==typeof e&&(c.deprecation("v5.2.0","Please use object-based options for Graphics#lineTextureStyle"),e={width:(t=arguments)[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({width:0,texture:f.Texture.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:z.LINE_CAP.BUTT,join:z.LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=0<e.width&&0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},$.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1)},$.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},$.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},$.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},$.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},$.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),E.curveTo(t,e,r,i,n),this},$.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),x.curveTo(t,e,r,i,n,o,this.currentPath.points),this},$.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,t=_.curveTo(t,e,r,i,n,o);return t&&(e=t.cx,r=t.cy,i=t.radius,n=t.startAngle,o=t.endAngle,t=t.anticlockwise,this.arc(e,r,i,n,o,t)),this},$.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=X.PI_2:o&&i<=n&&(i+=X.PI_2),0==n-i)return this;var s,a,u=t+Math.cos(i)*r,l=e+Math.sin(i)*r,h=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(s=Math.abs(c[c.length-2]-u),a=Math.abs(c[c.length-1]-l),s<h&&a<h||c.push(u,l)):(this.moveTo(u,l),c=this.currentPath.points),_.arc(u,l,t,e,r,i,n,o,c),this},$.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:f.Texture.WHITE,color:t,alpha:e})},$.prototype.beginTextureFill=function(e){e instanceof f.Texture&&(c.deprecation("v5.2.0","Please use object-based options for Graphics#beginTextureFill"),e={texture:(t=arguments)[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})),e=Object.assign({texture:f.Texture.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=0<e.alpha;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},$.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},$.prototype.drawRect=function(t,e,r,i){return this.drawShape(new X.Rectangle(t,e,r,i))},$.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new X.RoundedRectangle(t,e,r,i,n))},$.prototype.drawCircle=function(t,e,r){return this.drawShape(new X.Circle(t,e,r))},$.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new X.Ellipse(t,e,r,i))},$.prototype.drawPolygon=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=!0,n=e[0],n=n.points?(i=n.closeStroke,n.points):Array.isArray(e[0])?e[0]:e,n=new X.Polygon(n);return n.closeStroke=i,this.drawShape(n),this},$.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},$.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new m(t,e,r,i,n,o))},$.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},$.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===X.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},$.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},$.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),n={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:c.hex2rgb(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=n}},$.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},$.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,u=s.length;a<u;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},$.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,i=e.type,n=e.size,e=e.start,o=r.count,s=0;s<o;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(i,n,e)},$.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!V[r]){for(var i=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(i),o=0;o<i;o++)n[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new X.Matrix,default:f.UniformGroup.from({uSamplers:n},!0)},t=t.plugins[r]._shader.program;V[r]=new f.Shader(t,s)}e=V[r]}return e},$.prototype._calculateBounds=function(){this.finishPoly();var t,e,r,i=this._geometry;i.graphicsData.length&&(t=(r=i.bounds).minX,e=r.minY,i=r.maxX,r=r.maxY,this._bounds.addFrame(this.transform,t,e,i,r))},$.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,$._TEMP_POINT),this._geometry.containsPoint($._TEMP_POINT)},$.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=c.hex2rgb(this.tint,G),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,i=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},$.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,s=t.ty,a=this._geometry.points,u=this.vertexData,l=0,h=0;h<a.length;h+=2){var c=a[h],p=a[h+1];u[l++]=e*c+i*p+o,u[l++]=n*p+r*c+s}}},$.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},$.prototype.setMatrix=function(t){return this._matrix=t,this},$.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},$.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},$.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,H.prototype.destroy.call(this,t)},$._TEMP_POINT=new X.Point,$);function $(t){void 0===t&&(t=null);var e=H.call(this)||this;return e._geometry=t||new F,e._geometry.refCount++,e.shader=null,e.state=f.State.for2d(),e._fillStyle=new i,e._lineStyle=new j,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=g.BLEND_MODES.NORMAL,e}z.FillStyle=i,z.GRAPHICS_CURVES=W,z.Graphics=h,z.GraphicsData=C,z.GraphicsGeometry=F,z.LineStyle=j,z.graphicsUtils=t},{"@pixi/constants":3,"@pixi/core":4,"@pixi/display":5,"@pixi/math":16,"@pixi/utils":34}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/math"),n=t("@pixi/ticker"),o=t("@pixi/display"),s=t("@pixi/utils"),a=(Object.defineProperty(u.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),u.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},u.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},u.prototype.reset=function(){this.isPrimary=!1},u);function u(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new i.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var h=(c.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},c.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},c);function c(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}var p=(d.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(d.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"none",{get:function(){return this._flags===d.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"over",{get:function(){return 0!=(this._flags&d.FLAGS.OVER)},set:function(t){this._doSet(d.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rightDown",{get:function(){return 0!=(this._flags&d.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(d.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leftDown",{get:function(){return 0!=(this._flags&d.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(d.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),d.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),d);function d(t){this._pointerId=t,this._flags=d.FLAGS.NONE}var f=(m.prototype.recursiveFindHit=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:u=i=!1),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;0<=h;h--){var c=l[h],p=this.recursiveFindHit(t,c,r,i,a);p&&c.parent&&(a=!1,p&&(t.target&&(i=!1),s=!0))}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},m.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},m);function m(){this._tempPoint=new i.Point}t={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};o.DisplayObject.mixin(t);var g,v,y,_={target:null,data:{global:null}},s=(g=s.EventEmitter,l(v=x,y=g),v.prototype=null===y?Object.create(y):(b.prototype=y.prototype,new b),Object.defineProperty(x.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),x.prototype.hitTest=function(t,e){return _.target=null,_.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(_,e,null,!0),_.target},x.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},x.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(n.Ticker.system.add(this.tickerUpdate,this,n.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},x.prototype.removeTickerListener=function(){this.tickerAdded&&(n.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},x.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},x.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},x.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},x.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData){var e;!this.activeInteractionData.hasOwnProperty(t)||(e=this.activeInteractionData[t]).originalEvent&&"touch"!==e.pointerType&&(e=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e),this.processInteractive(e,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}},x.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},x.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},x.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},x.prototype.mapPositionToPoint=function(t,e,r){var i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},x.prototype.processInteractive=function(t,e,r,i){var i=this.search.findHit(t,e,r,i),n=this.delayedEvents;if(!n.length)return i;t.stopPropagationHint=!1;var o=n.length;this.delayedEvents=[];for(var s=0;s<o;s++){var a=n[s],u=a.displayObject,l=a.eventString,a=a.eventData;a.stopsPropagatingAt===u&&(a.stopPropagationHint=!0),this.dispatchEvent(u,l,a)}return i},x.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);!this.autoPreventDefault||!e[0].isNormalized||!t.cancelable&&"cancelable"in t||t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,o);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===n.pointerType?this.emit("touchstart",o):"mouse"!==n.pointerType&&"pen"!==n.pointerType||(n=2===n.button,this.emit(n?"rightdown":"mousedown",this.eventData))}}},x.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;r&&(e.trackedPointers[n]||(e.trackedPointers[n]=new p(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==i.pointerType&&"pen"!==i.pointerType||((i=2===i.button)?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,i?"rightdown":"mousedown",t)))},x.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],u=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,u);l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===a.pointerType||"pen"===a.pointerType?(u=2===a.button,this.emit(u?"rightup"+o:"mouseup"+o,l)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(a.pointerId))}},x.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},x.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},x.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},x.prototype.processPointerUp=function(t,e,r){var i,n=t.data,o=t.data.identifier,s=e.trackedPointers[o],a="touch"===n.pointerType,u="mouse"===n.pointerType||"pen"===n.pointerType,l=!1;u&&(i=2===n.button,n=p.FLAGS,n=i?n.RIGHT_DOWN:n.LEFT_DOWN,n=void 0!==s&&s.flags&n,r?(this.dispatchEvent(e,i?"rightup":"mouseup",t),n&&(this.dispatchEvent(e,i?"rightclick":"click",t),l=!0)):n&&this.dispatchEvent(e,i?"rightupoutside":"mouseupoutside",t),s&&(i?s.rightDown=!1:s.leftDown=!1)),r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),s&&(u&&!l||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[o]},x.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,o);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===n.pointerType&&this.emit("touchmove",o),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},x.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,i="mouse"===i.pointerType||"pen"===i.pointerType;i&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),i&&this.dispatchEvent(e,"mousemove",t))},x.prototype.onPointerOut=function(t){var e,r;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),r=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,r)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(r.identifier))},x.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,i=e.trackedPointers[n];r&&!i&&(i=e.trackedPointers[n]=new p(n)),void 0!==i&&(r&&this.mouseOverRenderer?(i.over||(i.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):i.over&&(i.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),i.none&&delete e.trackedPointers[n]))},x.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},x.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new a).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},x.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},x.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},x.prototype.normalizeToPointerData=function(t){var e,r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var o=t.changedTouches[i];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,r.push(o)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?r.push(t):(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,r.push(e));return r},x.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},x);function b(){this.constructor=v}function x(t,e){var r=g.call(this)||this;return e=e||{},r.renderer=t,r.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,r.interactionFrequency=e.interactionFrequency||10,r.mouse=new a,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new h,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new f,r._tempDisplayObject=new o.TemporaryDisplayObject,r._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}r.InteractionData=a,r.InteractionEvent=h,r.InteractionManager=s,r.InteractionTrackingData=p,r.interactiveTarget=t},{"@pixi/display":5,"@pixi/math":16,"@pixi/ticker":33,"@pixi/utils":34}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("resource-loader"),n=t("@pixi/core"),o=i.Resource,s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var a=(u.use=function(t,e){t.data&&t.type===i.Resource.TYPE.IMAGE&&(t.texture=n.Texture.fromLoader(t.data,t.url,t.name)),e()},u);function u(){}var l,h,c,p=(l=i.Loader,s(h=f,c=l),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d),f.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(f,"shared",{get:function(){var t=f._shared;return t||((t=new f)._protected=!0,f._shared=t),t},enumerable:!1,configurable:!0}),f.registerPlugin=function(t){return f._plugins.push(t),t.add&&t.add(),f},f._plugins=[],f);function d(){this.constructor=h}function f(t,e){for(var r=l.call(this,t,e)||this,i=0;i<f._plugins.length;++i){var n=f._plugins[i],o=n.pre,n=n.use;o&&r.pre(o),n&&r.use(n)}return r._protected=!1,r}p.registerPlugin({use:i.middleware.parsing}),p.registerPlugin(a);m.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?p.shared:new p},m.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t=m;function m(){}r.AppLoaderPlugin=t,r.Loader=p,r.LoaderResource=o,r.TextureLoader=a},{"@pixi/core":4,"resource-loader":72}],16:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var u=2*Math.PI,r=180/Math.PI,i=Math.PI/180;(M=a.SHAPES||(a.SHAPES={}))[M.POLY=0]="POLY",M[M.RECT=1]="RECT",M[M.CIRC=2]="CIRC",M[M.ELIP=3]="ELIP",M[M.RREC=4]="RREC";var n=(Object.defineProperty(o.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(o,"EMPTY",{get:function(){return new o(0,0,0,0)},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},o.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},o.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},o.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},o.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(t-i,0),this},o.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},o.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=t-i,this},o);function o(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=a.SHAPES.RECT}var s=(l.prototype.clone=function(){return new l(this.x,this.y,this.radius)},l.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=r},l.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},l);function l(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=a.SHAPES.CIRC}var h=(c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)},c.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+(e*=e)<=1},c.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)},c);function c(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=a.SHAPES.ELIP}var p=(d.prototype.clone=function(){var t=new d(this.points.slice());return t.closeStroke=this.closeStroke,t},d.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],u=this.points[2*o],l=this.points[2*o+1];e<a!=e<l&&t<(e-a)/(l-a)*(u-s)+s&&(r=!r)}return r},d);function d(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var n=[],o=0,s=i.length;o<s;o++)n.push(i[o].x,i[o].y);i=n}this.points=i,this.type=a.SHAPES.POLY,this.closeStroke=!0}var f=(m.prototype.clone=function(){return new m(this.x,this.y,this.width,this.height,this.radius)},m.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},m);function m(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=a.SHAPES.RREC}var g=(v.prototype.clone=function(){return new v(this.x,this.y)},v.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},v.prototype.copyTo=function(t){return t.set(this.x,this.y),t},v.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},v.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},v);function v(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}var y=(_.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new _(t,e,this._x,this._y)},_.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},_.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},_.prototype.copyTo=function(t){return t.set(this._x,this._y),t},_.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(_.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),_);function _(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}var b=(x.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},x.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},x.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},x.prototype.apply=function(t,e){e=e||new g;var r=t.x,t=t.y;return e.x=this.a*r+this.c*t+this.tx,e.y=this.b*r+this.d*t+this.ty,e},x.prototype.applyInverse=function(t,e){e=e||new g;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,t=t.y;return e.x=this.d*r*i+-this.c*r*t+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},x.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},x.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},x.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,t=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=t*e-this.ty*r,this.ty=t*r+this.ty*e,this},x.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},x.prototype.setTransform=function(t,e,r,i,n,o,s,a,u){return this.a=Math.cos(s+u)*n,this.b=Math.sin(s+u)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},x.prototype.prepend=function(t){var e,r,i=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,r=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d),this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},x.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(u-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},x.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},x.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},x.prototype.clone=function(){var t=new x;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},x.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},x.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(x,"IDENTITY",{get:function(){return new x},enumerable:!1,configurable:!0}),Object.defineProperty(x,"TEMP_MATRIX",{get:function(){return new x},enumerable:!1,configurable:!0}),x);function x(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o}var w=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],E=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],S=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],T=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],P=[],A=[],I=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];P.push(e);for(var r=0;r<16;r++)for(var i=I(w[t]*w[r]+S[t]*E[r]),n=I(E[t]*w[r]+T[t]*E[r]),o=I(w[t]*S[r]+S[t]*T[r]),s=I(E[t]*S[r]+T[t]*T[r]),a=0;a<16;a++)if(w[a]===i&&E[a]===n&&S[a]===o&&T[a]===s){e.push(a);break}}for(t=0;t<16;t++){var u=new b;u.set(w[t],E[t],S[t],T[t],0,0),A.push(u)}}();var O={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return w[t]},uY:function(t){return E[t]},vX:function(t){return S[t]},vY:function(t){return T[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return P[t][e]},sub:function(t,e){return P[t][O.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?O.S:O.N:2*Math.abs(e)<=Math.abs(t)?0<t?O.E:O.W:0<e?0<t?O.SE:O.SW:0<t?O.NE:O.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);e=A[O.inv(e)];e.tx=r,e.ty=i,t.append(e)}},M=(C.prototype.onChange=function(){this._localID++},C.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},C.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},C.prototype.updateTransform=function(t){var e,r,i=this.localTransform;this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(r=this.worldTransform).a=i.a*e.a+i.b*e.c,r.b=i.a*e.b+i.b*e.d,r.c=i.c*e.a+i.d*e.c,r.d=i.c*e.b+i.d*e.d,r.tx=i.tx*e.a+i.ty*e.c+e.tx,r.ty=i.tx*e.b+i.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},C.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(C.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),C.IDENTITY=new C,C);function C(){this.worldTransform=new b,this.localTransform=new b,this.position=new y(this.onChange,this,0,0),this.scale=new y(this.onChange,this,1,1),this.pivot=new y(this.onChange,this,0,0),this.skew=new y(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}a.Circle=s,a.DEG_TO_RAD=i,a.Ellipse=h,a.Matrix=b,a.ObservablePoint=y,a.PI_2=u,a.Point=g,a.Polygon=p,a.RAD_TO_DEG=r,a.Rectangle=n,a.RoundedRectangle=f,a.Transform=M,a.groupD8=O},{}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("@pixi/mesh"),o=t("@pixi/constants"),a=t("@pixi/core"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u,l=(n(h,u=s.MeshGeometry),h.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,u=0;u<t;u++){var l=u%this.segWidth,h=u/this.segWidth|0;e.push(l*s,h*a),r.push(l/n,h/o)}for(var c=n*o,u=0;u<c;u++){var p=u%n,d=u/n|0,f=d*this.segWidth+p,m=d*this.segWidth+p+1,g=(1+d)*this.segWidth+p,p=(1+d)*this.segWidth+p+1;i.push(f,m,g,m,p,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},h);function h(t,e,r,i){void 0===t&&(t=100),void 0===e&&(e=100),void 0===r&&(r=10),void 0===i&&(i=10);var n=u.call(this)||this;return n.segWidth=r,n.segHeight=i,n.width=t,n.height=e,n.build(),n}var c,p=(n(d,c=s.MeshGeometry),Object.defineProperty(d.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),d.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,a=t[0],u=this._width*this.textureScale,l=t.length,h=0;h<l;h++){var c,p,d=4*h;0<this.textureScale?(c=a.x-t[h].x,p=a.y-t[h].y,p=Math.sqrt(c*c+p*p),a=t[h],s+=p/u):s=h/(l-1),n[d]=s,n[d+1]=0,n[d+2]=s,n[d+3]=1}for(var f=0,h=0;h<l-1;h++){d=2*h;o[f++]=d,o[f++]=d+1,o[f++]=d+2,o[f++]=d+2,o[f++]=d+1,o[f++]=d+3}r.update(),i.update(),this.updateVertices()}}},d.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],r=this.buffers[0].data,i=t.length,n=0;n<i;n++){var o=t[n],s=4*n,a=-((h=n<t.length-1?t[n+1]:o).x-e.x),u=h.y-e.y,l=Math.sqrt(u*u+a*a),h=0<this.textureScale?this.textureScale*this._width/2:this._width/2;u/=l,a/=l,u*=h,a*=h,r[s]=o.x+u,r[1+s]=o.y+a,r[2+s]=o.x-u,r[3+s]=o.y-a,e=o}this.buffers[0].update()}},d.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},d);function d(t,e,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=c.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return i.points=e,i._width=t,i.textureScale=r,i.build(),i}var f,m=(n(g,f=s.Mesh),g.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),f.prototype._render.call(this,t)},g);function g(t,e,r){void 0===r&&(r=0);var i=this,n=new p(t.height,e,r),e=new s.MeshMaterial(t);return 0<r&&(t.baseTexture.wrapMode=o.WRAP_MODES.REPEAT),(i=f.call(this,n,e)||this).autoUpdate=!0,i}var v,y=(n(_,v=s.Mesh),_.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(_.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),_.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),v.prototype._render.call(this,t)},_.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),v.prototype.destroy.call(this,t)},_);function _(t,e,r){var i=this,e=new l(t.width,t.height,e,r),r=new s.MeshMaterial(a.Texture.WHITE);return(i=v.call(this,e,r)||this).texture=t,i}var b,x=(n(w,b=s.Mesh),Object.defineProperty(w.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),w.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),b.prototype._render.call(this,t)},w);function w(t,e,r,i,n){void 0===t&&(t=a.Texture.EMPTY);var o=this,i=new s.MeshGeometry(e,r,i);i.getBuffer("aVertexPosition").static=!1;t=new s.MeshMaterial(t);return(o=b.call(this,i,t,null,n)||this).autoUpdate=!0,o}var E,t=(n(S,E=y),S.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(S.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),S.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},S.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},S.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(S.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),S.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},S);function S(t,e,r,i,n){void 0===e&&(e=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===n&&(n=10);var o=E.call(this,a.Texture.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=e,o._rightWidth=i,o._topHeight=r,o._bottomHeight=n,o.texture=t,o}r.NineSlicePlane=t,r.PlaneGeometry=l,r.RopeGeometry=p,r.SimpleMesh=x,r.SimplePlane=y,r.SimpleRope=m},{"@pixi/constants":3,"@pixi/core":4,"@pixi/mesh":18}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("@pixi/core"),n=t("@pixi/math"),s=t("@pixi/constants"),i=t("@pixi/display"),f=t("@pixi/settings"),a=t("@pixi/utils"),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function l(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var h=(c.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},c);function c(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var p,d=new n.Point,m=new n.Polygon,g=(l(v,p=i.Container),Object.defineProperty(v.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),v.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===s.DRAW_MODES.TRIANGLES&&e.length<2*v.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},v.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},v.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;e=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[e]),t.plugins[e].render(this)},v.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,u=r.ty,l=this.vertexData,h=0;h<l.length/2;h++){var c=e[2*h],p=e[2*h+1];l[2*h]=i*c+o*p+a,l[2*h+1]=n*c+s*p+u}if(this._roundPixels)for(var d=f.settings.RESOLUTION,h=0;h<l.length;++h)l[h]=Math.round((l[h]*d|0)/d);this.vertexDirty=t.vertexDirtyId}},v.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new h(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},v.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},v.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,d);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=m.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],u=2*i[s+1],l=2*i[s+2];if(r[0]=e[a],r[1]=e[1+a],r[2]=e[u],r[3]=e[1+u],r[4]=e[l],r[5]=e[1+l],m.contains(d.x,d.y))return!0}return!1},v.prototype.destroy=function(t){p.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},v.BATCHABLE_SIZE=100,v);function v(t,e,r,i){void 0===i&&(i=s.DRAW_MODES.TRIANGLES);var n=p.call(this)||this;return(n.geometry=t).refCount++,n.shader=e,n.state=r||o.State.for2d(),n.drawMode=i,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=0,n._transformID=-1,n._roundPixels=f.settings.ROUND_PIXELS,n.batchUvs=null,n}var y,t=(l(_,y=o.Shader),Object.defineProperty(_.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),_.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,a.premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},_);function _(t,e){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:n.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(i,e.uniforms),(r=y.call(this,e.program||o.Program.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new o.TextureMatrix(t),r.batchable=void 0===e.program,r.pluginName=e.pluginName,r.tint=e.tint,r.alpha=e.alpha,r}var b,i=(l(x,b=o.Geometry),Object.defineProperty(x.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),x);function x(t,e,r){var i=b.call(this)||this,t=new o.Buffer(t),e=new o.Buffer(e,!0),r=new o.Buffer(r,!0,!0);return i.addAttribute("aVertexPosition",t,2,!1,s.TYPES.FLOAT).addAttribute("aTextureCoord",e,2,!1,s.TYPES.FLOAT).addIndex(r),i._updateId=-1,i}r.Mesh=g,r.MeshBatchUvs=h,r.MeshGeometry=i,r.MeshMaterial=t},{"@pixi/constants":3,"@pixi/core":4,"@pixi/display":5,"@pixi/math":16,"@pixi/settings":26,"@pixi/utils":34}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=t("@pixi/core"),l=t("@pixi/sprite"),i=t("@pixi/display"),n=t("@pixi/math"),h=t("@pixi/utils"),c=t("@pixi/settings"),p=new n.Matrix;i.DisplayObject.prototype._cacheAsBitmap=!1,i.DisplayObject.prototype._cacheData=null;var o=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(i.DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new o),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),i.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},i.DisplayObject.prototype._initCachedDisplayObject=function(t){var e,r,i,n,o,s,a;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),r=this.getLocalBounds(null,!0).clone(),this.filters&&(s=this.filters[0].padding,r.pad(s)),r.ceil(c.settings.RESOLUTION),i=t.renderTexture.current,n=t.renderTexture.sourceFrame.clone(),o=t.projection.transform,a=u.RenderTexture.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+h.uid(),this._cacheData.textureCacheId=s,u.BaseTexture.addToCache(a.baseTexture,s),u.Texture.addToCache(a,s),s=this.transform.localTransform.copyTo(p).invert().translate(-r.x,-r.y),this.render=this._cacheData.originalRender,t.render(this,a,!0,s,!1),t.projection.transform=o,t.renderTexture.bind(i,n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(a=new l.Sprite(a)).transform.worldTransform=this.transform.worldTransform,a.anchor.x=-(r.x/r.width),a.anchor.y=-(r.y/r.height),a.alpha=e,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=a.containsPoint.bind(a))},i.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},i.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){var e,r,i,n,o,s;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),r=this.alpha,this.alpha=1,i=t.context,n=t._projTransform,e.ceil(c.settings.RESOLUTION),s=u.RenderTexture.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+h.uid(),this._cacheData.textureCacheId=o,u.BaseTexture.addToCache(s.baseTexture,o),u.Texture.addToCache(s,o),o=p,this.transform.localTransform.copyTo(o),o.invert(),o.tx-=e.x,o.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,s,!0,o,!1),t.context=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,(s=new l.Sprite(s)).transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(e.x/e.width),s.anchor.y=-(e.y/e.height),s.alpha=r,s._bounds=this._bounds,this._cacheData.sprite=s,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=s.containsPoint.bind(s))},i.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},i.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},i.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,u.BaseTexture.removeFromCache(this._cacheData.textureCacheId),u.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},i.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},r.CacheData=o},{"@pixi/core":4,"@pixi/display":5,"@pixi/math":16,"@pixi/settings":26,"@pixi/sprite":29,"@pixi/utils":34}],20:[function(t,e,r){"use strict";t=t("@pixi/display");t.DisplayObject.prototype.name=null,t.Container.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(t,!0);if(n)return n}return null}},{"@pixi/display":5}],21:[function(t,e,r){"use strict";var i=t("@pixi/display"),n=t("@pixi/math");i.DisplayObject.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new n.Point),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"@pixi/display":5,"@pixi/math":16}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("@pixi/constants"),i=t("@pixi/display"),m=t("@pixi/utils"),a=t("@pixi/core"),n=t("@pixi/math"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function u(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var l,t=(u(h,l=i.Container),h.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},h.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(h.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,m.hex2rgb(t,this.tintRgb)},enumerable:!1,configurable:!0}),h.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},h.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},h.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},h.prototype.destroy=function(t){l.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},h);function h(t,e,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var n=l.call(this)||this;return 16384<r&&(r=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=r,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=s.BLEND_MODES.NORMAL,n.autoResize=i,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}var c=(p.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new a.Buffer(m.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var r=this.dynamicStride=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=e,e+=o.size,this.dynamicStride+=o.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new a.Buffer(this.dynamicData,!1,!1);for(var n=0,r=this.staticStride=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=n,n+=o.size,this.staticStride+=o.size;i=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new a.Buffer(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];t.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===s.TYPES.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(r=0;r<this.staticProperties.length;++r){o=this.staticProperties[r];t.addAttribute(o.attributeName,this.staticBuffer,0,o.type===s.TYPES.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},p.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===s.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},p.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===s.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},p.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},p);function p(t,e,r){this.geometry=new a.Geometry,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n={attributeName:(n=t[i]).attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||s.TYPES.FLOAT,offset:n.offset};(e[i]?this.dynamicProperties:this.staticProperties).push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}var d,i=(u(f,d=a.ObjectRenderer),f.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){r<o&&!t.autoResize&&(o=r);var s=(s=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=m.correctBlendMode(t.blendMode,a.alphaMode),n.state.set(this.state);var u=n.gl,r=t.worldTransform.copyTo(this.tempMatrix);r.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=r.toArray(!0),this.shader.uniforms.uColor=m.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,h=0,c=0;h<o;h+=i,c+=1){var p=o-h;i<p&&(p=i),c>=s.length&&s.push(this._generateOneMoreBuffer(t));var d=s[c];d.uploadDynamic(e,h,p);var f=t._bufferUpdateIDs[c]||0;(l=l||d._updateID<f)&&(d._updateID=t._updateID,d.uploadStatic(e,h,p)),n.geometry.bind(d.geometry),u.drawElements(u.TRIANGLES,6*p,u.UNSIGNED_SHORT,0)}}},f.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new c(this.properties,n,i));return e},f.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new c(this.properties,t,e)},f.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],p=c._texture,d=c.scale.x,f=c.scale.y,m=p.trim,p=p.orig;m?(s=(a=m.x-c.anchor.x*p.width)+m.width,u=(l=m.y-c.anchor.y*p.height)+m.height):(s=p.width*(1-c.anchor.x),a=p.width*-c.anchor.x,u=p.height*(1-c.anchor.y),l=p.height*-c.anchor.y),i[o]=a*d,i[o+1]=l*f,i[o+n]=s*d,i[o+n+1]=l*f,i[o+2*n]=s*d,i[o+2*n+1]=u*f,i[o+3*n]=a*d,i[o+3*n+1]=u*f,o+=4*n}},f.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},f.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},f.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0),o+=4*n}},f.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],u=0<a._texture.baseTexture.alphaMode,l=a.alpha,l=l<1&&u?m.premultiplyTint(a._tintRGB,l):a._tintRGB+(255*l<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},f.prototype.destroy=function(){d.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},f);function f(t){t=d.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new n.Matrix,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:s.TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=a.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=a.State.for2d(),t}r.ParticleContainer=t,r.ParticleRenderer=i},{"@pixi/constants":3,"@pixi/core":4,"@pixi/display":5,"@pixi/math":16,"@pixi/utils":34}],23:[function(t,e,r){"use strict";var i,n=t("es6-promise-polyfill"),o=(i=t("object-assign"))&&"object"==typeof i&&"default"in i?i.default:i;window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=o);var s;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),window.performance&&window.performance.now||(s=Date.now(),window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s});for(var a=Date.now(),u=["ms","moz","webkit","o"],l=0;l<u.length&&!window.requestAnimationFrame;++l){var h=u[l];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,window.setTimeout(function(){a=Date.now(),t(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)},{"es6-promise-polyfill":36,"object-assign":64}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/settings"),o=t("@pixi/core"),s=t("@pixi/graphics"),a=t("@pixi/ticker"),n=t("@pixi/display"),u=t("@pixi/text");i.settings.UPLOADS_PER_FRAME=4;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var h=(c.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},c.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},c);function c(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function p(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i,n=0;n<t._textures.length;n++)t._textures[n]instanceof o.Texture&&(i=t._textures[n].baseTexture,-1===e.indexOf(i)&&(e.push(i),r=!0));return r}function d(t,e){if(t.baseTexture instanceof o.BaseTexture){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function f(t,e){if(t._texture&&t._texture instanceof o.Texture){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function m(t,e){return e instanceof u.Text&&(e.updateText(!0),!0)}function g(t,e){if(e instanceof u.TextStyle){e=e.toFontString();return u.TextMetrics.measureFont(e),!0}return!1}function v(t,e){if(t instanceof u.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function y(t,e){return t instanceof u.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}var _=(b.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY))):e&&e()},b.prototype.tick=function(){setTimeout(this.delayedTick,0)},b.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),r=this.completes.length=0,i=n.length;r<i;r++)n[r]()}},b.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},b.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},b.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},b.prototype.destroy=function(){this.ticking&&a.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},b);function b(t){var e=this;this.limiter=new h(i.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(v),this.registerFindHook(y),this.registerFindHook(p),this.registerFindHook(d),this.registerFindHook(f),this.registerUploadHook(m),this.registerUploadHook(g)}function x(t,e){return e instanceof o.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function w(t,e){if(!(e instanceof s.Graphics))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var o=i[n].style.texture;o&&x(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function E(t,e){return t instanceof s.Graphics&&(e.push(t),!0)}var S,T,P,A=(l(T=O,P=S=_),T.prototype=null===P?Object.create(P):(I.prototype=P.prototype,new I),O);function I(){this.constructor=T}function O(t){t=S.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(E),t.registerUploadHook(x),t.registerUploadHook(w),t}M.prototype.beginFrame=function(){this.frameStart=Date.now()},M.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t=M;function M(t){this.maxMilliseconds=t,this.frameStart=0}r.BasePrepare=_,r.CountLimiter=h,r.Prepare=A,r.TimeLimiter=t},{"@pixi/core":4,"@pixi/display":5,"@pixi/graphics":13,"@pixi/settings":26,"@pixi/text":32,"@pixi/ticker":33}],25:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=(n.prototype.emit=function(t,e,r,i,n,o,s,a){if(8<arguments.length)throw new Error("max arguments reached");var u=this.name,l=this.items;this._aliasCount++;for(var h=0,c=l.length;h<c;h++)l[h][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n);function n(t){this.items=[],this._name=t,this._aliasCount=0}Object.defineProperties(i.prototype,{dispatch:{value:i.prototype.emit},run:{value:i.prototype.emit}}),r.Runner=i},{}],26:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,n=((i=t("ismobilejs"))&&"object"==typeof i&&"default"in i?i.default:i)(window.navigator);var o,s,a,u={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(o=32,a=!0,(n.tablet||n.phone)&&(n.apple.device&&(s=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(s[1],10)<11&&(a=!1),n.android.device&&(s=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(s[1],10)<7&&(a=!1)),a?o:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:n.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!n.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};r.isMobile=n,r.settings=u},{ismobilejs:39}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/core"),n=t("@pixi/sprite"),o=t("@pixi/ticker"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var a,u,l,n=(a=n.Sprite,s(u=c,l=a),u.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h),c.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(o.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},c.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(o.Ticker.shared.add(this.update,this,o.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},c.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},c.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},c.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},c.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},c.prototype.destroy=function(t){this.stop(),a.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},c.fromFrames=function(t){for(var e=[],r=0;r<t.length;++r)e.push(i.Texture.from(t[r]));return new c(e)},c.fromImages=function(t){for(var e=[],r=0;r<t.length;++r)e.push(i.Texture.from(t[r]));return new c(e)},Object.defineProperty(c.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof i.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(o.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(o.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),c);function h(){this.constructor=u}function c(t,e){void 0===e&&(e=!0);var r=a.call(this,t[0]instanceof i.Texture?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=e,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}r.AnimatedSprite=n},{"@pixi/core":4,"@pixi/sprite":29,"@pixi/ticker":33}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@pixi/core"),o=t("@pixi/math"),i=t("@pixi/sprite"),d=t("@pixi/utils"),f=t("@pixi/constants"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u,l=new o.Point,t=(a(h,u=i.Sprite),Object.defineProperty(h.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),h.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},h.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},h.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},h.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):u.prototype.getLocalBounds.call(this,t)},h.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._width,r=this._height,t=-e*this.anchor._x;if(l.x>=t&&l.x<t+e){e=-r*this.anchor._y;if(l.y>=e&&l.y<e+r)return!0}return!1},h.prototype.destroy=function(t){u.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},h.from=function(t,e){return"number"==typeof e&&(d.deprecation("5.3.0","TilingSprite.from use options instead of width and height args"),e={width:e,height:arguments[2]}),new h(n.Texture.from(t,e),e.width,e.height)},Object.defineProperty(h.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),h);function h(t,e,r){void 0===e&&(e=100),void 0===r&&(r=100);var i=u.call(this,t)||this;return i.tileTransform=new o.Transform,i._width=e,i._height=r,i.uvMatrix=i.texture.uvMatrix||new n.TextureMatrix(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}var c,p="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",m=new o.Matrix,i=(a(g,c=n.ObjectRenderer),g.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,u=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==f.WRAP_MODES.CLAMP:o.wrapMode===f.WRAP_MODES.CLAMP&&(o.wrapMode=f.WRAP_MODES.REPEAT));var l=u?this.simpleShader:this.shader,h=n.width,c=n.height,p=t._width,i=t._height;m.set(s.a*h/p,s.b*h/i,s.c*c/p,s.d*c/i,s.tx/p,s.ty/i),m.invert(),u?m.prepend(a.mapCoord):(l.uniforms.uMapCoord=a.mapCoord.toArray(!0),l.uniforms.uClampFrame=a.uClampFrame,l.uniforms.uClampOffset=a.uClampOffset),l.uniforms.uTransform=m.toArray(!0),l.uniforms.uColor=d.premultiplyTintToRgba(t.tint,t.worldAlpha,l.uniforms.uColor,o.alphaMode),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=n,e.shader.bind(l),e.geometry.bind(r),this.state.blendMode=d.correctBlendMode(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},g);function g(t){var e=c.call(this,t)||this,t={globals:e.renderer.globalUniforms};return e.shader=n.Shader.from(p,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",t),e.simpleShader=n.Shader.from(p,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",t),e.quad=new n.QuadUv,e.state=n.State.for2d(),e}r.TilingSprite=t,r.TilingSpriteRenderer=i},{"@pixi/constants":3,"@pixi/core":4,"@pixi/math":16,"@pixi/sprite":29,"@pixi/utils":34}],29:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("@pixi/constants"),n=t("@pixi/core"),o=t("@pixi/display"),s=t("@pixi/math"),g=t("@pixi/settings"),a=t("@pixi/utils"),u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var l,h,c,p=new s.Point,d=new Uint16Array([0,1,2,0,2,3]),o=(l=o.Container,u(h=m,c=l),h.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f),m.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=a.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=a.sign(this.scale.y)*this._height/this._texture.orig.height)},m.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},m.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,p=0,d=0,e=0,t=0,e=l?(p=(d=l.x-c._x*h.width)+l.width,(t=l.y-c._y*h.height)+l.height):(p=(d=-c._x*h.width)+h.width,(t=-c._y*h.height)+h.height);if(u[0]=r*d+n*t+s,u[1]=o*t+i*d+a,u[2]=r*p+n*t+s,u[3]=o*t+i*p+a,u[4]=r*p+n*e+s,u[5]=o*e+i*p+a,u[6]=r*d+n*e+s,u[7]=o*e+i*d+a,this._roundPixels)for(var f=g.settings.RESOLUTION,m=0;m<u.length;++m)u[m]=Math.round((u[m]*f|0)/f)}},m.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,u=n.d,l=n.tx,h=n.ty,t=-i._x*r.width,n=t+r.width,i=-i._y*r.height,r=i+r.height;e[0]=o*t+a*i+l,e[1]=u*i+s*t+h,e[2]=o*n+a*i+l,e[3]=u*i+s*n+h,e[4]=o*n+a*r+l,e[5]=u*r+s*n+h,e[6]=o*t+a*r+l,e[7]=u*r+s*t+h},m.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},m.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},m.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):l.prototype.getLocalBounds.call(this,t)},m.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,p);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,t=0;return p.x>=i&&p.x<i+e&&(t=-r*this.anchor.y,p.y>=t&&p.y<t+r)},m.prototype.destroy=function(t){l.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},m.from=function(t,e){return new m(t instanceof n.Texture?t:n.Texture.from(t,e))},Object.defineProperty(m.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=a.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=a.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),m);function f(){this.constructor=h}function m(t){var e=l.call(this)||this;return e._anchor=new s.ObservablePoint(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=i.BLEND_MODES.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||n.Texture.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=d,e.pluginName="batch",e.isSprite=!0,e._roundPixels=g.settings.ROUND_PIXELS,e}r.Sprite=o},{"@pixi/constants":3,"@pixi/core":4,"@pixi/display":5,"@pixi/math":16,"@pixi/settings":26,"@pixi/utils":34}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=t("@pixi/math"),h=t("@pixi/core"),i=t("@pixi/utils"),o=t("@pixi/loaders"),s=(c.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,t=i.getResolutionOfUrl(t,null);return null===t&&(t=void 0!==e?parseFloat(e):1),1!==t&&this.baseTexture.setResolution(t),t},c.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=c.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},c.prototype._processFrames=function(t){for(var e=t,r=c.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i,n,o,s=this._frameKeys[e],a=this._frames[s],u=a.frame;u&&(i=o=null,n=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,n=new l.Rectangle(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),o=a.rotated?new l.Rectangle(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new l.Rectangle(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(i=new l.Rectangle(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[s]=new h.Texture(this.baseTexture,o,n,i,a.rotated?2:0,a.anchor),h.Texture.addToCache(this.textures[s],s)),e++}},c.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var i=e[t][r];this.animations[t].push(this.textures[i])}}},c.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},c.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*c.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*c.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},c.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},c.BATCH_SIZE=1e3,c);function c(t,e,r){void 0===r&&(r=null),this._texture=t instanceof h.Texture?t:null,this.baseTexture=t instanceof h.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(r||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}a.use=function(r,i){var t,e,n=r.name+"_image";r.data&&r.type===o.LoaderResource.TYPE.JSON&&r.data.frames&&!this.resources[n]?(t={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},e=a.getResourcePath(r,this.baseUrl),this.add(n,e,t,function(t){var e;t.error?i(t.error):(e=new s(t.texture,r.data,r.url)).parse(function(){r.spritesheet=e,r.textures=e.textures,i()})})):i()},a.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:i.url.resolve(t.url.replace(e,""),t.data.meta.image)},t=a;function a(){}r.Spritesheet=s,r.SpritesheetLoader=t},{"@pixi/core":4,"@pixi/loaders":15,"@pixi/math":16,"@pixi/utils":34}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var K=t("@pixi/math"),u=t("@pixi/settings"),Q=t("@pixi/mesh"),Z=t("@pixi/utils"),J=t("@pixi/core"),R=t("@pixi/text"),i=t("@pixi/display"),f=t("@pixi/loaders"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};var L=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},o=(s.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},s.parse=function(t){var e,r=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(e in r){var n,o=r[e].match(/^[a-z]+/gm)[0],s=r[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(n in s){var u=s[n].split("="),l=u[0],h=u[1].replace(/"/gm,""),u=parseFloat(h),u=isNaN(u)?h:u;a[l]=u}i[o].push(a)}var c=new L;return i.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),i.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),i.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),i.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),i.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),c},s);function s(){}var a=(l.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},l.parse=function(t){for(var e=new L,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),a=0;a<r.length;a++)e.info.push({face:r[a].getAttribute("face"),size:parseInt(r[a].getAttribute("size"),10)});for(a=0;a<i.length;a++)e.common.push({lineHeight:parseInt(i[a].getAttribute("lineHeight"),10)});for(a=0;a<n.length;a++)e.page.push({id:parseInt(n[a].getAttribute("id"),10)||0,file:n[a].getAttribute("file")});for(a=0;a<o.length;a++){var u=o[a];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(a=0;a<s.length;a++)e.kerning.push({first:parseInt(s[a].getAttribute("first"),10),second:parseInt(s[a].getAttribute("second"),10),amount:parseInt(s[a].getAttribute("amount"),10)});return e},l);function l(){}h.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return a.test(t)}return!1},h.parse=function(t){t=(new window.DOMParser).parseFromString(t,"text/xml");return a.parse(t)},t=h;function h(){}var c=[o,a,t];function m(t){for(var e=0;e<c.length;e++)if(c[e].test(t))return c[e];return null}function N(t,e,r,i,n,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,h=Math.ceil(t.width/i)-u-2*l,c=Math.ceil(t.height/i)-u-2*l,p=a.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var f=p.length+1,m=1;m<f;++m)d.push(m/f);if(p.unshift(a[0]),d.unshift(0),p.push(a[a.length-1]),d.push(1),r.fillGradientType===R.TEXT_GRADIENT.LINEAR_VERTICAL){s=e.createLinearGradient(h/2,l,h/2,c+l);for(var g=0,v=(o.fontProperties.fontSize+r.strokeThickness)/c,m=0;m<n.length;m++)for(var y=o.lineHeight*m,_=0;_<p.length;_++){var b=y/c+("number"==typeof d[_]?d[_]:_/p.length)*v,b=Math.max(g,b),b=Math.min(b,1);s.addColorStop(b,p[_]),g=b}}else{s=e.createLinearGradient(l,c/2,h+l,c/2);for(var x=p.length+1,w=1,m=0;m<p.length;m++){var E=void 0,E="number"==typeof d[m]?d[m]:w/x;s.addColorStop(E,p[m]),w++}}return s}var tt=(F.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},F.install=function(t,e){var r;if(t instanceof L)r=t;else{var i=m(t);if(!i)throw new Error("Unrecognized data format for font.");r=i.parse(t)}e instanceof J.Texture&&(e=[e]);e=new F(r,e);return F.available[e.font]=e},F.uninstall=function(t){var e=F.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete F.available[t]},F.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},F.defaultOptions,r),r=i.chars,n=i.padding,o=i.resolution,s=i.textureWidth,a=i.textureHeight,u=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,u=s;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,n.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(r),l=e instanceof R.TextStyle?e:new R.TextStyle(e),h=s,c=new L;c.info[0]={face:l.fontFamily,size:l.fontSize},c.common[0]={lineHeight:l.fontSize};for(var p,d,f,m,g,v,y,_,b,x,w,E,S=0,T=0,P=0,A=[],I=0;I<u.length;I++){p||((p=document.createElement("canvas")).width=s,p.height=a,d=p.getContext("2d"),f=new J.BaseTexture(p,{resolution:o}),A.push(new J.Texture(f)),c.page.push({id:A.length-1,file:""}));var O=R.TextMetrics.measureText(u[I],l,!1,p),M=O.width,C=Math.ceil(O.height),D=Math.ceil(("italic"===l.fontStyle?2:1)*M);if(a-C*o<=T){if(0===T)throw new Error("[BitmapFont] textureHeight "+a+"px is too small for "+l.fontSize+"px fonts");--I,f=d=p=null,P=S=T=0}else{P=Math.max(C+O.fontProperties.descent,P);h<=D*o+S?(--I,T+=P*o,T=Math.ceil(T),P=S=0):(m=p,g=d,y=S,_=T,b=o,x=l,E=w=void 0,w=(v=O).text,E=v.fontProperties,g.translate(y,_),g.scale(b,b),y=x.strokeThickness/2,_=-x.strokeThickness/2,g.font=x.toFontString(),g.lineWidth=x.strokeThickness,g.textBaseline=x.textBaseline,g.lineJoin=x.lineJoin,g.miterLimit=x.miterLimit,g.fillStyle=N(m,g,x,b,[w],v),g.strokeStyle=x.stroke,g.font=x.toFontString(),g.lineWidth=x.strokeThickness,g.textBaseline=x.textBaseline,g.lineJoin=x.lineJoin,g.miterLimit=x.miterLimit,g.fillStyle=N(m,g,x,b,[w],v),g.strokeStyle=x.stroke,b=x.dropShadowColor,b=Z.hex2rgb("number"==typeof b?b:Z.string2hex(b)),x.dropShadow?(g.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+x.dropShadowAlpha+")",g.shadowBlur=x.dropShadowBlur,g.shadowOffsetX=Math.cos(x.dropShadowAngle)*x.dropShadowDistance,g.shadowOffsetY=Math.sin(x.dropShadowAngle)*x.dropShadowDistance):(g.shadowColor="black",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0),x.stroke&&x.strokeThickness&&g.strokeText(w,y,_+v.lineHeight-E.descent),x.fill&&g.fillText(w,y,_+v.lineHeight-E.descent),g.setTransform(1,0,0,1,0,0),g.fillStyle="rgba(0, 0, 0, 0)",O=O.text.charCodeAt(0),c.char.push({id:O,page:A.length-1,x:S/o,y:T/o,width:D,height:C,xoffset:0,yoffset:0,xadvance:Math.ceil(M-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))}),S+=(D+2*n)*o,S=Math.ceil(S))}}e=new F(c,A);return void 0!==F.available[t]&&F.uninstall(t),F.available[t]=e},F.ALPHA=[["a","z"],["A","Z"]," "],F.NUMERIC=[["0","9"]],F.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],F.ASCII=[[" ","~"]],F.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:F.ALPHANUMERIC},F.available={},F);function F(t,e){var r=t.info[0],i=t.common[0],n=t.page[0],o=Z.getResolutionOfUrl(n.file),s={};this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=s;for(var a=0;a<t.page.length;a++){var u=t.page[a],l=u.id,u=u.file;s[l]=e instanceof Array?e[a]:e[u]}for(a=0;a<t.char.length;a++){var h=t.char[a],l=h.id,c=h.page,p=t.char[a],d=p.x,f=p.y,m=p.width,g=p.height,v=p.xoffset,h=p.yoffset,p=p.xadvance;d/=o,f/=o,m/=o,g/=o,v/=o,h/=o,p/=o;g=new K.Rectangle(d+s[c].frame.x/o,f+s[c].frame.y/o,m,g);this.chars[l]={xOffset:v,yOffset:h,xAdvance:p,kerning:{},texture:new J.Texture(s[c].baseTexture,g),page:c}}for(a=0;a<t.kerning.length;a++){var y=t.kerning[a],_=y.first,b=y.second,y=y.amount;_/=o,b/=o,y/=o,this.chars[b]&&(this.chars[b].kerning[_]=y)}}var p,d,g,et=[],rt=[],t=(p=i.Container,n(d=y,g=p),d.prototype=null===g?Object.create(g):(v.prototype=g.prototype,new v),y.prototype.updateText=function(){for(var t=tt.available[this._fontName],e=this._fontSize/t.size,r=new K.Point,i=[],n=[],o=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=o.length,a=this._maxWidth*t.size/this._fontSize,u=null,l=0,h=0,c=0,p=-1,d=0,f=0,m=0,g=0;g<s;g++){var v,y,_=o.charCodeAt(g),b=o.charAt(g);/(?:\s)/.test(b)&&(p=g,d=l),"\r"!==b&&"\n"!==b?(v=t.chars[_])&&(u&&v.kerning[u]&&(r.x+=v.kerning[u]),(y=rt.pop()||{texture:J.Texture.EMPTY,line:0,charCode:0,position:new K.Point}).texture=v.texture,y.line=c,y.charCode=_,y.position.x=r.x+v.xOffset+this._letterSpacing/2,y.position.y=r.y+v.yOffset,i.push(y),r.x+=v.xAdvance+this._letterSpacing,l=r.x,m=Math.max(m,v.yOffset+v.texture.height),u=_,-1!==p&&0<a&&r.x>a&&(++f,Z.removeItems(i,1+p-f,1+g-p),g=p,p=-1,n.push(d),h=Math.max(h,d),c++,r.x=0,r.y+=t.lineHeight,u=null)):(n.push(l),h=Math.max(h,l),++c,++f,r.x=0,r.y+=t.lineHeight,u=null)}var x=o.charAt(o.length-1);"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(l=d),n.push(l),h=Math.max(h,l));for(var w=[],g=0;g<=c;g++){var E=0;"right"===this._align?E=h-n[g]:"center"===this._align&&(E=(h-n[g])/2),w.push(E)}for(var S=i.length,T={},P=[],A=this._activePagesMeshData,g=0;g<A.length;g++)et.push(A[g]);for(g=0;g<S;g++){var I,O,M=(F=i[g].texture).baseTexture.uid;T[M]||((G=et.pop())||(I=new Q.MeshGeometry,O=new Q.MeshMaterial(J.Texture.EMPTY),G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Q.Mesh(I,O),vertices:null,uvs:null,indices:null}),G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0,(O=this._textureCache)[M]=O[M]||new J.Texture(F.baseTexture),G.mesh.texture=O[M],G.mesh.tint=this._tint,P.push(G),T[M]=G),T[M].total++}for(g=0;g<A.length;g++)-1===P.indexOf(A[g])&&this.removeChild(A[g].mesh);for(g=0;g<P.length;g++)P[g].mesh.parent!==this&&this.addChild(P[g].mesh);for(g in this._activePagesMeshData=P,T){var C=(G=T[g]).total;if(!((null===(D=G.indices)||void 0===D?void 0:D.length)>6*C)||G.vertices.length<2*Q.Mesh.BATCHABLE_SIZE)G.vertices=new Float32Array(8*C),G.uvs=new Float32Array(8*C),G.indices=new Uint16Array(6*C);else for(var D=G.total,R=G.vertices,L=4*D*2;L<R.length;L++)R[L]=0;G.mesh.size=6*C}for(g=0;g<S;g++){var N=(b=i[g]).position.x+w[b.line];this._roundPixels&&(N=Math.round(N));var F,k=N*e,B=b.position.y*e,j=T[(F=b.texture).baseTexture.uid],U=F.frame,H=F._uvs,N=j.index++;j.indices[6*N+0]=0+4*N,j.indices[6*N+1]=1+4*N,j.indices[6*N+2]=2+4*N,j.indices[6*N+3]=0+4*N,j.indices[6*N+4]=2+4*N,j.indices[6*N+5]=3+4*N,j.vertices[8*N+0]=k,j.vertices[8*N+1]=B,j.vertices[8*N+2]=k+U.width*e,j.vertices[8*N+3]=B,j.vertices[8*N+4]=k+U.width*e,j.vertices[8*N+5]=B+U.height*e,j.vertices[8*N+6]=k,j.vertices[8*N+7]=B+U.height*e,j.uvs[8*N+0]=H.x0,j.uvs[8*N+1]=H.y0,j.uvs[8*N+2]=H.x1,j.uvs[8*N+3]=H.y1,j.uvs[8*N+4]=H.x2,j.uvs[8*N+5]=H.y2,j.uvs[8*N+6]=H.x3,j.uvs[8*N+7]=H.y3}for(g in this._textWidth=h*e,this._textHeight=(r.y+t.lineHeight)*e,T){var G=T[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var z=0,X=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y,Y=0;Y<G.total;Y++)G.vertices[z++]-=X,G.vertices[z++]-=W,G.vertices[z++]-=X,G.vertices[z++]-=W,G.vertices[z++]-=X,G.vertices[z++]-=W,G.vertices[z++]-=X,G.vertices[z++]-=W;this._maxLineHeight=m*e;var q=G.mesh.geometry.getBuffer("aVertexPosition"),V=G.mesh.geometry.getBuffer("aTextureCoord"),$=G.mesh.geometry.getIndex();q.data=G.vertices,V.data=G.uvs,$.data=G.indices,q.update(),V.update(),$.update()}for(g=0;g<i.length;g++)rt.push(i[g])},y.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},y.prototype.getLocalBounds=function(){return this.validate(),p.prototype.getLocalBounds.call(this)},y.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(y.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!tt.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),y.prototype._upgradeStyle=function(t){var e;"string"==typeof t.font?(e=t.font.split(" "),t.fontName=1===e.length?e[0]:e.slice(1).join(" "),2<=e.length&&(t.fontSize=parseInt(e[0],10))):(t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10))},y.prototype.destroy=function(t){var e,r=this._textureCache;for(e in r)r[e].destroy(),delete r[e];this._textureCache=null,p.prototype.destroy.call(this,t)},y.registerFont=function(t,e){return Z.deprecation("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),tt.install(t,e)},Object.defineProperty(y,"fonts",{get:function(){return Z.deprecation("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),tt.available},enumerable:!1,configurable:!0}),y.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},y);function v(){this.constructor=d}function y(t,e){void 0===e&&(e={});var r=p.call(this)||this;r._tint=16777215,e.font&&(Z.deprecation("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),r._upgradeStyle(e));var i=Object.assign({},y.styleDefaults,e),n=i.align,o=i.tint,s=i.maxWidth,a=i.letterSpacing,e=i.fontName,i=i.fontSize;if(!tt.available[e])throw new Error('Missing BitmapFont "'+e+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=n,r._tint=o,r._fontName=e,r._fontSize=i||tt.available[e].size,r._text=t,r._maxWidth=s,r._maxLineHeight=0,r._letterSpacing=a,r._anchor=new K.ObservablePoint(function(){r.dirty=!0},r,0,0),r._roundPixels=u.settings.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}_.add=function(){f.LoaderResource.setExtensionXhrType("fnt",f.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},_.use=function(e,r){var t=m(e.data);if(t)for(var i=_.getBaseUrl(this,e),n=t.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===n.page.length&&(e.bitmapFont=tt.install(n,o),r())},a=0;a<n.page.length;++a){var u,l,h=n.page[a].file,c=i+h,p=!1;for(u in this.resources){var d=this.resources[u];if(d.url===c){d.metadata.pageFile=h,d.texture?s(d):d.onAfterMiddleware.add(s),p=!0;break}}p||(l={crossOrigin:e.crossOrigin,loadType:f.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},e.metadata.imageMetadata),parentResource:e},this.add(c,l,s))}else r()},_.getBaseUrl=function(t,e){var r=e.isDataUrl?"":_.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},_.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},i=_;function _(){}r.BitmapFont=tt,r.BitmapFontData=L,r.BitmapFontLoader=i,r.BitmapText=t},{"@pixi/core":4,"@pixi/display":5,"@pixi/loaders":15,"@pixi/math":16,"@pixi/mesh":18,"@pixi/settings":26,"@pixi/text":32,"@pixi/utils":34}],32:[function(t,e,x){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var r=t("@pixi/sprite"),s=t("@pixi/core"),a=t("@pixi/settings"),u=t("@pixi/math"),y=t("@pixi/utils"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};(t=x.TEXT_GRADIENT||(x.TEXT_GRADIENT={}))[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var n={align:"left",breakWords:!(t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:x.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},o=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=(h.prototype.clone=function(){var t={};return d(t,this,n),new h(t)},h.prototype.reset=function(){d(this,n,n)},Object.defineProperty(h.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=p(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fill",{get:function(){return this._fill},set:function(t){t=p(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=p(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),h.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;0<=r;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&o.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},h);function h(t){this.styleID=0,this.reset(),d(this,t,t)}function c(t){return"number"==typeof t?y.hex2string(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function p(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=c(t[e]);return t}return c(t)}function d(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var _=(T.measureText=function(t,e,r,i){void 0===i&&(i=T._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=T.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?T.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),u=new Array(a.length),l=0,h=0;h<a.length;h++){var c=s.measureText(a[h]).width+(a[h].length-1)*e.letterSpacing;u[h]=c,l=Math.max(l,c)}n=l+e.strokeThickness;e.dropShadow&&(n+=e.dropShadowDistance);r=e.lineHeight||o.fontSize+e.strokeThickness,i=Math.max(r,o.fontSize+e.strokeThickness)+(a.length-1)*(r+e.leading);return e.dropShadow&&(i+=e.dropShadowDistance),new T(t,e,n,i,a,u,r+e.leading,l,o)},T.wordWrap=function(t,e,r){void 0===r&&(r=T._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a=Object.create(null),u=e.letterSpacing,r=e.whiteSpace,l=T.collapseSpaces(r),h=T.collapseNewlines(r),c=!l,p=e.wordWrapWidth+u,d=T.tokenize(t),f=0;f<d.length;f++){var m=d[f];if(T.isNewline(m)){if(!h){s+=T.addLine(o),c=!l,o="",n=0;continue}m=" "}if(l){var g=T.isBreakingSpace(m),v=T.isBreakingSpace(o[o.length-1]);if(g&&v)continue}g=T.getFromCache(m,u,a,i);if(p<g)if(""!==o&&(s+=T.addLine(o),o="",n=0),T.canBreakWords(m,e.breakWords))for(var y=T.wordWrapSplit(m),_=0;_<y.length;_++){for(var b=y[_],x=1;y[_+x];){var w=y[_+x],E=b[b.length-1];if(T.canBreakChars(E,w,m,_,e.breakWords))break;b+=w,x++}_+=b.length-1;var S=T.getFromCache(b,u,a,i);p<S+n&&(s+=T.addLine(o),c=!1,o="",n=0),o+=b,n+=S}else{0<o.length&&(s+=T.addLine(o),o="",n=0);v=f===d.length-1;s+=T.addLine(m,!v),c=!1,o="",n=0}else p<g+n&&(c=!1,s+=T.addLine(o),o="",n=0),(0<o.length||!T.isBreakingSpace(m)||c)&&(o+=m,n+=g)}return s+=T.addLine(o,!1)},T.addLine=function(t,e){return void 0===e&&(e=!0),t=T.trimRight(t),t=e?t+"\n":t},T.getFromCache=function(t,e,r,i){var n=r[t];return"number"!=typeof n&&(e=t.length*e,n=i.measureText(t).width+e,r[t]=n),n},T.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},T.collapseNewlines=function(t){return"normal"===t},T.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var r=t[e];if(!T.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},T.isNewline=function(t){return"string"==typeof t&&0<=T._newlines.indexOf(t.charCodeAt(0))},T.isBreakingSpace=function(t){return"string"==typeof t&&0<=T._breakingSpaces.indexOf(t.charCodeAt(0))},T.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];T.isBreakingSpace(n)||T.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},T.canBreakWords=function(t,e){return e},T.canBreakChars=function(t,e,r,i,n){return!0},T.wordWrapSplit=function(t){return t.split("")},T.measureFont=function(t){if(T._fonts[t])return T._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=T._canvas,i=T._context;i.font=t;var n=T.METRICS_STRING+T.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=2*(a=Math.ceil(i.measureText(T.BASELINE_SYMBOL).width)),a=a*T.BASELINE_MULTIPLIER|0;r.width=o,r.height=s,i.fillStyle="#f00",i.fillRect(0,0,o,s),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,a);for(var u=i.getImageData(0,0,o,s).data,i=u.length,l=4*o,h=0,c=0,p=!1,h=0;h<a;++h){for(var d=0;d<l;d+=4)if(255!==u[c+d]){p=!0;break}if(p)break;c+=l}for(e.ascent=a-h,c=i-l,p=!1,h=s;a<h;--h){for(d=0;d<l;d+=4)if(255!==u[c+d]){p=!0;break}if(p)break;c-=l}return e.descent=h-a,e.fontSize=e.ascent+e.descent,T._fonts[t]=e},T.clearMetrics=function(t){void 0===t&&(t=""),t?delete T._fonts[t]:T._fonts={}},T);function T(t,e,r,i,n,o,s,a,u){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=u}t=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();t.width=t.height=10,_._canvas=t,_._context=t.getContext("2d"),_._fonts={},_.METRICS_STRING="|q",_.BASELINE_SYMBOL="M",_.BASELINE_MULTIPLIER=1.4,_._newlines=[10,13];var f,m,g,v={texture:!0,children:!(_._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},r=(f=r.Sprite,i(m=w,g=f),m.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b),w.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=_.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=o.width,s=o.height,a=o.lines,u=o.lineHeight,l=o.lineWidths,h=o.maxLineWidth,c=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var f=e.dropShadow&&0===d,m=f?Math.ceil(Math.max(1,s)+2*e.padding):0,g=m*this._resolution;f?(n.fillStyle="black",n.strokeStyle="black",f=e.dropShadowColor,f=y.hex2rgb("number"==typeof f?f:y.string2hex(f)),n.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g):(n.fillStyle=this._generateFillStyle(e,a,o),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);for(var v=0;v<a.length;v++)r=e.strokeThickness/2,i=e.strokeThickness/2+v*u+c.ascent,"right"===e.align?r+=h-l[v]:"center"===e.align&&(r+=(h-l[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[v],r+e.padding,i+e.padding-m,!0),e.fill&&this.drawLetterSpacing(a[v],r+e.padding,i+e.padding-m)}this.updateTexture()}},w.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o,s=e,a=Array.from?Array.from(t):t.split(""),u=this.context.measureText(t).width,l=0;l<a.length;++l){var h=a[l];i?this.context.strokeText(h,s,r):this.context.fillText(h,s,r),s+=u-(o=this.context.measureText(t.substring(l+1)).width)+n,u=o}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},w.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(i=y.trimCanvas(t)).data&&(t.width=i.width,t.height=i.height,this.context.putImageData(i.data,0,0));var e=this._texture,r=this._style,i=r.trim?0:r.padding,r=e.baseTexture;e.trim.width=e._frame.width=Math.ceil(t.width/this._resolution),e.trim.height=e._frame.height=Math.ceil(t.height/this._resolution),e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-2*i,e.orig.height=e._frame.height-2*i,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},w.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),f.prototype._render.call(this,t)},w.prototype.getLocalBounds=function(t){return this.updateText(!0),f.prototype.getLocalBounds.call(this,t)},w.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},w.prototype._generateFillStyle=function(t,e,r){var i,n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,a=Math.ceil(this.canvas.width/this._resolution)-o-2*s,u=Math.ceil(this.canvas.height/this._resolution)-o-2*s,l=n.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var c=l.length+1,p=1;p<c;++p)h.push(p/c);if(l.unshift(n[0]),h.unshift(0),l.push(n[n.length-1]),h.push(1),t.fillGradientType===x.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,s,a/2,u+s);for(var d=0,f=(r.fontProperties.fontSize+t.strokeThickness)/u,p=0;p<e.length;p++)for(var m=r.lineHeight*p,g=0;g<l.length;g++){var v=m/u+("number"==typeof h[g]?h[g]:g/l.length)*f,v=Math.max(d,v),v=Math.min(v,1);i.addColorStop(v,l[g]),d=v}}else{i=this.context.createLinearGradient(s,u/2,a+s,u/2);for(var y=l.length+1,_=1,p=0;p<l.length;p++){var b=void 0,b="number"==typeof h[p]?h[p]:_/y;i.addColorStop(b,l[p]),_++}}return i},w.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},v,t),f.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(w.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=y.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=y.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof l?t:new l(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),w);function b(){this.constructor=m}function w(t,e,r){var i=this,n=!1;r||(r=document.createElement("canvas"),n=!0),r.width=3,r.height=3;var o=s.Texture.from(r);return o.orig=new u.Rectangle,o.trim=new u.Rectangle,(i=f.call(this,o)||this)._ownCanvas=n,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=a.settings.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=e,i.localStyleID=-1,i}x.Text=r,x.TextMetrics=_,x.TextStyle=l},{"@pixi/core":4,"@pixi/math":16,"@pixi/settings":26,"@pixi/sprite":29,"@pixi/utils":34}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/settings");n.settings.TARGET_FPMS=.06,(t=i.UPDATE_PRIORITY||(i.UPDATE_PRIORITY={}))[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY";var o=(r.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},r.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},r.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},r.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},r);function r(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}var s=(a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new o(t,e,r))},a.prototype.addOnce=function(t,e,r){return void 0===r&&(r=i.UPDATE_PRIORITY.NORMAL),this._addListener(new o(t,e,r,!0))},a.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}e=(r=e).next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},a.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(t){if(void 0===t&&(t=performance.now()),t>this.lastTime){if((r=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*n.settings.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,n.settings.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){var t;return a._shared||((t=a._shared=new a).autoStart=!0,t._protected=!0),a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){var t;return a._system||((t=a._system=new a).autoStart=!0,t._protected=!0),a._system},enumerable:!1,configurable:!0}),a);function a(){var e=this;this._head=new o(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/n.settings.TARGET_FPMS,this.elapsedMS=1/n.settings.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}u.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,i.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?s.shared:new s,t.autoStart&&this.start()},u.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},t=u;function u(){}i.Ticker=s,i.TickerPlugin=t},{"@pixi/settings":26}],34:[function(t,e,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(r,"__esModule",{value:!0});var n=t("@pixi/settings"),o=i(t("eventemitter3")),s=i(t("earcut")),a=t("url"),u=i(a),l=t("@pixi/constants");n.settings.RETINA_PREFIX=/@([0-9\.]+)x/;var h,c=!(n.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0);var p=function(){for(var t=[],e=[],r=0;r<32;r++)e[t[r]=r]=r;t[l.BLEND_MODES.NORMAL_NPM]=l.BLEND_MODES.NORMAL,t[l.BLEND_MODES.ADD_NPM]=l.BLEND_MODES.ADD,t[l.BLEND_MODES.SCREEN_NPM]=l.BLEND_MODES.SCREEN,e[l.BLEND_MODES.NORMAL]=l.BLEND_MODES.NORMAL_NPM,e[l.BLEND_MODES.ADD]=l.BLEND_MODES.ADD_NPM,e[l.BLEND_MODES.SCREEN]=l.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function d(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var f={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var m=0;var g={};var v=Object.create(null),y=Object.create(null);_.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},_.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},_.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(_.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t=_;function _(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||n.settings.RESOLUTION,this.resize(t,e)}var b,x=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;Object.defineProperty(r,"isMobile",{enumerable:!0,get:function(){return n.isMobile}}),r.EventEmitter=o,r.earcut=s,r.url=u,r.BaseTextureCache=y,r.CanvasRenderTarget=t,r.DATA_URI=x,r.ProgramCache={},r.TextureCache=v,r.clearTextureCache=function(){for(var t in v)delete v[t];for(t in y)delete y[t]},r.correctBlendMode=function(t,e){return p[e?1:0][t]},r.createIndicesForQuads=function(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e},r.decomposeDataUri=function(t){if(t=x.exec(t))return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},r.deprecation=function(t,e,r){var i;void 0===r&&(r=3),g[e]||(void 0===(i=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),g[e]=!0)},r.destroyTextureCache=function(){for(var t in v)v[t].destroy();for(t in y)y[t].destroy()},r.determineCrossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,(b=b||document.createElement("a")).href=t;var r=a.parse(b.href),t=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&t&&r.protocol===e.protocol?"":"anonymous"},r.getBufferType=d,r.getResolutionOfUrl=function(t,e){return(t=n.settings.RETINA_PREFIX.exec(t))?parseFloat(t[1]):void 0!==e?e:1},r.hex2rgb=function(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},r.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},r.interleaveTypedArrays=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,u=0,o=0;o<t.length;o++){var l=e[o],h=t[o],c=d(h);n[c]||(n[c]=new f[c](s)),a=n[c];for(var p=0;p<h.length;p++)a[(p/l|0)*i+u+p%l]=h[p];u+=l}return new Float32Array(s)},r.isPow2=function(t){return!(t&t-1||!t)},r.isWebGLSupported=function(){return void 0===h&&(h=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:n.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);return!r||(e=r.getExtension("WEBGL_lose_context"))&&e.loseContext(),r=null,i}catch(t){return!1}}()),h},r.log2=function(t){var e=(65535<t?1:0)<<4,r=(255<(t>>>=e)?1:0)<<3;return e|=r,e|=r=(15<(t>>>=r)?1:0)<<2,(e|=r=(3<(t>>>=r)?1:0)<<1)|(t>>>=r)>>1},r.nextPow2=function(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.premultiplyBlendMode=p,r.premultiplyRgba=function(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r},r.premultiplyTint=function(t,e){return 1===e?(255*e<<24)+t:0===e?0:(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)},r.premultiplyTintToRgba=function(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,!i&&void 0!==i||(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r},r.removeItems=function(t,e,r){var i=t.length;if(!(i<=e||0===r)){for(var n=i-(r=i<e+r?i-e:r),o=e;o<n;++o)t[o]=t[o+r];t.length=n}},r.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},r.sayHello=function(t){var e,r;c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(r=["\n %c %c %c PixiJS 5.3.6 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],(e=window.console).log.apply(e,r)):window.console&&window.console.log("PixiJS 5.3.6 - "+t+" - http://www.pixijs.com/"),c=!0)},r.sign=function(t){return 0===t?0:t<0?-1:1},r.skipHello=function(){c=!0},r.string2hex=function(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)},r.trimCanvas=function(t){for(var e,r,i=t.width,n=t.height,o=t.getContext("2d"),s=o.getImageData(0,0,i,n).data,a=s.length,u={top:null,left:null,right:null,bottom:null},t=null,l=0;l<a;l+=4)0!==s[l+3]&&(e=l/4%i,r=~~(l/4/i),null===u.top&&(u.top=r),(null===u.left||e<u.left)&&(u.left=e),(null===u.right||u.right<e)&&(u.right=1+e),(null===u.bottom||u.bottom<r)&&(u.bottom=r));return null!==u.top&&(i=u.right-u.left,n=u.bottom-u.top+1,t=o.getImageData(u.left,u.top,i,n)),{height:n,width:i,data:t}},r.uid=function(){return++m}},{"@pixi/constants":3,"@pixi/settings":26,earcut:35,eventemitter3:37,url:82}],35:[function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,n,o,s,a,u,l,h=e&&e.length,c=h?e[0]*r:t.length,p=m(t,0,c,r,!0),d=[];if(!p||p.next===p.prev)return d;if(h&&(p=function(t,e,r,i){var n,o,s,a,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*i,a=n<o-1?e[n+1]*i:t.length,(a=m(t,s,a,i,!1))===a.next&&(a.steiner=!0),u.push(function(t){var e=t,r=t;for(;(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next,e!==t;);return r}(a));for(u.sort(y),n=0;n<u.length;n++)!function(t,e){(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&s<a){if((s=a)===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}}while(i=i.next,i!==e);if(!r)return null;if(n===s)return r;var u,l=r,h=r.x,c=r.y,p=1/0;i=r;for(;n>=i.x&&i.x>=h&&n!==i.x&&b(o<c?n:s,o,h,c,o<c?s:n,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(n-i.x),w(i,t)&&(u<p||u===p&&(i.x>r.x||i.x===r.x&&function(t,e){return x(t.prev,t,e.prev)<0&&x(e.next,t,t.next)<0}(r,i)))&&(r=i,p=u)),i=i.next,i!==l;);return r}(t,e))&&(t=E(e,t),g(e,e.next),g(t,t.next))}(u[n],r),r=g(r,r.next);return r}(t,e,p,r)),t.length>80*r){i=o=t[0],n=s=t[1];for(var f=r;f<c;f+=r)(a=t[f])<i&&(i=a),(u=t[f+1])<n&&(n=u),o<a&&(o=a),s<u&&(s=u);l=0!==(l=Math.max(o-i,s-n))?1/l:0}return v(p,d,r,i,n,l),d}function m(t,e,r,i,n){var o,s;if(n===0<S(t,e,r,i))for(o=e;o<r;o+=i)s=a(o,t[o],t[o+1],s);else for(o=r-i;e<=o;o-=i)s=a(o,t[o],t[o+1],s);return s&&h(s,s.next)&&(p(s),s=s.next),s}function g(t,e){if(!t)return t;e=e||t;var r,i=t;do{if(r=!1,i.steiner||!h(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(p(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function v(t,e,r,i,n,o,s){if(t){!s&&o&&function(t,e,r,i){for(var n=t;null===n.z&&(n.z=_(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,u,l=1;do{for(r=t,o=t=null,s=0;r;){for(s++,i=r,e=a=0;e<l&&(a++,i=i.nextZ);e++);for(u=l;0<a||0<u&&i;)0!==a&&(0===u||!i||r.z<=i.z)?(r=(n=r).nextZ,a--):(i=(n=i).nextZ,u--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}}while(o.nextZ=null,l*=2,1<s)}(n)}(t,i,n,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,r,i){var n=t.prev,o=t,s=t.next;if(0<=x(n,o,s))return!1;var a=(n.x<o.x?n.x<s.x?n:s:o.x<s.x?o:s).x,u=(n.y<o.y?n.y<s.y?n:s:o.y<s.y?o:s).y,l=(n.x>o.x?n.x>s.x?n:s:o.x>s.x?o:s).x,h=(n.y>o.y?n.y>s.y?n:s:o.y>s.y?o:s).y,c=_(a,u,e,r,i),p=_(l,h,e,r,i),d=t.prevZ,f=t.nextZ;for(;d&&d.z>=c&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&0<=x(d.prev,d,d.next))return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,d.x,d.y)&&0<=x(d.prev,d,d.next))return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&b(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}return!0}(t,i,n,o):function(t){var e=t.prev,r=t,i=t.next;if(0<=x(e,r,i))return!1;var n=t.next.next;for(;n!==t.prev;){if(b(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&0<=x(n.prev,n,n.next))return!1;n=n.next}return!0}(t))e.push(a.i/r),e.push(t.i/r),e.push(u.i/r),p(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?v(t=function(t,e,r){var i=t;do{var n=i.prev,o=i.next.next}while(!h(n,o)&&c(n,i,i.next,o)&&w(n,o)&&w(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),p(i),p(i.next),i=t=o),i=i.next,i!==t);return g(i)}(g(t),e,r),e,r,i,n,o,2):2===s&&function(t,e,r,i,n,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&c(r,r.next,t,e))return!0}while(r=r.next,r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next,r!==t;);return i}(t,e)&&(x(t.prev,t,e.prev)||x(t,e.prev,e))||h(t,e)&&0<x(t.prev,t,t.next)&&0<x(e.prev,e,e.next))}(s,a)){var u=E(s,a);return s=g(s,s.next),u=g(u,u.next),v(s,e,r,i,n,o),v(u,e,r,i,n,o)}a=a.next}}while((s=s.next)!==t)}(t,e,r,i,n,o):v(g(t),e,r,i,n,o,1);break}}}function y(t,e){return t.x-e.x}function _(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t,e,r,i,n,o,s,a){return 0<=(n-s)*(e-a)-(t-s)*(o-a)&&0<=(t-s)*(i-a)-(r-s)*(e-a)&&0<=(r-s)*(o-a)-(n-s)*(i-a)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function h(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,r,i){var n=l(x(t,e,r)),o=l(x(t,e,i)),s=l(x(r,i,t)),a=l(x(r,i,e));return n!==o&&s!==a||(0===n&&u(t,r,e)||(0===o&&u(t,i,e)||(0===s&&u(r,t,i)||!(0!==a||!u(r,e,i)))))}function u(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function l(t){return 0<t?1:t<0?-1:0}function w(t,e){return x(t.prev,t,t.next)<0?0<=x(t,e,t.next)&&0<=x(t,t.prev,e):x(t,e,t.prev)<0||x(t,t.next,e)<0}function E(t,e){var r=new s(t.i,t.x,t.y),i=new s(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(r.next=n).prev=r,(i.next=r).prev=i,(o.next=i).prev=o,i}function a(t,e,r,i){r=new s(t,e,r);return i?(r.next=i.next,(r.prev=i).next.prev=r,i.next=r):(r.prev=r).next=r,r}function p(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}e.exports=i,(e.exports.default=i).deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(n)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,h=a<u-1?e[a+1]*r:t.length;s-=Math.abs(S(t,l,h,r))}for(var c=0,a=0;a<i.length;a+=3){var p=i[a]*r,d=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[p]-t[f])*(t[1+d]-t[1+p])-(t[p]-t[d])*(t[1+f]-t[1+p]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);0<n&&(i+=t[n-1].length,r.holes.push(i))}return r}},{}],36:[function(t,e,P){(function(t,T){(function(){!function(t){var e,r=t.Promise,i=r&&"resolve"in r&&"reject"in r&&"all"in r&&"race"in r&&(new r(function(t){e=t}),"function"==typeof e);function n(){}void 0!==P&&P?(P.Promise=i?r:S,P.Polyfill=S):"function"==typeof define&&define.amd?define(function(){return i?r:S}):i||(t.Promise=S);var o="pending",s="sealed",a="fulfilled",u="rejected";function l(t){return"[object Array]"===Object.prototype.toString.call(t)}var h,c=void 0!==T?T:setTimeout,p=[];function d(){for(var t=0;t<p.length;t++)p[t][0](p[t][1]);h=!(p=[])}function f(t,e){p.push([t,e]),h||(h=!0,c(d,0))}function m(t,e){function r(t){b(e,t)}try{t(function(t){y(e,t)},r)}catch(t){r(t)}}function g(e){var t=e.owner,r=t.state_,i=t.data_,n=e[r],e=e.then;if("function"==typeof n){r=a;try{i=n(i)}catch(t){b(e,t)}}v(e,i)||(r===a&&y(e,i),r===u&&b(e,i))}function v(e,r){var i;try{if(e===r)throw new TypeError("A promises callback cannot return that same promise.");if(r&&("function"==typeof r||"object"==typeof r)){var t=r.then;if("function"==typeof t)return t.call(r,function(t){i||(i=!0,(r!==t?y:_)(e,t))},function(t){i||(i=!0,b(e,t))}),1}}catch(t){return i||b(e,t),1}}function y(t,e){t!==e&&v(t,e)||_(t,e)}function _(t,e){t.state_===o&&(t.state_=s,t.data_=e,f(w,t))}function b(t,e){t.state_===o&&(t.state_=s,t.data_=e,f(E,t))}function x(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)g(e[r])}function w(t){t.state_=a,x(t)}function E(t){t.state_=u,x(t)}function S(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],m(t,this)}S.prototype={constructor:S,state_:o,then_:null,data_:void 0,then:function(t,e){e={owner:this,then:new this.constructor(n),fulfilled:t,rejected:e};return this.state_===a||this.state_===u?f(g,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},S.all=function(s){if(!l(s))throw new TypeError("You must pass an array to Promise.all().");return new this(function(r,t){var i=[],n=0;for(var e,o=0;o<s.length;o++)(e=s[o])&&"function"==typeof e.then?e.then(function(e){return n++,function(t){i[e]=t,--n||r(i)}}(o),t):i[o]=e;n||r(i)})},S.race=function(n){if(!l(n))throw new TypeError("You must pass an array to Promise.race().");return new this(function(t,e){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(t,e):t(r)})},S.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})},S.reject=function(r){return new this(function(t,e){e(r)})}}("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{timers:75}],37:[function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,d="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,r,i,n){if("function"!=typeof r)throw new TypeError("The listener must be a function");n=new o(r,i||t,n),e=d?d+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],n]:t._events[e].push(n):(t._events[e]=n,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(d=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t){var t=d?d+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var r=0,i=e.length,n=new Array(i);r<i;r++)n[r]=e[r].fn;return n},a.prototype.listenerCount=function(t){t=d?d+t:t,t=this._events[t];return t?t.fn?1:t.length:0},a.prototype.emit=function(t,e,r,i,n,o){var s=d?d+t:t;if(!this._events[s])return!1;var a,u=this._events[s],l=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,n),!0;case 6:return u.fn.call(u.context,e,r,i,n,o),!0}for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];u.fn.apply(u.context,a)}else for(var h,c=u.length,p=0;p<c;p++)switch(u[p].once&&this.removeListener(t,u[p].fn,void 0,!0),l){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,e);break;case 3:u[p].fn.call(u[p].context,e,r);break;case 4:u[p].fn.call(u[p].context,e,r,i);break;default:if(!a)for(h=1,a=new Array(l-1);h<l;h++)a[h-1]=arguments[h];u[p].fn.apply(u[p].context,a)}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,r,i){t=d?d+t:t;if(!this._events[t])return this;if(!e)return u(this,t),this;var n=this._events[t];if(n.fn)n.fn!==e||i&&!n.once||r&&n.context!==r||u(this,t);else{for(var o=0,s=[],a=n.length;o<a;o++)(n[o].fn!==e||i&&!n[o].once||r&&n[o].context!==r)&&s.push(n[o]);s.length?this._events[t]=1===s.length?s[0]:s:u(this,t)}return this},a.prototype.removeAllListeners=function(t){return t?(t=d?d+t:t,this._events[t]&&u(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],38:[function(t,r,i){(function(Rt){(function(){var t,e;t=this,e=function(t){"use strict";var y="undefined"!=typeof window?window:void 0!==Rt?Rt:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var g=r(function(t,e){var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.Y||(e.Y={}))[r.RED=.2126]="RED",r[r.GREEN=.7152]="GREEN",r[r.BLUE=.0722]="BLUE",r[r.WHITE=1]="WHITE",(r=e.x||(e.x={}))[r.RED=.64]="RED",r[r.GREEN=.3]="GREEN",r[r.BLUE=.15]="BLUE",r[r.WHITE=.3127]="WHITE",(e=e.y||(e.y={}))[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE"});e(g);g.Y,g.x,g.y;var i=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.bt709=g});e(i);i.bt709;var n=r(function(t,e){function i(t){return.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92}Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2xyz=function(t,e,r){return{x:.4124*(t=i(t/255))+.3576*(e=i(e/255))+.1805*(r=i(r/255)),y:.2126*t+.7152*e+.0722*r,z:.0193*t+.1192*e+.9505*r}}});e(n);n.rgb2xyz;var F=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.degrees2radians=function(t){return t*(Math.PI/180)},e.max3=function(t,e,r){return t<e&&(t=e),t<r&&(t=r),t},e.min3=function(t,e,r){return e<t&&(t=e),r<t&&(t=r),t},e.intInRange=function(t,e,r){return r<t&&(t=r),t<e&&(t=e),0|t},e.inRange0to255Rounded=function(t){return 255<(t=Math.round(t))?t=255:t<0&&(t=0),t},e.inRange0to255=function(t){return 255<t?t=255:t<0&&(t=0),t},e.stableSort=function(t,r){var e=typeof t[0];if("number"==e||"string"==e){for(var i=Object.create(null),n=0,o=t.length;n<o;n++){var s=t[n];i[s]||0===i[s]||(i[s]=n)}u=t.sort(function(t,e){return r(t,e)||i[t]-i[e]})}else var a=t.slice(0),u=t.sort(function(t,e){return r(t,e)||a.indexOf(t)-a.indexOf(e)});return u}});e(F);F.degrees2radians,F.max3,F.min3,F.intInRange,F.inRange0to255Rounded,F.inRange0to255,F.stableSort;var s=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2hsl=function(t,e,r){var i=F.min3(t,e,r),n=F.max3(t,e,r),o=n-i,s=(i+n)/510,a=0<s&&s<1?o/(s<.5?n+i:510-n-i):0;return(i=0)<o&&(i=n===t?(e-r)/o:n===e?2+(r-t)/o:4+(t-e)/o,(i*=60)<0&&(i+=360)),{h:i,s:a,l:s}}});e(s);s.rgb2hsl;var o=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function i(t){return.008856<t?Math.pow(t,1/3):7.787*t+16/116}e.xyz2lab=function(t,e,r){if(t=i(t/.95047),e=i(+e),r=i(r/1.08883),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-r)}}});e(o);o.xyz2lab;var p=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2lab=function(t,e,r){return r=n.rgb2xyz(t,e,r),o.xyz2lab(r.x,r.y,r.z)}});e(p);p.rgb2lab;var a=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function i(t){return.206893034<t?Math.pow(t,3):(t-16/116)/7.787}e.lab2xyz=function(t,e,r){return r=(t=(t+16)/116)-r/200,{x:.95047*i(e/500+t),y:+i(t),z:1.08883*i(r)}}});e(a);a.lab2xyz;var u=r(function(t,e){function o(t){return.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t}Object.defineProperty(e,"__esModule",{value:!0}),e.xyz2rgb=function(t,e,r){var i=o(3.2406*t+-1.5372*e+-.4986*r),n=o(-.9689*t+1.8758*e+.0415*r),r=o(.0557*t+-.204*e+1.057*r);return{r:F.inRange0to255Rounded(255*i),g:F.inRange0to255Rounded(255*n),b:F.inRange0to255Rounded(255*r)}}});e(u);u.xyz2rgb;var l=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.lab2rgb=function(t,e,r){return r=a.lab2xyz(t,e,r),u.xyz2rgb(r.x,r.y,r.z)}});e(l);l.lab2rgb;var h=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2xyz=n.rgb2xyz,e.rgb2hsl=s.rgb2hsl,e.rgb2lab=p.rgb2lab,e.lab2xyz=a.lab2xyz,e.lab2rgb=l.lab2rgb,e.xyz2lab=o.xyz2lab,e.xyz2rgb=u.xyz2rgb});e(h);h.rgb2xyz,h.rgb2hsl,h.rgb2lab,h.lab2xyz,h.lab2rgb,h.xyz2lab,h.xyz2rgb;var f=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.setWhitePoint=function(t,e,r,i){this._whitePoint={r:0<t?255/t:0,g:0<e?255/e:0,b:0<r?255/r:0,a:0<i?255/i:0},this._maxDistance=this.calculateRaw(t,e,r,i,0,0,0,0)},i.prototype.calculateNormalized=function(t,e){return this.calculateRaw(t.r,t.g,t.b,t.a,e.r,e.g,e.b,e.a)/this._maxDistance},i);function i(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}e.AbstractDistanceCalculator=r});e(f);f.AbstractDistanceCalculator;var c=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=f.AbstractDistanceCalculator,r(s,n),s.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){e=p.rgb2lab(F.inRange0to255(t*this._whitePoint.r),F.inRange0to255(e*this._whitePoint.g),F.inRange0to255(r*this._whitePoint.b)),r=p.rgb2lab(F.inRange0to255(n*this._whitePoint.r),F.inRange0to255(o*this._whitePoint.g),F.inRange0to255(s*this._whitePoint.b)),n=e.L-r.L,o=e.a-r.a,s=e.b-r.b,e=Math.sqrt(e.a*e.a+e.b*e.b),r=e-Math.sqrt(r.a*r.a+r.b*r.b),s=(s=o*o+s*s-r*r)<0?0:Math.sqrt(s),i=(a-i)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(n/this._Kl,2)+Math.pow(r/(1+this._K1*e),2)+Math.pow(s/(1+this._K2*e),2)+Math.pow(i,2))},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.AbstractCIE94=o;var a,u=(r(l,a=o),l.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255},l);function l(){return null!==a&&a.apply(this,arguments)||this}e.CIE94Textiles=u;var h,o=(r(c,h=o),c.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255},c);function c(){return null!==h&&h.apply(this,arguments)||this}e.CIE94GraphicArts=o});e(c);c.AbstractCIE94,c.CIE94Textiles,c.CIE94GraphicArts;var d=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=f.AbstractDistanceCalculator,r(c,n),c.prototype._setDefaults=function(){},c._calculatehp=function(t,e){e=Math.atan2(t,e);return 0<=e?e:e+c._deg360InRad},c._calculateRT=function(t,e){e=Math.pow(e,7),e=2*Math.sqrt(e/(e+c._pow25to7)),t=c._deg30InRad*Math.exp(-Math.pow((t-c._deg275InRad)/c._deg25InRad,2));return-Math.sin(2*t)*e},c._calculateT=function(t){return 1-.17*Math.cos(t-c._deg30InRad)+.24*Math.cos(2*t)+.32*Math.cos(3*t+c._deg6InRad)-.2*Math.cos(4*t-c._deg63InRad)},c._calculate_ahp=function(t,e,r,i){i=r+i;return 0===t?i:e<=c._deg180InRad?i/2:i<c._deg360InRad?(i+c._deg360InRad)/2:(i-c._deg360InRad)/2},c._calculate_dHp=function(t,e,r,i){i=0===t?0:e<=c._deg180InRad?r-i:r<=i?r-i+c._deg360InRad:r-i-c._deg360InRad;return 2*Math.sqrt(t)*Math.sin(i/2)},c.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){r=p.rgb2lab(F.inRange0to255(t*this._whitePoint.r),F.inRange0to255(e*this._whitePoint.g),F.inRange0to255(r*this._whitePoint.b)),s=p.rgb2lab(F.inRange0to255(n*this._whitePoint.r),F.inRange0to255(o*this._whitePoint.g),F.inRange0to255(s*this._whitePoint.b)),i=(a-i)*this._whitePoint.a*c._kA,s=this.calculateRawInLab(r,s);return Math.sqrt(s+i*i)},c.prototype.calculateRawInLab=function(t,e){var r=t.L,i=t.a,n=t.b,o=e.L,s=e.a,a=e.b,u=Math.sqrt(i*i+n*n),l=Math.sqrt(s*s+a*a),h=Math.pow((u+l)/2,7),t=.5*(1-Math.sqrt(h/(h+c._pow25to7))),e=(1+t)*i,u=(1+t)*s,l=Math.sqrt(e*e+n*n),h=Math.sqrt(u*u+a*a),i=l*h,t=c._calculatehp(n,e),s=c._calculatehp(a,u),n=Math.abs(t-s),e=o-r,a=h-l,u=c._calculate_dHp(i,n,s,t),t=c._calculate_ahp(i,n,t,s),s=c._calculateT(t),h=(l+h)/2,r=Math.pow((r+o)/2-50,2),o=1+.015*r/Math.sqrt(20+r),r=1+.045*h,s=1+.015*s*h,h=c._calculateRT(t,h),o=e/o,r=a/r,s=u/s;return Math.pow(o,2)+Math.pow(r,2)+Math.pow(s,2)+h*r*s},c._kA=25/255,c._pow25to7=Math.pow(25,7),c._deg360InRad=F.degrees2radians(360),c._deg180InRad=F.degrees2radians(180),c._deg30InRad=F.degrees2radians(30),c._deg6InRad=F.degrees2radians(6),c._deg63InRad=F.degrees2radians(63),c._deg275InRad=F.degrees2radians(275),c._deg25InRad=F.degrees2radians(25),c);function c(){return null!==n&&n.apply(this,arguments)||this}e.CIEDE2000=r});e(d);d.CIEDE2000;var m=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=f.AbstractDistanceCalculator,r(o,n),o.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){var u=(t+n)/2*this._whitePoint.r,n=(t-n)*this._whitePoint.r,o=(e-o)*this._whitePoint.g,s=(r-s)*this._whitePoint.b,s=((512+u)*n*n>>8)+4*o*o+((767-u)*s*s>>8),i=(a-i)*this._whitePoint.a;return Math.sqrt(s+i*i)},o.prototype._setDefaults=function(){},o);function o(){return null!==n&&n.apply(this,arguments)||this}e.CMetric=r});e(m);m.CMetric;var v=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=f.AbstractDistanceCalculator,r(s,n),s.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){t=n-t,e=o-e,r=s-r,i=a-i;return Math.sqrt(this._kR*t*t+this._kG*e*e+this._kB*r*r+this._kA*i*i)},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.AbstractEuclidean=o;var a,u=(r(l,a=o),l.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},l);function l(){return null!==a&&a.apply(this,arguments)||this}e.Euclidean=u;var h,u=(r(c,h=o),c.prototype._setDefaults=function(){this._kR=g.Y.RED,this._kG=g.Y.GREEN,this._kB=g.Y.BLUE,this._kA=1},c);function c(){return null!==h&&h.apply(this,arguments)||this}e.EuclideanBT709=u;var p,o=(r(d,p=o),d.prototype._setDefaults=function(){this._kR=g.Y.RED,this._kG=g.Y.GREEN,this._kB=g.Y.BLUE,this._kA=0},d);function d(){return null!==p&&p.apply(this,arguments)||this}e.EuclideanBT709NoAlpha=o});e(v);v.AbstractEuclidean,v.Euclidean,v.EuclideanBT709,v.EuclideanBT709NoAlpha;var _=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=f.AbstractDistanceCalculator,r(s,n),s.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){t=n-t,e=o-e,r=s-r,i=a-i;return t<0&&(t=0-t),e<0&&(e=0-e),r<0&&(r=0-r),i<0&&(i=0-i),this._kR*t+this._kG*e+this._kB*r+this._kA*i},s);function s(){return null!==n&&n.apply(this,arguments)||this}e.AbstractManhattan=o;var a,u=(r(l,a=o),l.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},l);function l(){return null!==a&&a.apply(this,arguments)||this}e.Manhattan=u;var h,u=(r(c,h=o),c.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},c);function c(){return null!==h&&h.apply(this,arguments)||this}e.ManhattanNommyde=u;var p,o=(r(d,p=o),d.prototype._setDefaults=function(){this._kR=g.Y.RED,this._kG=g.Y.GREEN,this._kB=g.Y.BLUE,this._kA=1},d);function d(){return null!==p&&p.apply(this,arguments)||this}e.ManhattanBT709=o});e(_);_.AbstractManhattan,_.Manhattan,_.ManhattanNommyde,_.ManhattanBT709;var b=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=f.AbstractDistanceCalculator,r(o,n),o.prototype.calculateRaw=function(t,e,r,i,n,o,s,a){i=(a-i)*this._whitePoint.a;return this._colordifferenceCh(t*this._whitePoint.r,n*this._whitePoint.r,i)+this._colordifferenceCh(e*this._whitePoint.g,o*this._whitePoint.g,i)+this._colordifferenceCh(r*this._whitePoint.b,s*this._whitePoint.b,i)},o.prototype._colordifferenceCh=function(t,e,r){e=t-e,r=e+r;return e*e+r*r},o.prototype._setDefaults=function(){},o);function o(){return null!==n&&n.apply(this,arguments)||this}e.PNGQuant=r});e(b);b.PNGQuant;var x=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDistanceCalculator=f.AbstractDistanceCalculator,e.CIE94Textiles=c.CIE94Textiles,e.CIE94GraphicArts=c.CIE94GraphicArts,e.CIEDE2000=d.CIEDE2000,e.CMetric=m.CMetric,e.AbstractEuclidean=v.AbstractEuclidean,e.Euclidean=v.Euclidean,e.EuclideanBT709NoAlpha=v.EuclideanBT709NoAlpha,e.EuclideanBT709=v.EuclideanBT709,e.AbstractManhattan=_.AbstractManhattan,e.Manhattan=_.Manhattan,e.ManhattanBT709=_.ManhattanBT709,e.ManhattanNommyde=_.ManhattanNommyde,e.PNGQuant=b.PNGQuant});e(x);x.AbstractDistanceCalculator,x.CIE94Textiles,x.CIE94GraphicArts,x.CIEDE2000,x.CMetric,x.AbstractEuclidean,x.Euclidean,x.EuclideanBT709NoAlpha,x.EuclideanBT709,x.AbstractManhattan,x.Manhattan,x.ManhattanBT709,x.ManhattanNommyde,x.PNGQuant;var S=r(function(t,e){var o=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.quantizeSync=function(){try{for(var t=o(this.quantize()),e=t.next();!e.done;e=t.next()){var r=e.value;if(r.palette)return r.palette}}catch(t){i={error:t}}finally{try{e&&!e.done&&(n=t.return)&&n.call(t)}finally{if(i)throw i.error}}throw new Error("unreachable");var i,n},i);function i(){}e.AbstractPaletteQuantizer=r});e(S);S.AbstractPaletteQuantizer;var k=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=(o.createByQuadruplet=function(t){var e=new o;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e},o.createByRGBA=function(t,e,r,i){var n=new o;return n.r=0|t,n.g=0|e,n.b=0|r,n.a=0|i,n._loadUINT32(),n._loadQuadruplet(),n},o.createByUint32=function(t){var e=new o;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e},o.prototype.from=function(t){this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this.uint32=t.uint32,this.rgba[0]=t.r,this.rgba[1]=t.g,this.rgba[2]=t.b,this.rgba[3]=t.a},o.prototype.getLuminosity=function(t){var e=this.r,r=this.g,i=this.b;return t&&(e=Math.min(255,255-this.a+this.a*e/255),r=Math.min(255,255-this.a+this.a*r/255),i=Math.min(255,255-this.a+this.a*i/255)),e*g.Y.RED+r*g.Y.GREEN+i*g.Y.BLUE},o.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},o.prototype._loadRGBA=function(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},o.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},o);function o(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}e.Point=r});e(k);k.Point;var w=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=(s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},s.prototype.setWidth=function(t){this._width=t},s.prototype.setHeight=function(t){this._height=t},s.prototype.getPointArray=function(){return this._pointArray},s.prototype.clone=function(){var t=new s;t._width=this._width,t._height=this._height;for(var e=0,r=this._pointArray.length;e<r;e++)t._pointArray[e]=k.Point.createByUint32(0|this._pointArray[e].uint32);return t},s.prototype.toUint32Array=function(){for(var t=this._pointArray.length,e=new Uint32Array(t),r=0;r<t;r++)e[r]=this._pointArray[r].uint32;return e},s.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},s.fromHTMLImageElement=function(t){var e=t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas");return i.width=e,i.height=r,i.getContext("2d").drawImage(t,0,0,e,r,0,0,e,r),s.fromHTMLCanvasElement(i)},s.fromHTMLCanvasElement=function(t){var e=t.width,r=t.height,r=t.getContext("2d").getImageData(0,0,e,r);return s.fromImageData(r)},s.fromImageData=function(t){var e=t.width,r=t.height;return s.fromUint8Array(t.data,e,r)},s.fromUint8Array=function(t,e,r){switch(Object.prototype.toString.call(t)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:t=new Uint8Array(t)}var i=new Uint32Array(t.buffer);return s.fromUint32Array(i,e,r)},s.fromUint32Array=function(t,e,r){var i=new s;i._width=e,i._height=r;for(var n=0,o=t.length;n<o;n++)i._pointArray[n]=k.Point.createByUint32(0|t[n]);return i},s.fromBuffer=function(t,e,r){t=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/Uint32Array.BYTES_PER_ELEMENT);return s.fromUint32Array(t,e,r)},s);function s(){this._width=0,this._height=0,this._pointArray=[]}e.PointContainer=r});e(w);w.PointContainer;var O=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function o(t,e){for(var r=360/e,i=1,n=r-r/2;i<e;i++,n+=r)if(n<=t&&t<n+r)return i;return 0}e.hueGroup=o;var r=(i.prototype.add=function(t){this._pointArray.push(t),this._pointContainer.setWidth(this._pointArray.length)},i.prototype.has=function(t){for(var e=this._pointArray.length-1;0<=e;e--)if(t.uint32===this._pointArray[e].uint32)return!0;return!1},i.prototype.getNearestColor=function(t,e){return this._pointArray[0|this._getNearestIndex(t,e)]},i.prototype.getPointContainer=function(){return this._pointContainer},i.prototype._nearestPointFromCache=function(t){return"number"==typeof this._i32idx[t]?this._i32idx[t]:-1},i.prototype._getNearestIndex=function(t,e){if(0<=(i=this._nearestPointFromCache(""+e.uint32)))return i;for(var r=Number.MAX_VALUE,i=0,n=0,o=this._pointArray.length;n<o;n++){var s=this._pointArray[n],s=t.calculateRaw(e.r,e.g,e.b,e.a,s.r,s.g,s.b,s.a);s<r&&(r=s,i=n)}return this._i32idx[e.uint32]=i},i.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(t,e){var r=s.rgb2hsl(t.r,t.g,t.b),i=s.rgb2hsl(e.r,e.g,e.b),n=t.r===t.g&&t.g===t.b?0:1+o(r.h,10),n=(e.r===e.g&&e.g===e.b?0:1+o(i.h,10))-n;if(n)return-n;t=t.getLuminosity(!0),e=e.getLuminosity(!0);if(e-t!=0)return e-t;r=(100*i.s|0)-(100*r.s|0);return r?-r:0})},i);function i(){this._pointArray=[],this._i32idx={},this._pointContainer=new w.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}e.Palette=r});e(O);O.hueGroup,O.Palette;var E=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){this.num=0,this.cols=[]},r=(n.prototype.check=function(t){this._groupsFull===this._numGroups+1&&(this.check=function(){});var e=255&t,r=t>>>8&255,i=t>>>16&255,e=e==r&&r==i?0:1+O.hueGroup(s.rgb2hsl(e,r,i).h,this._numGroups),r=this._stats[e],i=this._minCols;r.num++,r.num>i||(r.num===i&&this._groupsFull++,r.num<=i&&this._stats[e].cols.push(t))},n.prototype.injectIntoDictionary=function(e){for(var t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(function(t){e[t]?e[t]++:e[t]=1})},n.prototype.injectIntoArray=function(e){for(var t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(function(t){-1===e.indexOf(t)&&e.push(t)})},n);function n(t,e){this._numGroups=t,this._minCols=e,this._stats=[];for(var r=0;r<=t;r++)this._stats[r]=new i;this._groupsFull=0}e.HueStatistics=r});e(E);E.HueStatistics;var B=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.shouldNotify=function(t){return t-this._last>=this._step&&(this._last=t,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)},i.steps=100,i);function i(t,e){this._range=t,this._progressRange=e,this._step=Math.max(1,this._range/(i.steps+1)|0),this._last=-this._step,this.progress=0}e.ProgressTracker=r});e(B);B.ProgressTracker;var M=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.arithmetic=F,e.HueStatistics=E.HueStatistics,e.Palette=O.Palette,e.Point=k.Point,e.PointContainer=w.PointContainer,e.ProgressTracker=B.ProgressTracker});e(M);M.arithmetic,M.HueStatistics,M.Palette,M.Point,M.PointContainer,M.ProgressTracker;var T=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},n=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=(s.prototype.toPoint=function(){return k.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},s.prototype.subtract=function(t,e,r,i){this.r-=0|t,this.g-=0|e,this.b-=0|r,this.a-=0|i},s);function s(t){this.r=this.g=this.b=this.a=t}var a,r=(a=S.AbstractPaletteQuantizer,r(v,a),v.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},v.prototype.quantize=function(){return g(this,function(t){switch(t.label){case 0:return this._init(),[5,n(this._learn())];case 1:return t.sent(),[4,{palette:this._buildPalette(),progress:100}];case 2:return t.sent(),[2]}})},v.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var t=0;t<this._networkSize;t++)this._network[t]=new o((t<<11)/this._networkSize|0),this._freq[t]=v._initialBias/this._networkSize|0,this._bias[t]=0},v.prototype._learn=function(){var e,r,i,n,o,s,a,u,l,h,c,p,d,f,m;return g(this,function(t){switch(t.label){case 0:for(c=this._sampleFactor,(e=this._pointArray.length)<v._minpicturebytes&&(c=1),r=30+(c-1)/3|0,i=(p=e/c|0)/v._nCycles|0,n=v._initAlpha,o=(this._networkSize>>3)*v._radiusBias,(s=o>>v._radiusBiasShift)<=1&&(s=0),u=0;u<s;u++)this._radPower[u]=n*((s*s-u*u)*v._radBias/(s*s))>>>0;a=e<v._minpicturebytes?1:e%v._prime1!=0?v._prime1:e%v._prime2!=0?v._prime2:e%v._prime3!=0?v._prime3:v._prime4,d=new M.ProgressTracker(p,99),l=u=0,t.label=1;case 1:return u<p?d.shouldNotify(u)?[4,{progress:d.progress}]:[3,3]:[3,5];case 2:t.sent(),t.label=3;case 3:if(f=this._pointArray[l],h=f.b<<3,c=f.g<<3,p=f.r<<3,d=f.a<<3,f=this._contest(h,c,p,d),this._alterSingle(n,f,h,c,p,d),0!==s&&this._alterNeighbour(s,f,h,c,p,d),e<=(l+=a)&&(l-=e),0===i&&(i=1),++u%i==0)for(n-=n/r|0,(s=(o-=o/v._radiusDecrease|0)>>v._radiusBiasShift)<=1&&(s=0),m=0;m<s;m++)this._radPower[m]=n*((s*s-m*m)*v._radBias/(s*s))>>>0;t.label=4;case 4:return[3,1];case 5:return[2]}})},v.prototype._buildPalette=function(){var e=new O.Palette;return this._network.forEach(function(t){e.add(t.toPoint())}),e.sort(),e},v.prototype._alterNeighbour=function(t,e,r,i,n,o){var s=e-t;s<-1&&(s=-1);var a=e+t;a>this._networkSize&&(a=this._networkSize);for(var u=e+1,l=e-1,h=1;u<a||s<l;){var c,p=this._radPower[h++]/v._alphaRadBias;u<a&&(c=this._network[u++]).subtract(p*(c.r-n),p*(c.g-i),p*(c.b-r),p*(c.a-o)),s<l&&(c=this._network[l--]).subtract(p*(c.r-n),p*(c.g-i),p*(c.b-r),p*(c.a-o))}},v.prototype._alterSingle=function(t,e,r,i,n,o){t/=v._initAlpha;e=this._network[e];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-o))},v.prototype._contest=function(t,e,r,i){for(var n=~(1<<31),o=n,s=-1,a=s,u=0;u<this._networkSize;u++){var l=this._network[u],l=8160*this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:i})|0;l<n&&(n=l,s=u);l=l-(this._bias[u]>>v._initialBiasShift-3);l<o&&(o=l,a=u);l=this._freq[u]>>v._betaShift;this._freq[u]-=l,this._bias[u]+=l<<v._gammaShift}return this._freq[s]+=v._beta,this._bias[s]-=v._betaGamma,a},v._prime1=499,v._prime2=491,v._prime3=487,v._minpicturebytes=v._prime4=503,v._nCycles=100,v._initialBias=1<<(v._initialBiasShift=16),v._gammaShift=10,v._beta=v._initialBias>>(v._betaShift=10),v._betaGamma=v._initialBias<<v._gammaShift-v._betaShift,v._radiusBias=1<<(v._radiusBiasShift=6),v._radiusDecrease=30,v._initAlpha=1<<(v._alphaBiasShift=10),v._radBias=1<<(v._radBiasShift=8),v._alphaRadBias=1<<(v._alphaRadBiasShift=v._alphaBiasShift+v._radBiasShift),v);function v(t,e){void 0===e&&(e=256);var r=a.call(this)||this;return r._distance=t,r._pointArray=[],r._sampleFactor=1,r._networkSize=e,r._distance.setWhitePoint(2040,2040,2040,2040),r}e.NeuQuant=r});e(T);T.NeuQuant;var P=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),g=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},n=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o=(s.prototype.toPoint=function(){return k.Point.createByRGBA(this.r>>3,this.g>>3,this.b>>3,this.a>>3)},s.prototype.subtract=function(t,e,r,i){this.r-=t,this.g-=e,this.b-=r,this.a-=i},s);function s(t){this.r=this.g=this.b=this.a=t}var a,r=(a=S.AbstractPaletteQuantizer,r(v,a),v.prototype.sample=function(t){this._pointArray=this._pointArray.concat(t.getPointArray())},v.prototype.quantize=function(){return g(this,function(t){switch(t.label){case 0:return this._init(),[5,n(this._learn())];case 1:return t.sent(),[4,{palette:this._buildPalette(),progress:100}];case 2:return t.sent(),[2]}})},v.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var t=0;t<this._networkSize;t++)this._network[t]=new o((t<<11)/this._networkSize),this._freq[t]=v._initialBias/this._networkSize,this._bias[t]=0},v.prototype._learn=function(){var e,r,i,n,o,s,a,u,l,h,c,p,d,f,m;return g(this,function(t){switch(t.label){case 0:for(c=this._sampleFactor,(e=this._pointArray.length)<v._minpicturebytes&&(c=1),r=30+(c-1)/3,i=(p=e/c)/v._nCycles|0,n=v._initAlpha,o=(this._networkSize>>3)*v._radiusBias,(s=o>>v._radiusBiasShift)<=1&&(s=0),u=0;u<s;u++)this._radPower[u]=n*((s*s-u*u)*v._radBias/(s*s));a=e<v._minpicturebytes?1:e%v._prime1!=0?v._prime1:e%v._prime2!=0?v._prime2:e%v._prime3!=0?v._prime3:v._prime4,d=new M.ProgressTracker(p,99),l=u=0,t.label=1;case 1:return u<p?d.shouldNotify(u)?[4,{progress:d.progress}]:[3,3]:[3,5];case 2:t.sent(),t.label=3;case 3:if(f=this._pointArray[l],h=f.b<<3,c=f.g<<3,p=f.r<<3,d=f.a<<3,f=this._contest(h,c,p,d),this._alterSingle(n,f,h,c,p,d),0!==s&&this._alterNeighbour(s,f,h,c,p,d),e<=(l+=a)&&(l-=e),0===i&&(i=1),++u%i==0)for(n-=n/r,(s=(o-=o/v._radiusDecrease)>>v._radiusBiasShift)<=1&&(s=0),m=0;m<s;m++)this._radPower[m]=n*((s*s-m*m)*v._radBias/(s*s));t.label=4;case 4:return[3,1];case 5:return[2]}})},v.prototype._buildPalette=function(){var e=new O.Palette;return this._network.forEach(function(t){e.add(t.toPoint())}),e.sort(),e},v.prototype._alterNeighbour=function(t,e,r,i,n,o){var s=e-t;s<-1&&(s=-1);var a=e+t;a>this._networkSize&&(a=this._networkSize);for(var u=e+1,l=e-1,h=1;u<a||s<l;){var c,p=this._radPower[h++]/v._alphaRadBias;u<a&&(c=this._network[u++]).subtract(p*(c.r-n),p*(c.g-i),p*(c.b-r),p*(c.a-o)),s<l&&(c=this._network[l--]).subtract(p*(c.r-n),p*(c.g-i),p*(c.b-r),p*(c.a-o))}},v.prototype._alterSingle=function(t,e,r,i,n,o){t/=v._initAlpha;e=this._network[e];e.subtract(t*(e.r-n),t*(e.g-i),t*(e.b-r),t*(e.a-o))},v.prototype._contest=function(t,e,r,i){for(var n=~(1<<31),o=n,s=-1,a=s,u=0;u<this._networkSize;u++){var l=this._network[u],l=8160*this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:i});l<n&&(n=l,s=u);l=l-(this._bias[u]>>v._initialBiasShift-3);l<o&&(o=l,a=u);l=this._freq[u]>>v._betaShift;this._freq[u]-=l,this._bias[u]+=l<<v._gammaShift}return this._freq[s]+=v._beta,this._bias[s]-=v._betaGamma,a},v._prime1=499,v._prime2=491,v._prime3=487,v._minpicturebytes=v._prime4=503,v._nCycles=100,v._initialBias=1<<(v._initialBiasShift=16),v._gammaShift=10,v._beta=v._initialBias>>(v._betaShift=10),v._betaGamma=v._initialBias<<v._gammaShift-v._betaShift,v._radiusBias=1<<(v._radiusBiasShift=6),v._radiusDecrease=30,v._initAlpha=1<<(v._alphaBiasShift=10),v._radBias=1<<(v._radBiasShift=8),v._alphaRadBias=1<<(v._alphaRadBiasShift=v._alphaBiasShift+v._radBiasShift),v);function v(t,e){void 0===e&&(e=256);var r=a.call(this)||this;return r._distance=t,r._pointArray=[],r._sampleFactor=1,r._networkSize=e,r._distance.setWhitePoint(2040,2040,2040,2040),r}e.NeuQuantFloat=r});e(P);P.NeuQuantFloat;var A=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=(u.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t)}},u.prototype.getImportanceSortedColorsIDXI32=function(){var r=this,t=F.stableSort(Object.keys(this._histogram),function(t,e){return r._histogram[e]-r._histogram[t]});if(0===t.length)return[];switch(this._method){case 1:for(var e=Math.min(t.length,this._initColors),i=t[e-1],n=this._histogram[i],o=t.slice(0,e),s=e,a=t.length;s<a&&this._histogram[t[s]]===n;)o.push(t[s++]);this._hueStats.injectIntoArray(o);break;case 2:o=t;break;default:throw new Error("Incorrect method")}return o.map(function(t){return+t})},u.prototype._colorStats1D=function(t){for(var e=this._histogram,r=t.getPointArray(),i=r.length,n=0;n<i;n++){var o=r[n].uint32;this._hueStats.check(o),o in e?e[o]++:e[o]=1}},u.prototype._colorStats2D=function(t){var i=this,n=t.getWidth(),e=t.getHeight(),o=t.getPointArray(),r=u._boxSize[0],t=u._boxSize[1],s=r*t,t=this._makeBoxes(n,e,r,t),a=this._histogram;t.forEach(function(t){var e=Math.round(t.w*t.h/s)*u._boxPixels;e<2&&(e=2);var r={};i._iterateBox(t,n,function(t){t=o[t].uint32;i._hueStats.check(t),t in a?a[t]++:t in r?++r[t]>=e&&(a[t]=r[t]):r[t]=1})}),this._hueStats.injectIntoDictionary(a)},u.prototype._iterateBox=function(t,e,r){for(var i=t,t=i.y*e+i.x,n=(i.y+i.h-1)*e+(i.x+i.w-1),o=e-i.w+1,s=0,a=t;r.call(this,a),a+=++s%i.w==0?o:1,a<=n;);},u.prototype._makeBoxes=function(t,e,r,i){for(var n=t%r,o=e%i,s=t-n,a=e-o,u=[],l=0;l<e;l+=i)for(var h=0;h<t;h+=r)u.push({x:h,y:l,w:h===s?n:r,h:l===a?o:i});return u},u._boxSize=[64,64],u._boxPixels=2,u._hueGroups=10,u);function u(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new E.HueStatistics(u._hueGroups,this._minHueCols),this._histogram=Object.create(null)}e.ColorHistogram=r});e(A);A.ColorHistogram;var I=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),_=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},n=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var o,b=function(t,e,r){this.index=t,this.color=e,this.distance=r},r=(o=S.AbstractPaletteQuantizer,r(s,o),s.prototype.sample=function(t){this._histogram.sample(t)},s.prototype.quantize=function(){var e;return _(this,function(t){switch(t.label){case 0:if(0===(e=this._histogram.getImportanceSortedColorsIDXI32()).length)throw new Error("No colors in image");return[5,n(this._buildPalette(e))];case 1:return t.sent(),[2]}})},s.prototype._buildPalette=function(e){var r,i,n,o,s,a,u,l,h,c,p,d,f,m,g,v,y;return _(this,function(t){switch(t.label){case 0:for(r=new O.Palette,i=r.getPointContainer().getPointArray(),n=new Array(e.length),h=0;h<e.length;h++)i.push(k.Point.createByUint32(e[h])),n[h]=1;o=i.length,s=[],a=o,u=this._initialDistance,l=new M.ProgressTracker(a-this._colors,99),t.label=1;case 1:if(!(a>this._colors))return[3,7];s.length=0,h=0,t.label=2;case 2:return h<o?l.shouldNotify(o-a)?[4,{progress:l.progress}]:[3,4]:[3,6];case 3:t.sent(),t.label=4;case 4:if(0===n[h])return[3,5];for(c=i[h],p=h+1;p<o;p++)0!==n[p]&&(d=i[p],(f=this._distance.calculateNormalized(c,d))<u&&(s.push(new b(p,d,f)),n[p]=0,a--));t.label=5;case 5:return h++,[3,2];case 6:return u+=a>3*this._colors?this._initialDistance:this._distanceIncrement,[3,1];case 7:if(a<this._colors)for(F.stableSort(s,function(t,e){return e.distance-t.distance}),m=0;a<this._colors&&m<s.length;)g=s[m],n[g.index]=1,a++,m++;for(v=i.length,y=v-1;0<=y;y--)0===n[y]&&(y!==v-1&&(i[y]=i[v-1]),--v);return i.length=v,r.sort(),[4,{palette:r,progress:100}];case 8:return t.sent(),[2]}})},s);function s(t,e,r){void 0===e&&(e=256),void 0===r&&(r=2);var i=o.call(this)||this;return i._distance=t,i._colors=e,i._histogram=new A.ColorHistogram(r,e),i._initialDistance=.01,i._distanceIncrement=.005,i}e.RGBQuant=r});e(I);I.RGBQuant;var C=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),T=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},x=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function w(t){for(var e=[],r=0;r<t;r++)e[r]=0;return e}function n(t,e,r,i){for(var n=new Array(t),o=0;o<t;o++){n[o]=new Array(e);for(var s=0;s<e;s++){n[o][s]=new Array(r);for(var a=0;a<r;a++){n[o][s][a]=new Array(i);for(var u=0;u<i;u++)n[o][s][a][u]=0}}}return n}function P(t,e,r){for(var i=new Array(t),n=0;n<t;n++){i[n]=new Array(e);for(var o=0;o<e;o++){i[n][o]=new Array(r);for(var s=0;s<r;s++)i[n][o][s]=0}}return i}function A(t,e,r,i,n){for(var o=0;o<e;o++){t[o]=[];for(var s=0;s<r;s++){t[o][s]=[];for(var a=0;a<i;a++)t[o][s][a]=n}}}function I(t,e,r){for(var i=0;i<e;i++)t[i]=r}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){};e.WuColorCube=o;var s,r=(s=S.AbstractPaletteQuantizer,r(E,s),E.prototype.sample=function(t){for(var e=t.getPointArray(),r=0,i=e.length;r<i;r++)this._addColor(e[r]);this._pixels=this._pixels.concat(e)},E.prototype.quantize=function(){var e,r,i,n,o,s;return T(this,function(t){switch(t.label){case 0:return[5,x(this._preparePalette())];case 1:for(t.sent(),e=new O.Palette,r=0;r<this._colors;r++)0<this._sums[r]&&(s=this._sums[r],i=this._reds[r]/s,n=this._greens[r]/s,o=this._blues[r]/s,s=this._alphas[r]/s,s=k.Point.createByRGBA(0|i,0|n,0|o,0|s),e.add(s));return e.sort(),[4,{palette:e,progress:100}];case 2:return t.sent(),[2]}})},E.prototype._preparePalette=function(){var e,r,i,n,o,s,a,u,l,h,c,p,d,f,m,g,v,y,_,b;return T(this,function(t){switch(t.label){case 0:return[5,x(this._calculateMoments())];case 1:for(t.sent(),e=0,r=w(this._colors),i=1;i<this._colors;++i){for(this._cut(this._cubes[e],this._cubes[i])?(r[e]=1<this._cubes[e].volume?this._calculateVariance(this._cubes[e]):0,r[i]=1<this._cubes[i].volume?this._calculateVariance(this._cubes[i]):0):(r[e]=0,i--),n=r[e=0],c=1;c<=i;++c)r[c]>n&&(n=r[c],e=c);if(n<=0){this._colors=i+1;break}}for(o=[],s=[],a=[],u=[],l=0;l<this._colors;++l)0<(h=E._volume(this._cubes[l],this._weights))?(o[l]=E._volume(this._cubes[l],this._momentsRed)/h|0,s[l]=E._volume(this._cubes[l],this._momentsGreen)/h|0,a[l]=E._volume(this._cubes[l],this._momentsBlue)/h|0,u[l]=E._volume(this._cubes[l],this._momentsAlpha)/h|0):(o[l]=0,s[l]=0,a[l]=0,u[l]=0);for(this._reds=w(this._colors+1),this._greens=w(this._colors+1),this._blues=w(this._colors+1),this._alphas=w(this._colors+1),this._sums=w(this._colors+1),c=0,p=this._pixels.length;c<p;c++){for(d=this._pixels[c],f=-1,m=Number.MAX_VALUE,g=0;g<this._colors;g++)v=o[g],y=s[g],_=a[g],b=u[g],(b=this._distance.calculateRaw(v,y,_,b,d.r,d.g,d.b,d.a))<m&&(m=b,f=g);this._reds[f]+=d.r,this._greens[f]+=d.g,this._blues[f]+=d.b,this._alphas[f]+=d.a,this._sums[f]++}return[2]}})},E.prototype._addColor=function(t){var e=8-this._significantBitsPerChannel,r=1+(t.r>>e),i=1+(t.g>>e),n=1+(t.b>>e),e=1+(t.a>>e);this._weights[e][r][i][n]++,this._momentsRed[e][r][i][n]+=t.r,this._momentsGreen[e][r][i][n]+=t.g,this._momentsBlue[e][r][i][n]+=t.b,this._momentsAlpha[e][r][i][n]+=t.a,this._moments[e][r][i][n]+=this._table[t.r]+this._table[t.g]+this._table[t.b]+this._table[t.a]},E.prototype._calculateMoments=function(){var e,r,i,n,o,s,a,u,l,h,c,p,d,f,m,g,v,y,_,b,x,w,E,S;return T(this,function(t){switch(t.label){case 0:e=[],r=[],i=[],n=[],o=[],s=[],a=P(this._sideSize,this._sideSize,this._sideSize),u=P(this._sideSize,this._sideSize,this._sideSize),l=P(this._sideSize,this._sideSize,this._sideSize),h=P(this._sideSize,this._sideSize,this._sideSize),c=P(this._sideSize,this._sideSize,this._sideSize),p=P(this._sideSize,this._sideSize,this._sideSize),d=0,f=new M.ProgressTracker(this._alphaMaxSideIndex*this._maxSideIndex,99),m=1,t.label=1;case 1:if(!(m<=this._alphaMaxSideIndex))return[3,7];A(a,this._sideSize,this._sideSize,this._sideSize,0),A(u,this._sideSize,this._sideSize,this._sideSize,0),A(l,this._sideSize,this._sideSize,this._sideSize,0),A(h,this._sideSize,this._sideSize,this._sideSize,0),A(c,this._sideSize,this._sideSize,this._sideSize,0),A(p,this._sideSize,this._sideSize,this._sideSize,0),g=1,t.label=2;case 2:return g<=this._maxSideIndex?f.shouldNotify(d)?[4,{progress:f.progress}]:[3,4]:[3,6];case 3:t.sent(),t.label=4;case 4:for(I(e,this._sideSize,0),I(r,this._sideSize,0),I(i,this._sideSize,0),I(n,this._sideSize,0),I(o,this._sideSize,0),I(s,this._sideSize,0),v=1;v<=this._maxSideIndex;++v)for(E=w=x=b=_=y=0,S=1;S<=this._maxSideIndex;++S)y+=this._weights[m][g][v][S],_+=this._momentsRed[m][g][v][S],b+=this._momentsGreen[m][g][v][S],x+=this._momentsBlue[m][g][v][S],w+=this._momentsAlpha[m][g][v][S],E+=this._moments[m][g][v][S],e[S]+=y,r[S]+=_,i[S]+=b,n[S]+=x,o[S]+=w,s[S]+=E,a[g][v][S]=a[g-1][v][S]+e[S],u[g][v][S]=u[g-1][v][S]+r[S],l[g][v][S]=l[g-1][v][S]+i[S],h[g][v][S]=h[g-1][v][S]+n[S],c[g][v][S]=c[g-1][v][S]+o[S],p[g][v][S]=p[g-1][v][S]+s[S],this._weights[m][g][v][S]=this._weights[m-1][g][v][S]+a[g][v][S],this._momentsRed[m][g][v][S]=this._momentsRed[m-1][g][v][S]+u[g][v][S],this._momentsGreen[m][g][v][S]=this._momentsGreen[m-1][g][v][S]+l[g][v][S],this._momentsBlue[m][g][v][S]=this._momentsBlue[m-1][g][v][S]+h[g][v][S],this._momentsAlpha[m][g][v][S]=this._momentsAlpha[m-1][g][v][S]+c[g][v][S],this._moments[m][g][v][S]=this._moments[m-1][g][v][S]+p[g][v][S];t.label=5;case 5:return++g,++d,[3,2];case 6:return++m,[3,1];case 7:return[2]}})},E._volumeFloat=function(t,e){return e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMaximum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(e[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]-e[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+e[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-e[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]+e[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-e[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum])},E._volume=function(t,e){return 0|E._volumeFloat(t,e)},E._top=function(t,e,r,i){var n;switch(e){case E._alpha:n=i[r][t.redMaximum][t.greenMaximum][t.blueMaximum]-i[r][t.redMaximum][t.greenMinimum][t.blueMaximum]-i[r][t.redMinimum][t.greenMaximum][t.blueMaximum]+i[r][t.redMinimum][t.greenMinimum][t.blueMaximum]-(i[r][t.redMaximum][t.greenMaximum][t.blueMinimum]-i[r][t.redMaximum][t.greenMinimum][t.blueMinimum]-i[r][t.redMinimum][t.greenMaximum][t.blueMinimum]+i[r][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case E._red:n=i[t.alphaMaximum][r][t.greenMaximum][t.blueMaximum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMaximum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMaximum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMaximum]-(i[t.alphaMaximum][r][t.greenMaximum][t.blueMinimum]-i[t.alphaMaximum][r][t.greenMinimum][t.blueMinimum]-i[t.alphaMinimum][r][t.greenMaximum][t.blueMinimum]+i[t.alphaMinimum][r][t.greenMinimum][t.blueMinimum]);break;case E._green:n=i[t.alphaMaximum][t.redMaximum][r][t.blueMaximum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMaximum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMaximum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMaximum]-(i[t.alphaMaximum][t.redMaximum][r][t.blueMinimum]-i[t.alphaMaximum][t.redMinimum][r][t.blueMinimum]-i[t.alphaMinimum][t.redMaximum][r][t.blueMinimum]+i[t.alphaMinimum][t.redMinimum][r][t.blueMinimum]);break;case E._blue:n=i[t.alphaMaximum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMaximum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMaximum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMaximum][t.redMinimum][t.greenMinimum][r]-(i[t.alphaMinimum][t.redMaximum][t.greenMaximum][r]-i[t.alphaMinimum][t.redMaximum][t.greenMinimum][r]-i[t.alphaMinimum][t.redMinimum][t.greenMaximum][r]+i[t.alphaMinimum][t.redMinimum][t.greenMinimum][r]);break;default:throw new Error("impossible")}return 0|n},E._bottom=function(t,e,r){switch(e){case E._alpha:return-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case E._red:return-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case E._green:return-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case E._blue:return-r[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}},E.prototype._calculateVariance=function(t){var e=E._volume(t,this._momentsRed),r=E._volume(t,this._momentsGreen),i=E._volume(t,this._momentsBlue),n=E._volume(t,this._momentsAlpha);return E._volumeFloat(t,this._moments)-(e*e+r*r+i*i+n*n)/E._volume(t,this._weights)},E.prototype._maximize=function(t,e,r,i,n,o,s,a,u){for(var l=0|E._bottom(t,e,this._momentsRed),h=0|E._bottom(t,e,this._momentsGreen),c=0|E._bottom(t,e,this._momentsBlue),p=0|E._bottom(t,e,this._momentsAlpha),d=0|E._bottom(t,e,this._weights),f=0,m=-1,g=r;g<i;++g){var v,y=l+E._top(t,e,g,this._momentsRed),_=h+E._top(t,e,g,this._momentsGreen),b=c+E._top(t,e,g,this._momentsBlue),x=p+E._top(t,e,g,this._momentsAlpha),w=d+E._top(t,e,g,this._weights);0!==w&&(v=(y*y+_*_+b*b+x*x)/w,y=n-y,_=o-_,b=s-b,x=a-x,0!=(w=u-w)&&f<(v+=(y*y+_*_+b*b+x*x)/w)&&(f=v,m=g))}return{max:f,position:m}},E.prototype._cut=function(t,e){var r,i=E._volume(t,this._momentsRed),n=E._volume(t,this._momentsGreen),o=E._volume(t,this._momentsBlue),s=E._volume(t,this._momentsAlpha),a=E._volume(t,this._weights),u=this._maximize(t,E._red,t.redMinimum+1,t.redMaximum,i,n,o,s,a),l=this._maximize(t,E._green,t.greenMinimum+1,t.greenMaximum,i,n,o,s,a),h=this._maximize(t,E._blue,t.blueMinimum+1,t.blueMaximum,i,n,o,s,a),c=this._maximize(t,E._alpha,t.alphaMinimum+1,t.alphaMaximum,i,n,o,s,a);if(c.max>=u.max&&c.max>=l.max&&c.max>=h.max){if(r=E._alpha,c.position<0)return!1}else r=u.max>=c.max&&u.max>=l.max&&u.max>=h.max?E._red:l.max>=c.max&&l.max>=u.max&&l.max>=h.max?E._green:E._blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,r){case E._red:e.redMinimum=t.redMaximum=u.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case E._green:e.greenMinimum=t.greenMaximum=l.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case E._blue:e.blueMinimum=t.blueMaximum=h.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case E._alpha:e.alphaMinimum=t.alphaMaximum=c.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0},E.prototype._initialize=function(t){this._colors=t,this._cubes=[];for(var e=0;e<t;e++)this._cubes[e]=new o;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=n(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var r=0;r<256;++r)this._table[r]=r*r;this._pixels=[]},E.prototype._setQuality=function(t){void 0===t&&(t=5),this._significantBitsPerChannel=t,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},E._alpha=3,E._red=2,E._green=1,E._blue=0,E);function E(t,e,r){void 0===e&&(e=256),void 0===r&&(r=5);var i=s.call(this)||this;return i._distance=t,i._setQuality(r),i._initialize(e),i}e.WuQuant=r});e(C);C.WuColorCube,C.WuQuant;var D=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPaletteQuantizer=S.AbstractPaletteQuantizer,e.NeuQuant=T.NeuQuant,e.NeuQuantFloat=P.NeuQuantFloat,e.RGBQuant=I.RGBQuant,e.ColorHistogram=A.ColorHistogram,e.WuQuant=C.WuQuant,e.WuColorCube=C.WuColorCube});e(D);D.AbstractPaletteQuantizer,D.NeuQuant,D.NeuQuantFloat,D.RGBQuant,D.ColorHistogram,D.WuQuant,D.WuColorCube;var R=r(function(t,e){var a=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.quantizeSync=function(t,e){try{for(var r=a(this.quantize(t,e)),i=r.next();!i.done;i=r.next()){var n=i.value;if(n.pointContainer)return n.pointContainer}}catch(t){o={error:t}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(o)throw o.error}}throw new Error("unreachable");var o,s},i);function i(){}e.AbstractImageQuantizer=r});e(R);R.AbstractImageQuantizer;var L=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=R.AbstractImageQuantizer,r(o,n),o.prototype.quantize=function(e,r){var i,n,o,s,a,u,l,h;return c(this,function(t){switch(t.label){case 0:i=e.getPointArray(),n=e.getWidth(),o=e.getHeight(),s=new B.ProgressTracker(o,99),a=0,t.label=1;case 1:return a<o?s.shouldNotify(a)?[4,{progress:s.progress}]:[3,3]:[3,5];case 2:t.sent(),t.label=3;case 3:for(u=0,l=a*n;u<n;u++,l++)(h=i[l]).from(r.getNearestColor(this._distance,h));t.label=4;case 4:return a++,[3,1];case 5:return[4,{pointContainer:e,progress:100}];case 6:return t.sent(),[2]}})},o);function o(t){var e=n.call(this)||this;return e._distance=t,e}e.NearestColor=r});e(L);L.NearestColor;var N=r(function(t,e){var i,r,n,o=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),L=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},N=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0}),(n=r=e.ErrorDiffusionArrayKernel||(e.ErrorDiffusionArrayKernel={}))[n.FloydSteinberg=0]="FloydSteinberg",n[n.FalseFloydSteinberg=1]="FalseFloydSteinberg",n[n.Stucki=2]="Stucki",n[n.Atkinson=3]="Atkinson",n[n.Jarvis=4]="Jarvis",n[n.Burkes=5]="Burkes",n[n.Sierra=6]="Sierra",n[n.TwoSierra=7]="TwoSierra",n[n.SierraLite=8]="SierraLite";var s,o=(s=R.AbstractImageQuantizer,o(a,s),a.prototype.quantize=function(e,r){var i,n,o,s,a,u,l,h,c,p,d,f,m,g,v,y,_,b,x,w,E,S,T,P,A,I,O,M,C,D,R;return L(this,function(t){switch(t.label){case 0:i=e.getPointArray(),n=new k.Point,o=e.getWidth(),s=e.getHeight(),a=[],l=u=1;try{for(h=N(this._kernel),c=h.next();!c.done;c=h.next())p=c.value,p=p[2]+1,l<p&&(l=p)}catch(t){D={error:t}}finally{try{c&&!c.done&&(R=h.return)&&R.call(h)}finally{if(D)throw D.error}}for(I=0;I<l;I++)this._fillErrorLine(a[I]=[],o);m=new B.ProgressTracker(s,99),d=0,t.label=1;case 1:return d<s?m.shouldNotify(d)?[4,{progress:m.progress}]:[3,3]:[3,5];case 2:t.sent(),t.label=3;case 3:for(this._serpentine&&(u*=-1),f=d*o,m=1===u?0:o-1,g=1===u?o:-1,this._fillErrorLine(a[0],o),a.push(a.shift()),v=a[0],_=f+(y=m);y!==g;y+=u,_+=u)if(b=i[_],P=v[y],n.from(b),x=k.Point.createByRGBA(F.inRange0to255Rounded(b.r+P[0]),F.inRange0to255Rounded(b.g+P[1]),F.inRange0to255Rounded(b.b+P[2]),F.inRange0to255Rounded(b.a+P[3])),P=r.getNearestColor(this._distance,x),b.from(P),!(this._minColorDistance&&this._distance.calculateNormalized(b,P)<this._minColorDistance))for(T=S=E=w=void 0,T=this._calculateErrorLikeGIMP?(w=x.r-P.r,E=x.g-P.g,S=x.b-P.b,x.a-P.a):(w=n.r-P.r,E=n.g-P.g,S=n.b-P.b,n.a-P.a),P=1===u?0:this._kernel.length-1,A=1===u?this._kernel.length:-1,I=P;I!==A;I+=u)C=this._kernel[I][1]*u,O=this._kernel[I][2],0<=C+y&&C+y<o&&0<=O+d&&O+d<s&&(M=this._kernel[I][0],(C=a[O][C+y])[0]=C[0]+w*M,C[1]=C[1]+E*M,C[2]=C[2]+S*M,C[3]=C[3]+T*M);t.label=4;case 4:return d++,[3,1];case 5:return[4,{pointContainer:e,progress:100}];case 6:return t.sent(),[2]}})},a.prototype._fillErrorLine=function(t,e){t.length>e&&(t.length=e);for(var r=t.length,i=0;i<r;i++){var n=t[i];n[0]=n[1]=n[2]=n[3]=0}for(i=r;i<e;i++)t[i]=[0,0,0,0]},a.prototype._setKernel=function(t){switch(t){case r.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case r.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[.25,1,1]];break;case r.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case r.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case r.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case r.Burkes:this._kernel=[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]];break;case r.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case r.TwoSierra:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]];break;case r.SierraLite:this._kernel=[[.5,1,0],[.25,-1,1],[.25,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+t)}},a);function a(t,e,r,i,n){void 0===r&&(r=!0),void 0===i&&(i=0),void 0===n&&(n=!1);var o=s.call(this)||this;return o._setKernel(e),o._distance=t,o._minColorDistance=i,o._serpentine=r,o._calculateErrorLikeGIMP=n,o}e.ErrorDiffusionArray=o});e(N);N.ErrorDiffusionArrayKernel,N.ErrorDiffusionArray;var j=r(function(t,e){var s,r,a=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},u=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};function l(t,e){switch(0<=t.x&&t.x<t.width&&0<=t.y&&t.y<t.height&&(t.callback(t.x,t.y),t.index++),e){case s.LEFT:t.x--;break;case s.RIGHT:t.x++;break;case s.UP:t.y--;break;case s.DOWN:t.y++}}Object.defineProperty(e,"__esModule",{value:!0}),(r=s=s||{})[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT",r[r.DOWN=4]="DOWN",e.hilbertCurve=function(e,r,i){var n,o;return a(this,function(t){switch(t.label){case 0:return o=Math.max(e,r),n=Math.floor(Math.log(o)/Math.log(2)+1),o=new B.ProgressTracker(e*r,99),[5,u(function e(r,i){return a(this,function(t){switch(t.label){case 0:return r.level<1?[2]:r.tracker.shouldNotify(r.index)?[4,{progress:r.tracker.progress}]:[3,2];case 1:t.sent(),t.label=2;case 2:switch(r.level--,i){case s.LEFT:return[3,3];case s.RIGHT:return[3,8];case s.UP:return[3,13];case s.DOWN:return[3,18]}return[3,23];case 3:return[5,u(e(r,s.UP))];case 4:return t.sent(),l(r,s.RIGHT),[5,u(e(r,s.LEFT))];case 5:return t.sent(),l(r,s.DOWN),[5,u(e(r,s.LEFT))];case 6:return t.sent(),l(r,s.LEFT),[5,u(e(r,s.DOWN))];case 7:return t.sent(),[3,24];case 8:return[5,u(e(r,s.DOWN))];case 9:return t.sent(),l(r,s.LEFT),[5,u(e(r,s.RIGHT))];case 10:return t.sent(),l(r,s.UP),[5,u(e(r,s.RIGHT))];case 11:return t.sent(),l(r,s.RIGHT),[5,u(e(r,s.UP))];case 12:return t.sent(),[3,24];case 13:return[5,u(e(r,s.LEFT))];case 14:return t.sent(),l(r,s.DOWN),[5,u(e(r,s.UP))];case 15:return t.sent(),l(r,s.RIGHT),[5,u(e(r,s.UP))];case 16:return t.sent(),l(r,s.UP),[5,u(e(r,s.RIGHT))];case 17:return t.sent(),[3,24];case 18:return[5,u(e(r,s.RIGHT))];case 19:return t.sent(),l(r,s.UP),[5,u(e(r,s.DOWN))];case 20:return t.sent(),l(r,s.LEFT),[5,u(e(r,s.DOWN))];case 21:return t.sent(),l(r,s.DOWN),[5,u(e(r,s.LEFT))];case 22:return t.sent(),[3,24];case 23:return[3,24];case 24:return r.level++,[2]}})}(o={width:e,height:r,level:n,callback:i,tracker:o,index:0,x:0,y:0},s.UP))];case 1:return t.sent(),l(o,s.NONE),[2]}})}});e(j);j.hilbertCurve;var U=r(function(t,e){var i,r=y&&y.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),n=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});var s,r=(s=R.AbstractImageQuantizer,r(a,s),a.prototype.quantize=function(e,h){var c,p,r,d,f,i,m=this;return n(this,function(t){switch(t.label){case 0:for(c=e.getPointArray(),p=e.getWidth(),r=e.getHeight(),d=[],i=f=0;i<this._errorQueueSize;i++)d[i]={r:0,g:0,b:0,a:0};return[5,o(j.hilbertCurve(p,r,function(t,e){for(var r=c[t+e*p],i=r.r,n=r.g,o=r.b,s=r.a,a=0;a<m._errorQueueSize;a++){var u=m._weights[a],l=d[(a+f)%m._errorQueueSize];i+=l.r*u,n+=l.g*u,o+=l.b*u,s+=l.a*u}t=k.Point.createByRGBA(F.inRange0to255Rounded(i),F.inRange0to255Rounded(n),F.inRange0to255Rounded(o),F.inRange0to255Rounded(s)),e=h.getNearestColor(m._distance,t),t=((f=(f+1)%m._errorQueueSize)+m._errorQueueSize-1)%m._errorQueueSize;d[t].r=r.r-e.r,d[t].g=r.g-e.g,d[t].b=r.b-e.b,d[t].a=r.a-e.a,r.from(e)}))];case 1:return t.sent(),[4,{pointContainer:e,progress:100}];case 2:return t.sent(),[2]}})},a._createWeights=function(t,e){for(var r=[],i=Math.exp(Math.log(e)/(e-1)),n=0,o=1;n<e;n++)r[n]=(o+.5|0)/e*t,o*=i;return r},a);function a(t,e,r){void 0===e&&(e=16),void 0===r&&(r=1);var i=s.call(this)||this;return i._distance=t,i._errorQueueSize=e,i._weights=a._createWeights(r,e),i}e.ErrorDiffusionRiemersma=r});e(U);U.ErrorDiffusionRiemersma;var H=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageQuantizer=R.AbstractImageQuantizer,e.NearestColor=L.NearestColor,e.ErrorDiffusionArray=N.ErrorDiffusionArray,e.ErrorDiffusionArrayKernel=N.ErrorDiffusionArrayKernel,e.ErrorDiffusionRiemersma=U.ErrorDiffusionRiemersma});e(H);H.AbstractImageQuantizer,H.NearestColor,H.ErrorDiffusionArray,H.ErrorDiffusionArrayKernel,H.ErrorDiffusionRiemersma;var G=r(function(t,e){var s=y&&y.__values||function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};Object.defineProperty(e,"__esModule",{value:!0});function f(t,e,r,i,n){for(var o=t.getPointArray(),s=[],a=0,u=r;u<r+n;u++)for(var l=u*t.getWidth(),h=e;h<e+i;h++){var c=o[l+h];s[a]=c.r*g.Y.RED+c.g*g.Y.GREEN+c.b*g.Y.BLUE,a++}return s}function m(t){var e,r,i=0;try{for(var n=s(t),o=n.next();!o.done;o=n.next())i+=o.value}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return i/t.length}e.ssim=function(t,e){if(t.getHeight()!==e.getHeight()||t.getWidth()!==e.getWidth())throw new Error("Images have different sizes!");var h=Math.pow(.01*255,2),c=Math.pow(.03*255,2),p=0,d=0;return function(t,e,r){for(var i=t.getWidth(),n=t.getHeight(),o=0;o<n;o+=8)for(var s=0;s<i;s+=8){var a=Math.min(8,i-s),u=Math.min(8,n-o),l=f(t,s,o,a,u),h=f(e,s,o,a,u),a=m(l),u=m(h);r(l,h,a,u)}}(t,e,function(t,e,r,i){for(var n=0,o=0,s=0,a=0;a<t.length;a++)o+=Math.pow(t[a]-r,2),s+=Math.pow(e[a]-i,2),n+=(t[a]-r)*(e[a]-i);var u=t.length-1;o/=u,s/=u;var l=(2*r*i+h)*(2*(n/=u)+c),u=(Math.pow(r,2)+Math.pow(i,2)+h)*(o+s+c);d+=l/u,p++}),d/p}});e(G);G.ssim;var z=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ssim=G.ssim});e(z);z.ssim;function X(t){return"object"==typeof t?null!==t:"function"==typeof t}function W(t){if(!X(t))throw TypeError(t+" is not an object!");return t}function Y(t){return tt?J.createElement(t):{}}function q(t,e){return ot.call(t,e)}function V(i,n,t){if(!function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(i),void 0===n)return i;switch(t){case 1:return function(t){return i.call(n,t)};case 2:return function(t,e){return i.call(n,t,e)};case 3:return function(t,e,r){return i.call(n,t,e,r)}}return function(){return i.apply(n,arguments)}}var $=r(function(t){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),K=r(function(t){t=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)}),Q=(K.version,function(t){try{return!!t()}catch(t){return!0}}),Z=!Q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),J=$.document,tt=X(J)&&X(J.createElement),et=!Z&&!Q(function(){return 7!=Object.defineProperty(Y("div"),"a",{get:function(){return 7}}).a}),rt=Object.defineProperty,it={f:Z?Object.defineProperty:function(t,e,r){if(W(t),e=function(t,e){if(!X(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!X(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!X(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!X(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),W(r),et)try{return rt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},nt=Z?function(t,e,r){return it.f(t,e,{enumerable:!((e=1)&e),configurable:!(2&e),writable:!(4&e),value:r})}:function(t,e,r){return t[e]=r,t},ot={}.hasOwnProperty,st=0,at=Math.random(),ut=r(function(t){var o="Symbol(".concat(void 0===(e="src")?"":e,")_",(++st+at).toString(36)),e="toString",r=Function[e],s=(""+r).split(e);K.inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,r,i){var n="function"==typeof r;n&&(q(r,"name")||nt(r,"name",e)),t[e]!==r&&(n&&(q(r,o)||nt(r,o,t[e]?""+t[e]:s.join(String(e)))),t===$?t[e]=r:i?t[e]?t[e]=r:nt(t,e,r):(delete t[e],nt(t,e,r)))})(Function.prototype,e,function(){return"function"==typeof this&&this[o]||r.call(this)})}),lt="prototype",ht=function(t,e,r){var i,n,o,s=t&ht.F,a=t&ht.G,u=t&ht.S,l=t&ht.P,h=t&ht.B,c=a?$:u?$[e]||($[e]={}):($[e]||{})[lt],p=a?K:K[e]||(K[e]={}),d=p[lt]||(p[lt]={});for(i in a&&(r=e),r)n=((o=!s&&c&&void 0!==c[i])?c:r)[i],o=h&&o?V(n,$):l&&"function"==typeof n?V(Function.call,n):n,c&&ut(c,i,n,t&ht.U),p[i]!=n&&nt(p,i,o),l&&d[i]!=n&&(d[i]=n)};$.core=K,ht.F=1,ht.G=2,ht.S=4,ht.P=8,ht.B=16,ht.W=32,ht.U=64,ht.R=128;function ct(){var t,e=+this;St.hasOwnProperty(e)&&(t=St[e],delete St[e],t())}var pt,dt,ft=ht,mt=$.document,gt=mt&&mt.documentElement,vt={}.toString,yt=$.process,_t=$.setImmediate,bt=$.clearImmediate,xt=$.MessageChannel,wt=$.Dispatch,Et=0,St={},Tt="onreadystatechange",Pt=function(t){ct.call(t.data)};_t&&bt||(_t=function(t){for(var e=[],r=1;r<arguments.length;)e.push(arguments[r++]);return St[++Et]=function(){!function(t,e,r){var i=void 0===r;switch(e.length){case 0:return i?t():t.call(r);case 1:return i?t(e[0]):t.call(r,e[0]);case 2:return i?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}t.apply(r,e)}("function"==typeof t?t:Function(t),e)},pt(Et),Et},bt=function(t){delete St[t]},"process"==(dt=yt,vt.call(dt).slice(8,-1))?pt=function(t){yt.nextTick(V(ct,t,1))}:wt&&wt.now?pt=function(t){wt.now(V(ct,t,1))}:xt?(Dt=(Ct=new xt).port2,Ct.port1.onmessage=Pt,pt=V(Dt.postMessage,Dt,1)):$.addEventListener&&"function"==typeof postMessage&&!$.importScripts?(pt=function(t){$.postMessage(t+"","*")},$.addEventListener("message",Pt,!1)):pt=Tt in Y("script")?function(t){gt.appendChild(Y("script"))[Tt]=function(){gt.removeChild(this),ct.call(t)}}:function(t){setTimeout(V(ct,t,1),0)});var At={set:_t,clear:bt};ft(ft.G+ft.B,{setImmediate:At.set,clearImmediate:At.clear});var It=K.setImmediate,Ot=r(function(t,e){var r=y&&y.__awaiter||function(o,s,a,u){return new(a=a||Promise)(function(t,e){function r(t){try{n(u.next(t))}catch(t){e(t)}}function i(t){try{n(u.throw(t))}catch(t){e(t)}}function n(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(r,i)}n((u=u.apply(o,s||[])).next())})},i=y&&y.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var n=D;function d(t){switch(void 0===t&&(t="euclidean-bt709"),t){case"cie94-graphic-arts":return new x.CIE94GraphicArts;case"cie94-textiles":return new x.CIE94Textiles;case"ciede2000":return new x.CIEDE2000;case"color-metric":return new x.CMetric;case"euclidean":return new x.Euclidean;case"euclidean-bt709":return new x.EuclideanBT709;case"euclidean-bt709-noalpha":return new x.EuclideanBT709NoAlpha;case"manhattan":return new x.Manhattan;case"manhattan-bt709":return new x.ManhattanBT709;case"manhattan-nommyde":return new x.ManhattanNommyde;case"pngquant":return new x.PNGQuant;default:throw new Error("Unknown colorDistanceFormula "+t)}}function p(t,e){switch(void 0===e&&(e="floyd-steinberg"),e){case"nearest":return new H.NearestColor(t);case"riemersma":return new H.ErrorDiffusionRiemersma(t);case"floyd-steinberg":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.FloydSteinberg);case"false-floyd-steinberg":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.FalseFloydSteinberg);case"stucki":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.Stucki);case"atkinson":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.Atkinson);case"jarvis":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.Jarvis);case"burkes":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.Burkes);case"sierra":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.Sierra);case"two-sierra":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.TwoSierra);case"sierra-lite":return new H.ErrorDiffusionArray(t,H.ErrorDiffusionArrayKernel.SierraLite);default:throw new Error("Unknown imageQuantization "+e)}}function f(t,e,r){switch(void 0===e&&(e="wuquant"),void 0===r&&(r=256),e){case"neuquant":return new n.NeuQuant(t,r);case"rgbquant":return new n.RGBQuant(t,r);case"wuquant":return new n.WuQuant(t,r);case"neuquant-float":return new n.NeuQuantFloat(t,r);default:throw new Error("Unknown paletteQuantization "+e)}}e.buildPaletteSync=function(t,e){var r=(i=void 0===e?{}:e).colorDistanceFormula,e=i.paletteQuantization,i=i.colors,n=f(d(r),e,i);return t.forEach(function(t){return n.sample(t)}),n.quantizeSync()},e.buildPalette=function(u,t){var l=(t=void 0===t?{}:t).colorDistanceFormula,h=t.paletteQuantization,c=t.colors,p=t.onProgress;return r(this,void 0,void 0,function(){return i(this,function(t){return[2,new Promise(function(e,r){var i,n=f(d(l),h,c);u.forEach(function(t){return n.sample(t)});var o=n.quantize(),s=function(){try{var t=o.next();t.done?e(i):(t.value.palette&&(i=t.value.palette),p&&p(t.value.progress),a=It(s))}catch(t){clearTimeout(a),r(t)}},a=It(s)})]})})},e.applyPaletteSync=function(t,e,r){var r=(i=void 0===r?{}:r).colorDistanceFormula,i=i.imageQuantization;return p(d(r),i).quantizeSync(t,e)},e.applyPalette=function(a,u,t){var l=(t=void 0===t?{}:t).colorDistanceFormula,h=t.imageQuantization,c=t.onProgress;return r(this,void 0,void 0,function(){return i(this,function(t){return[2,new Promise(function(e,r){var i,n=p(d(l),h).quantize(a,u),o=function(){try{var t=n.next();t.done?e(i):(t.value.pointContainer&&(i=t.value.pointContainer),c&&c(t.value.progress),s=It(o))}catch(t){clearTimeout(s),r(t)}},s=It(o)})]})})}});e(Ot);Ot.buildPaletteSync,Ot.buildPalette,Ot.applyPaletteSync,Ot.applyPalette;var Mt=r(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.constants=i,e.conversion=h,e.distance=x,e.palette=D,e.image=H,e.quality=z,e.utils=M,e.buildPalette=Ot.buildPalette,e.buildPaletteSync=Ot.buildPaletteSync,e.applyPalette=Ot.applyPalette,e.applyPaletteSync=Ot.applyPaletteSync}),Q=e(Mt),Z=Mt.constants,mt=Mt.conversion,xt=Mt.distance,Ct=Mt.palette,Dt=Mt.image,Pt=Mt.quality,_t=Mt.utils,bt=Mt.buildPalette,ft=Mt.buildPaletteSync,At=Mt.applyPalette,Mt=Mt.applyPaletteSync;t.default=Q,t.constants=Z,t.conversion=mt,t.distance=xt,t.palette=Ct,t.image=Dt,t.quality=Pt,t.utils=_t,t.buildPalette=bt,t.buildPaletteSync=ft,t.applyPalette=At,t.applyPaletteSync=Mt,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof i&&void 0!==r?e(i):"function"==typeof define&&define.amd?define(["exports"],e):e(t["image-q"]={})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(t,e,r){"use strict";r.__esModule=!0,function(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}(t("./isMobile"));t=t("./isMobile");r.default=t.default},{"./isMobile":40}],40:[function(t,e,r){"use strict";r.__esModule=!0;function n(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var o=/iPhone/i,s=/iPod/i,a=/iPad/i,u=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,p=/Silk/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,v=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;r.default=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r,i=e.userAgent;return void 0!==(t=i.split("[FBAN"))[1]&&(i=t[0]),void 0!==(t=i.split("Twitter"))[1]&&(i=t[0]),(i={apple:{phone:(i=(r=i,function(t){return t.test(r)}))(o)&&!i(d),ipod:i(s),tablet:!i(o)&&(i(a)||n(e))&&!i(d),universal:i(u),device:(i(o)||i(s)||i(a)||i(u)||n(e))&&!i(d)},amazon:{phone:i(c),tablet:!i(c)&&i(p),device:i(c)||i(p)},android:{phone:!i(d)&&i(c)||!i(d)&&i(l),tablet:!i(d)&&!i(c)&&!i(l)&&(i(p)||i(h)),device:!i(d)&&(i(c)||i(p)||i(l)||i(h))||i(/\bokhttp\b/i)},windows:{phone:i(d),tablet:i(f),device:i(d)||i(f)},other:{blackberry:i(m),blackberry10:i(g),opera:i(v),firefox:i(_),chrome:i(y),device:i(m)||i(g)||i(v)||i(_)||i(y)},any:!1,phone:!1,tablet:!1}).any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}},{}],41:[function(t,r,e){!function(t,e){"use strict";"object"==typeof r&&"object"==typeof r.exports?r.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(w,t){"use strict";function m(t){return null!=t&&t===t.window}var e=[],r=Object.getPrototypeOf,a=e.slice,g=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},u=e.push,n=e.indexOf,i={},o=i.toString,v=i.hasOwnProperty,s=v.toString,l=s.call(Object),y={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},E=w.document,h={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,r){var i,n,o=(r=r||E).createElement("script");if(o.text=t,e)for(i in h)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,n);r.head.appendChild(o).parentNode.removeChild(o)}function f(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[o.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)};function c(t){var e=!!t&&"length"in t&&t.length,r=f(t);return!_(t)&&!m(t)&&("array"===r||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"3.5.1",constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=S.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return S.each(this,t)},map:function(r){return this.pushStack(S.map(this,function(t,e){return r.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,r,i,n,o=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||_(o)||(o={}),s===a&&(o=this,s--);s<a;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&o!==r&&(u&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[e],n=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,o[e]=S.extend(u,n,r)):void 0!==r&&(o[e]=r));return o},S.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==o.call(t))&&(!(t=r(t))||"function"==typeof(t=v.call(t,"constructor")&&t.constructor)&&s.call(t)===l)},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,r){b(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,i=0;if(c(t))for(r=t.length;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(c(Object(t))?S.merge(e,"string"==typeof t?[t]:t):u.call(e,t)),e},inArray:function(t,e,r){return null==e?-1:n.call(e,t,r)},merge:function(t,e){for(var r=+e.length,i=0,n=t.length;i<r;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,r){for(var i=[],n=0,o=t.length,s=!r;n<o;n++)!e(t[n],n)!=s&&i.push(t[n]);return i},map:function(t,e,r){var i,n,o=0,s=[];if(c(t))for(i=t.length;o<i;o++)null!=(n=e(t[o],o,r))&&s.push(n);else for(o in t)null!=(n=e(t[o],o,r))&&s.push(n);return g(s)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(r){function c(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function i(){w()}var t,d,b,o,n,f,p,m,x,u,l,w,E,s,S,g,a,h,v,T="sizzle"+ +new Date,y=r.document,P=0,_=0,A=ut(),I=ut(),O=ut(),M=ut(),C=function(t,e){return t===e&&(l=!0),0},D={}.hasOwnProperty,e=[],R=e.pop,L=e.push,N=e.push,F=e.slice,k=function(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+j+"*("+U+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+j+"*\\]",G=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",z=new RegExp(j+"+","g"),X=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),Y=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),q=new RegExp(j+"|>"),V=new RegExp(G),$=new RegExp("^"+U+"$"),K={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rt=/[+~]/,it=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(e=F.call(y.childNodes),y.childNodes),e[y.childNodes.length].nodeType}catch(t){N={apply:e.length?function(t,e){L.apply(t,F.call(e))}:function(t,e){for(var r=t.length,i=0;t[r++]=e[i++];);t.length=r-1}}}function at(e,t,r,i){var n,o,s,a,u,l,h,c=t&&t.ownerDocument,p=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return r;if(!i&&(w(t),t=t||E,S)){if(11!==p&&(u=et.exec(e)))if(n=u[1]){if(9===p){if(!(s=t.getElementById(n)))return r;if(s.id===n)return r.push(s),r}else if(c&&(s=c.getElementById(n))&&v(t,s)&&s.id===n)return r.push(s),r}else{if(u[2])return N.apply(r,t.getElementsByTagName(e)),r;if((n=u[3])&&d.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(n)),r}if(d.qsa&&!M[e+" "]&&(!g||!g.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(h=e,c=t,1===p&&(q.test(e)||Y.test(e))){for((c=rt.test(e)&&mt(t.parentNode)||t)===t&&d.scope||((a=t.getAttribute("id"))?a=a.replace(nt,ot):t.setAttribute("id",a=T)),o=(l=f(e)).length;o--;)l[o]=(a?"#"+a:":scope")+" "+vt(l[o]);h=l.join(",")}try{return N.apply(r,c.querySelectorAll(h)),r}catch(t){M(e,!0)}finally{a===T&&t.removeAttribute("id")}}}return m(e.replace(X,"$1"),t,r,i)}function ut(){var r=[];function i(t,e){return r.push(t+" ")>b.cacheLength&&delete i[r.shift()],i[t+" "]=e}return i}function lt(t){return t[T]=!0,t}function ht(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var r=t.split("|"),i=r.length;i--;)b.attrHandle[r[i]]=e}function pt(t,e){var r=e&&t,i=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function dt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(s){return lt(function(o){return o=+o,lt(function(t,e){for(var r,i=s([],t.length,o),n=i.length;n--;)t[r=i[n]]&&(t[r]=!(e[r]=t[r]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=at.support={},n=at.isXML=function(t){var e=t.namespaceURI,t=(t.ownerDocument||t).documentElement;return!Q.test(e||t&&t.nodeName||"HTML")},w=at.setDocument=function(t){var e,t=t?t.ownerDocument||t:y;return t!=E&&9===t.nodeType&&t.documentElement&&(s=(E=t).documentElement,S=!n(E),y!=E&&(e=E.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",i,!1):e.attachEvent&&e.attachEvent("onunload",i)),d.scope=ht(function(t){return s.appendChild(t).appendChild(E.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),d.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=ht(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=tt.test(E.getElementsByClassName),d.getById=ht(function(t){return s.appendChild(t).id=T,!E.getElementsByName||!E.getElementsByName(T).length}),d.getById?(b.filter.ID=function(t){var e=t.replace(it,c);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){t=e.getElementById(t);return t?[t]:[]}}):(b.filter.ID=function(t){var e=t.replace(it,c);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var r,i,n,o=e.getElementById(t);if(o){if((r=o.getAttributeNode("id"))&&r.value===t)return[o];for(n=e.getElementsByName(t),i=0;o=n[i++];)if((r=o.getAttributeNode("id"))&&r.value===t)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,i=[],n=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;r=o[n++];)1===r.nodeType&&i.push(r);return i},b.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},a=[],g=[],(d.qsa=tt.test(E.querySelectorAll))&&(ht(function(t){var e;s.appendChild(t).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+B+")"),t.querySelectorAll("[id~="+T+"-]").length||g.push("~="),(e=E.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+T+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ht(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(d.matchesSelector=tt.test(h=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ht(function(t){d.disconnectedMatch=h.call(t,"*"),h.call(t,"[s!='']:x"),a.push("!=",G)}),g=g.length&&new RegExp(g.join("|")),a=a.length&&new RegExp(a.join("|")),e=tt.test(s.compareDocumentPosition),v=e||tt.test(s.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(r.contains?r.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return l=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===r?t==E||t.ownerDocument==y&&v(y,t)?-1:e==E||e.ownerDocument==y&&v(y,e)?1:u?k(u,t)-k(u,e):0:4&r?-1:1)}:function(t,e){if(t===e)return l=!0,0;var r,i=0,n=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!n||!o)return t==E?-1:e==E?1:n?-1:o?1:u?k(u,t)-k(u,e):0;if(n===o)return pt(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)a.unshift(r);for(;s[i]===a[i];)i++;return i?pt(s[i],a[i]):s[i]==y?-1:a[i]==y?1:0}),E},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(w(t),d.matchesSelector&&S&&!M[e+" "]&&(!a||!a.test(e))&&(!g||!g.test(e)))try{var r=h.call(t,e);if(r||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){M(e,!0)}return 0<at(e,E,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=E&&w(t),v(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=E&&w(t);var r=b.attrHandle[e.toLowerCase()],r=r&&D.call(b.attrHandle,e.toLowerCase())?r(t,e,!S):void 0;return void 0!==r?r:d.attributes||!S?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},at.escape=function(t){return(t+"").replace(nt,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],i=0,n=0;if(l=!d.detectDuplicates,u=!d.sortStable&&t.slice(0),t.sort(C),l){for(;e=t[n++];)e===t[n]&&(i=r.push(n));for(;i--;)t.splice(r[i],1)}return u=null,t},o=at.getText=function(t){var e,r="",i=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=o(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[i++];)r+=o(e);return r},(b=at.selectors={cacheLength:50,createPseudo:lt,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,c),t[3]=(t[3]||t[4]||t[5]||"").replace(it,c),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&V.test(r)&&(e=f(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,c).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&A(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,r,i){return function(t){t=at.attr(t,e);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(z," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),_="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,r){var i,n,o,s,a,u,l=v!=y?"nextSibling":"previousSibling",h=t.parentNode,c=_&&t.nodeName.toLowerCase(),p=!r&&!_,d=!1;if(h){if(v){for(;l;){for(s=t;s=s[l];)if(_?s.nodeName.toLowerCase()===c:1===s.nodeType)return!1;u=l="only"===f&&!u&&"nextSibling"}return!0}if(u=[y?h.firstChild:h.lastChild],y&&p){for(d=(a=(i=(n=(o=(s=h)[T]||(s[T]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===P&&i[1])&&i[2],s=a&&h.childNodes[a];s=++a&&s&&s[l]||(d=a=0)||u.pop();)if(1===s.nodeType&&++d&&s===t){n[f]=[P,a,d];break}}else if(p&&(d=a=(i=(n=(o=(s=t)[T]||(s[T]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===P&&i[1]),!1===d)for(;(s=++a&&s&&s[l]||(d=a=0)||u.pop())&&((_?s.nodeName.toLowerCase()!==c:1!==s.nodeType)||!++d||(p&&((n=(o=s[T]||(s[T]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]=[P,d]),s!==t)););return(d-=g)===m||d%m==0&&0<=d/m}}},PSEUDO:function(t,o){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[T]?s(o):1<s.length?(e=[t,t,"",o],b.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,e){for(var r,i=s(t,o),n=i.length;n--;)t[r=k(t,i[n])]=!(e[r]=i[n])}):function(t){return s(t,0,e)}):s}},pseudos:{not:lt(function(t){var i=[],n=[],a=p(t.replace(X,"$1"));return a[T]?lt(function(t,e,r,i){for(var n,o=a(t,null,i,[]),s=t.length;s--;)(n=o[s])&&(t[s]=!(e[s]=n))}):function(t,e,r){return i[0]=t,a(i,null,r,n),i[0]=null,!n.pop()}}),has:lt(function(e){return function(t){return 0<at(e,t).length}}),contains:lt(function(e){return e=e.replace(it,c),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:lt(function(r){return $.test(r||"")||at.error("unsupported lang: "+r),r=r.replace(it,c).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===r||0===e.indexOf(r+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=r.location&&r.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,r){return[r<0?r+e:r]}),even:ft(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:ft(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:ft(function(t,e,r){for(var i=r<0?r+e:e<r?e:r;0<=--i;)t.push(i);return t}),gt:ft(function(t,e,r){for(var i=r<0?r+e:r;++i<e;)t.push(i);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=function(r){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===r}}(t);function gt(){}function vt(t){for(var e=0,r=t.length,i="";e<r;e++)i+=t[e].value;return i}function yt(s,t,e){var a=t.dir,u=t.next,l=u||a,h=e&&"parentNode"===l,c=_++;return t.first?function(t,e,r){for(;t=t[a];)if(1===t.nodeType||h)return s(t,e,r);return!1}:function(t,e,r){var i,n,o=[P,c];if(r){for(;t=t[a];)if((1===t.nodeType||h)&&s(t,e,r))return!0}else for(;t=t[a];)if(1===t.nodeType||h)if(i=(n=t[T]||(t[T]={}))[t.uniqueID]||(n[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[a]||t;else{if((n=i[l])&&n[0]===P&&n[1]===c)return o[2]=n[2];if((i[l]=o)[2]=s(t,e,r))return!0}return!1}}function _t(n){return 1<n.length?function(t,e,r){for(var i=n.length;i--;)if(!n[i](t,e,r))return!1;return!0}:n[0]}function bt(t,e,r,i,n){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(r&&!r(o,i,n)||(s.push(o),l&&e.push(a)));return s}function xt(d,f,m,g,v,t){return g&&!g[T]&&(g=xt(g)),v&&!v[T]&&(v=xt(v,t)),lt(function(t,e,r,i){var n,o,s,a=[],u=[],l=e.length,h=t||function(t,e,r){for(var i=0,n=e.length;i<n;i++)at(t,e[i],r);return r}(f||"*",r.nodeType?[r]:r,[]),c=!d||!t&&f?h:bt(h,a,d,r,i),p=m?v||(t?d:l||g)?[]:e:c;if(m&&m(c,p,r,i),g)for(n=bt(p,u),g(n,[],r,i),o=n.length;o--;)(s=n[o])&&(p[u[o]]=!(c[u[o]]=s));if(t){if(v||d){if(v){for(n=[],o=p.length;o--;)(s=p[o])&&n.push(c[o]=s);v(null,p=[],n,i)}for(o=p.length;o--;)(s=p[o])&&-1<(n=v?k(t,s):a[o])&&(t[n]=!(e[n]=s))}}else p=bt(p===e?p.splice(l,p.length):p),v?v(null,e,p,i):N.apply(e,p)})}function wt(g,v){function t(t,e,r,i,n){var o,s,a,u=0,l="0",h=t&&[],c=[],p=x,d=t||_&&b.find.TAG("*",n),f=P+=null==p?1:Math.random()||.1,m=d.length;for(n&&(x=e==E||e||n);l!==m&&null!=(o=d[l]);l++){if(_&&o){for(s=0,e||o.ownerDocument==E||(w(o),r=!S);a=g[s++];)if(a(o,e||E,r)){i.push(o);break}n&&(P=f)}y&&((o=!a&&o)&&u--,t&&h.push(o))}if(u+=l,y&&l!==u){for(s=0;a=v[s++];)a(h,c,e,r);if(t){if(0<u)for(;l--;)h[l]||c[l]||(c[l]=R.call(i));c=bt(c)}N.apply(i,c),n&&!t&&0<c.length&&1<u+v.length&&at.uniqueSort(i)}return n&&(P=f,x=p),h}var y=0<v.length,_=0<g.length;return y?lt(t):t}return gt.prototype=b.filters=b.pseudos,b.setFilters=new gt,f=at.tokenize=function(t,e){var r,i,n,o,s,a,u,l=I[t+" "];if(l)return e?0:l.slice(0);for(s=t,a=[],u=b.preFilter;s;){for(o in r&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(n=[])),r=!1,(i=Y.exec(s))&&(r=i.shift(),n.push({value:r,type:i[0].replace(X," ")}),s=s.slice(r.length)),b.filter)!(i=K[o].exec(s))||u[o]&&!(i=u[o](i))||(r=i.shift(),n.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return e?s.length:s?at.error(t):I(t,a).slice(0)},p=at.compile=function(t,e){var r,i=[],n=[],o=O[t+" "];if(!o){for(r=(e=e||f(t)).length;r--;)((o=function t(e){for(var i,r,n,o=e.length,s=b.relative[e[0].type],a=s||b.relative[" "],u=s?1:0,l=yt(function(t){return t===i},a,!0),h=yt(function(t){return-1<k(i,t)},a,!0),c=[function(t,e,r){return r=!s&&(r||e!==x)||((i=e).nodeType?l:h)(t,e,r),i=null,r}];u<o;u++)if(r=b.relative[e[u].type])c=[yt(_t(c),r)];else{if((r=b.filter[e[u].type].apply(null,e[u].matches))[T]){for(n=++u;n<o&&!b.relative[e[n].type];n++);return xt(1<u&&_t(c),1<u&&vt(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(X,"$1"),r,u<n&&t(e.slice(u,n)),n<o&&t(e=e.slice(n)),n<o&&vt(e))}c.push(r)}return _t(c)}(e[r]))[T]?i:n).push(o);(o=O(t,wt(n,i))).selector=t}return o},m=at.select=function(t,e,r,i){var n,o,s,a,u,l="function"==typeof t&&t,h=!i&&f(t=l.selector||t);if(r=r||[],1===h.length){if(2<(o=h[0]=h[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&S&&b.relative[o[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(it,c),e)||[])[0]))return r;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(n=K.needsContext.test(t)?0:o.length;n--&&(s=o[n],!b.relative[a=s.type]);)if((u=b.find[a])&&(i=u(s.matches[0].replace(it,c),rt.test(o[0].type)&&mt(e.parentNode)||e))){if(o.splice(n,1),!(t=i.length&&vt(o)))return N.apply(r,i),r;break}}return(l||p(t,h))(i,e,!S,r,!e||rt.test(t)&&mt(e.parentNode)||e),r},d.sortStable=T.split("").sort(C).join("")===T,d.detectDuplicates=!!l,w(),d.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||ct(B,function(t,e,r){if(!r)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),at}(w);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains,S.escapeSelector=p.escape;function d(t,e,r){for(var i=[],n=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&S(t).is(r))break;i.push(t)}return i}function x(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r}var T=S.expr.match.needsContext;function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,r,i){return _(r)?S.grep(t,function(t,e){return!!r.call(t,e,t)!==i}):r.nodeType?S.grep(t,function(t){return t===r!==i}):"string"!=typeof r?S.grep(t,function(t){return-1<n.call(r,t)!==i}):S.filter(r,t,i)}S.filter=function(t,e,r){var i=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?S.find.matchesSelector(i,t)?[i]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,r,i=this.length,n=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<i;e++)if(S.contains(n[e],this))return!0}));for(r=this.pushStack([]),e=0;e<i;e++)S.find(t,n[e],r);return 1<i?S.uniqueSort(r):r},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&T.test(t)?S(t):t||[],!1).length}});var O,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,r){if(!t)return this;if(r=r||O,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==r.ready?r.ready(t):t(S):S.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:M.exec(t))||!i[1]&&e)return(!e||e.jquery?e||r:this.constructor(e)).find(t);if(i[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:E,!0)),A.test(i[1])&&S.isPlainObject(e))for(var i in e)_(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(t=E.getElementById(i[2]))&&(this[0]=t,this.length=1),this}).prototype=S.fn,O=S(E);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var r,i=0,n=this.length,o=[],s="string"!=typeof t&&S(t);if(!T.test(t))for(;i<n;i++)for(r=this[i];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(s?-1<s.index(r):1===r.nodeType&&S.find.matchesSelector(r,t))){o.push(r);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?n.call(S(t),this[0]):n.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(t,e,r){return d(t,"parentNode",r)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(t,e,r){return d(t,"nextSibling",r)},prevUntil:function(t,e,r){return d(t,"previousSibling",r)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&r(t.contentDocument)?t.contentDocument:(P(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(i,n){S.fn[i]=function(t,e){var r=S.map(this,n,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(r=S.filter(e,r)),1<this.length&&(D[i]||S.uniqueSort(r),C.test(i)&&r.reverse()),this.pushStack(r)}});var L=/[^\x20\t\r\n\f]+/g;function N(t){return t}function F(t){throw t}function k(t,e,r,i){var n;try{t&&_(n=t.promise)?n.call(t).done(e).fail(r):t&&_(n=t.then)?n.call(t,e,r):e.apply(void 0,[t].slice(i))}catch(t){r.apply(void 0,[t])}}S.Callbacks=function(i){var t,r;i="string"==typeof i?(t=i,r={},S.each(t.match(L)||[],function(t,e){r[e]=!0}),r):S.extend({},i);function n(){for(a=a||i.once,s=o=!0;l.length;h=-1)for(e=l.shift();++h<u.length;)!1===u[h].apply(e[0],e[1])&&i.stopOnFalse&&(h=u.length,e=!1);i.memory||(e=!1),o=!1,a&&(u=e?[]:"")}var o,e,s,a,u=[],l=[],h=-1,c={add:function(){return u&&(e&&!o&&(h=u.length-1,l.push(e)),function r(t){S.each(t,function(t,e){_(e)?i.unique&&c.has(e)||u.push(e):e&&e.length&&"string"!==f(e)&&r(e)})}(arguments),e&&!o&&n()),this},remove:function(){return S.each(arguments,function(t,e){for(var r;-1<(r=S.inArray(e,u,r));)u.splice(r,1),r<=h&&h--}),this},has:function(t){return t?-1<S.inArray(t,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=l=[],u=e="",this},disabled:function(){return!u},lock:function(){return a=l=[],e||o||(u=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},S.extend({Deferred:function(t){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var n=arguments;return S.Deferred(function(i){S.each(o,function(t,e){var r=_(n[e[4]])&&n[e[4]];a[e[1]](function(){var t=r&&r.apply(this,arguments);t&&_(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,r?[t]:arguments)})}),n=null}).promise()},then:function(e,r,i){var u=0;function l(n,o,s,a){return function(){function t(){var t,e;if(!(n<u)){if((t=s.apply(r,i))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,_(e)?a?e.call(t,l(u,o,N,a),l(u,o,F,a)):(u++,e.call(t,l(u,o,N,a),l(u,o,F,a),l(u,o,N,o.notifyWith))):(s!==N&&(r=void 0,i=[t]),(a||o.resolveWith)(r,i))}}var r=this,i=arguments,e=a?t:function(){try{t()}catch(t){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(t,e.stackTrace),u<=n+1&&(s!==F&&(r=void 0,i=[t]),o.rejectWith(r,i))}};n?e():(S.Deferred.getStackHook&&(e.stackTrace=S.Deferred.getStackHook()),w.setTimeout(e))}}return S.Deferred(function(t){o[0][3].add(l(0,t,_(i)?i:N,t.notifyWith)),o[1][3].add(l(0,t,_(e)?e:N)),o[2][3].add(l(0,t,_(r)?r:F))}).promise()},promise:function(t){return null!=t?S.extend(t,s):s}},a={};return S.each(o,function(t,e){var r=e[2],i=e[5];s[e[1]]=r.add,i&&r.add(function(){n=i},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),r.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=r.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){n[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--r||s.resolveWith(n,o)}}var r=arguments.length,i=r,n=Array(i),o=a.call(arguments),s=S.Deferred();if(r<=1&&(k(t,s.done(e(i)).resolve,s.reject,!r),"pending"===s.state()||_(o[i]&&o[i].then)))return s.then();for(;i--;)k(o[i],e(i),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){w.console&&w.console.warn&&t&&B.test(t.name)&&w.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){w.setTimeout(function(){throw t})};var j=S.Deferred();function U(){E.removeEventListener("DOMContentLoaded",U),w.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return j.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||j.resolveWith(E,[S])}}),S.ready.then=j.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?w.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",U),w.addEventListener("load",U));var H=function(t,e,r,i,n,o,s){var a=0,u=t.length,l=null==r;if("object"===f(r))for(a in n=!0,r)H(t,e,a,r[a],!0,o,s);else if(void 0!==i&&(n=!0,_(i)||(s=!0),l&&(e=s?(e.call(t,i),null):(l=e,function(t,e,r){return l.call(S(t),r)})),e))for(;a<u;a++)e(t[a],r,s?i:i.call(t[a],a,e(t[a],r)));return n?t:l?e.call(t):u?e(t[0],r):o},G=/^-ms-/,z=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function W(t){return t.replace(G,"ms-").replace(z,X)}function Y(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function q(){this.expando=S.expando+q.uid++}q.uid=1,q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var i,n=this.cache(t);if("string"==typeof e)n[W(e)]=r;else for(i in e)n[W(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,i=t[this.expando];if(void 0!==i){if(void 0!==e){r=(e=Array.isArray(e)?e.map(W):(e=W(e))in i?[e]:e.match(L)||[]).length;for(;r--;)delete i[e[r]]}void 0!==e&&!S.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var V=new q,$=new q,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(t,e,r){var i,n;if(void 0===r&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(i))){try{r="true"===(n=r)||"false"!==n&&("null"===n?null:n===+n+""?+n:K.test(n)?JSON.parse(n):n)}catch(t){}$.set(t,e,r)}else r=void 0;return r}S.extend({hasData:function(t){return $.hasData(t)||V.hasData(t)},data:function(t,e,r){return $.access(t,e,r)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,r){return V.access(t,e,r)},_removeData:function(t,e){V.remove(t,e)}}),S.fn.extend({data:function(r,t){var e,i,n,o=this[0],s=o&&o.attributes;if(void 0!==r)return"object"==typeof r?this.each(function(){$.set(this,r)}):H(this,function(t){var e;return o&&void 0===t?void 0!==(e=$.get(o,r))||void 0!==(e=Z(o,r))?e:void 0:void this.each(function(){$.set(this,r,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(n=$.get(o),1===o.nodeType&&!V.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(i=s[e].name).indexOf("data-")&&(i=W(i.slice(5)),Z(o,i,n[i]));V.set(o,"hasDataAttrs",!0)}return n},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),S.extend({queue:function(t,e,r){var i;if(t)return e=(e||"fx")+"queue",i=V.get(t,e),r&&(!i||Array.isArray(r)?i=V.access(t,e,S.makeArray(r)):i.push(r)),i||[]},dequeue:function(t,e){e=e||"fx";var r=S.queue(t,e),i=r.length,n=r.shift(),o=S._queueHooks(t,e);"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===e&&r.unshift("inprogress"),delete o.stop,n.call(t,function(){S.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return V.get(t,r)||V.access(t,r,{empty:S.Callbacks("once memory").add(function(){V.remove(t,[e+"queue",r])})})}}),S.fn.extend({queue:function(e,r){var t=2;return"string"!=typeof e&&(r=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===r?this:this.each(function(){var t=S.queue(this,e,r);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function r(){--n||o.resolveWith(s,[s])}var i,n=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=V.get(s[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(r));return r(),o.promise(e)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],rt=E.documentElement,it=function(t){return S.contains(t.ownerDocument,t)},nt={composed:!0};rt.getRootNode&&(it=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(nt)===t.ownerDocument});var ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&it(t)&&"none"===S.css(t,"display")};function st(t,e,r,i){var n,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(t,e,"")},u=a(),l=r&&r[3]||(S.cssNumber[e]?"":"px"),h=t.nodeType&&(S.cssNumber[e]||"px"!==l&&+u)&&tt.exec(S.css(t,e));if(h&&h[3]!==l){for(u/=2,l=l||h[3],h=+u||1;s--;)S.style(t,e,h+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),h/=o;h*=2,S.style(t,e,h+l),r=r||[]}return r&&(h=+h||+u||0,n=r[1]?h+(r[1]+1)*r[2]:+r[2],i&&(i.unit=l,i.start=h,i.end=n)),n}var at={};function ut(t,e){for(var r,i,n,o,s,a=[],u=0,l=t.length;u<l;u++)(i=t[u]).style&&(r=i.style.display,e?("none"===r&&(a[u]=V.get(i,"display")||null,a[u]||(i.style.display="")),""===i.style.display&&ot(i)&&(a[u]=(s=o=void 0,o=(n=i).ownerDocument,s=n.nodeName,(n=at[s])||(o=o.body.appendChild(o.createElement(s)),n=S.css(o,"display"),o.parentNode.removeChild(o),"none"===n&&(n="block"),at[s]=n)))):"none"!==r&&(a[u]="none",V.set(i,"display",r)));for(u=0;u<l;u++)null!=a[u]&&(t[u].style.display=a[u]);return t}S.fn.extend({show:function(){return ut(this,!0)},hide:function(){return ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?S(this).show():S(this).hide()})}});var lt=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ct=/^$|^module$|\/(?:java|ecma)script/i;$e=E.createDocumentFragment().appendChild(E.createElement("div")),(p=E.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),$e.appendChild(p),y.checkClone=$e.cloneNode(!0).cloneNode(!0).lastChild.checked,$e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!$e.cloneNode(!0).lastChild.defaultValue,$e.innerHTML="<option></option>",y.option=!!$e.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&P(t,e)?S.merge([t],r):r}function ft(t,e){for(var r=0,i=t.length;r<i;r++)V.set(t[r],"globalEval",!e||V.get(e[r],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,y.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function gt(t,e,r,i,n){for(var o,s,a,u,l,h=e.createDocumentFragment(),c=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===f(o))S.merge(c,o.nodeType?[o]:o);else if(mt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(ht.exec(o)||["",""])[1].toLowerCase(),a=pt[a]||pt._default,s.innerHTML=a[1]+S.htmlPrefilter(o)+a[2],l=a[0];l--;)s=s.lastChild;S.merge(c,s.childNodes),(s=h.firstChild).textContent=""}else c.push(e.createTextNode(o));for(h.textContent="",p=0;o=c[p++];)if(i&&-1<S.inArray(o,i))n&&n.push(o);else if(u=it(o),s=dt(h.appendChild(o),"script"),u&&ft(s),r)for(l=0;o=s[l++];)ct.test(o.type||"")&&r.push(o);return h}var vt=/^key/,yt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_t=/^([^.]*)(?:\.(.+)|)/;function bt(){return!0}function xt(){return!1}function wt(t,e){return t===function(){try{return E.activeElement}catch(t){}}()==("focus"===e)}function Et(t,e,r,i,n,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof r&&(i=i||r,r=void 0),e)Et(t,a,r,i,e[a],o);return t}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=xt;else if(!n)return t;return 1===o&&(s=n,(n=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,n,i,r)})}function St(t,n,o){o?(V.set(t,n,!1),S.event.add(t,n,{namespace:!1,handler:function(t){var e,r,i=V.get(this,n);if(1&t.isTrigger&&this[n]){if(i.length)(S.event.special[n]||{}).delegateType&&t.stopPropagation();else if(i=a.call(arguments),V.set(this,n,i),e=o(this,n),this[n](),i!==(r=V.get(this,n))||e?V.set(this,n,!1):r={},i!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else i.length&&(V.set(this,n,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===V.get(t,n)&&S.event.add(t,n,bt)}S.event={global:{},add:function(e,t,r,i,n){var o,s,a,u,l,h,c,p,d,f=V.get(e);if(Y(e))for(r.handler&&(r=(o=r).handler,n=o.selector),n&&S.find.matchesSelector(rt,n),r.guid||(r.guid=S.guid++),(a=f.events)||(a=f.events=Object.create(null)),(s=f.handle)||(s=f.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(L)||[""]).length;u--;)c=d=(l=_t.exec(t[u])||[])[1],p=(l[2]||"").split(".").sort(),c&&(h=S.event.special[c]||{},c=(n?h.delegateType:h.bindType)||c,h=S.event.special[c]||{},l=S.extend({type:c,origType:d,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&S.expr.match.needsContext.test(n),namespace:p.join(".")},o),(d=a[c])||((d=a[c]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(c,s)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),n?d.splice(d.delegateCount++,0,l):d.push(l),S.event.global[c]=!0)},remove:function(t,e,r,i,n){var o,s,a,u,l,h,c,p,d,f,m,g=V.hasData(t)&&V.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(L)||[""]).length;l--;)if(d=m=(a=_t.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),d){for(c=S.event.special[d]||{},p=u[d=(i?c.delegateType:c.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)h=p[o],!n&&m!==h.origType||r&&r.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(p.splice(o,1),h.selector&&p.delegateCount--,c.remove&&c.remove.call(t,h));s&&!p.length&&(c.teardown&&!1!==c.teardown.call(t,f,g.handle)||S.removeEvent(t,d,g.handle),delete u[d])}else for(d in u)S.event.remove(t,d+e[l],r,i,!0);S.isEmptyObject(u)&&V.remove(t,"handle events")}},dispatch:function(t){var e,r,i,n,o,s=new Array(arguments.length),a=S.event.fix(t),u=(V.get(this,"events")||Object.create(null))[a.type]||[],t=S.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){for(o=S.event.handlers.call(this,a,u),e=0;(i=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,r=0;(n=i.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==n.namespace&&!a.rnamespace.test(n.namespace)||(a.handleObj=n,a.data=n.data,void 0!==(n=((S.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,s))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(t,e){var r,i,n,o,s,a=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],s={},r=0;r<u;r++)void 0===s[n=(i=e[r]).selector+" "]&&(s[n]=i.needsContext?-1<S(n,this).index(l):S.find(n,this,null,[l]).length),s[n]&&o.push(i);o.length&&a.push({elem:l,handlers:o})}return l=this,u<e.length&&a.push({elem:l,handlers:e.slice(u)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return lt.test(t.type)&&t.click&&P(t,"input")&&St(t,"click",bt),!1},trigger:function(t){t=this||t;return lt.test(t.type)&&t.click&&P(t,"input")&&St(t,"click"),!0},_default:function(t){t=t.target;return lt.test(t.type)&&t.click&&P(t,"input")&&V.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:xt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=bt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=bt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=bt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&vt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&yt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return St(this,t,wt),!1},trigger:function(){return St(this,t),!0},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){S.event.special[t]={delegateType:n,bindType:n,handle:function(t){var e,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||S.contains(this,r))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=n),e}}}),S.fn.extend({on:function(t,e,r,i){return Et(this,t,e,r,i)},one:function(t,e,r,i){return Et(this,t,e,r,i,1)},off:function(t,e,r){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,S(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=xt),this.each(function(){S.event.remove(this,t,r,e)});for(n in t)this.off(n,e,t[n]);return this}});var Tt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return P(t,"table")&&P(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ct(t,e){var r,i,n,o;if(1===e.nodeType){if(V.hasData(t)&&(o=V.get(t).events))for(n in V.remove(e,"handle events"),o)for(r=0,i=o[n].length;r<i;r++)S.event.add(e,n,o[n][r]);$.hasData(t)&&(t=$.access(t),t=S.extend({},t),$.set(e,t))}}function Dt(r,i,n,o){i=g(i);var t,e,s,a,u,l,h=0,c=r.length,p=c-1,d=i[0],f=_(d);if(f||1<c&&"string"==typeof d&&!y.checkClone&&Pt.test(d))return r.each(function(t){var e=r.eq(t);f&&(i[0]=d.call(this,t,e.html())),Dt(e,i,n,o)});if(c&&(e=(t=gt(i,r[0].ownerDocument,!1,r,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=S.map(dt(t,"script"),Ot)).length;h<c;h++)u=t,h!==p&&(u=S.clone(u,!0,!0),a&&S.merge(s,dt(u,"script"))),n.call(r[h],u,h);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,Mt),h=0;h<a;h++)u=s[h],ct.test(u.type||"")&&!V.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(At,""),u,l))}return r}function Rt(t,e,r){for(var i,n=e?S.filter(e,t):t,o=0;null!=(i=n[o]);o++)r||1!==i.nodeType||S.cleanData(dt(i)),i.parentNode&&(r&&it(i)&&ft(dt(i,"script")),i.parentNode.removeChild(i));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var i,n,o,s,a,u,l,h=t.cloneNode(!0),c=it(t);if(!(y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=dt(h),i=0,n=(o=dt(t)).length;i<n;i++)a=o[i],u=s[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&lt.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(e)if(r)for(o=o||dt(t),s=s||dt(h),i=0,n=o.length;i<n;i++)Ct(o[i],s[i]);else Ct(t,h);return 0<(s=dt(h,"script")).length&&ft(s,!c&&dt(t,"script")),h},cleanData:function(t){for(var e,r,i,n=S.event.special,o=0;void 0!==(r=t[o]);o++)if(Y(r)){if(e=r[V.expando]){if(e.events)for(i in e.events)n[i]?S.event.remove(r,i):S.removeEvent(r,i,e.handle);r[V.expando]=void 0}r[$.expando]&&(r[$.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return H(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Dt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return Dt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=It(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Dt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},r=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!pt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;r<i;r++)1===(e=this[r]||{}).nodeType&&(S.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var r=[];return Dt(this,arguments,function(t){var e=this.parentNode;S.inArray(this,r)<0&&(S.cleanData(dt(this)),e&&e.replaceChild(t,this))},r)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){S.fn[t]=function(t){for(var e,r=[],i=S(t),n=i.length-1,o=0;o<=n;o++)e=o===n?this:this.clone(!0),S(i[o])[s](e),u.apply(r,e.get());return this.pushStack(r)}});function Lt(t,e,r){var i,n={};for(i in e)n[i]=t.style[i],t.style[i]=e[i];for(i in r=r.call(t),e)t.style[i]=n[i];return r}var Nt,Ft,kt,Bt,jt,Ut,Ht,Gt,zt=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Xt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=w),e.getComputedStyle(t)},Wt=new RegExp(et.join("|"),"i");function Yt(){var t;Gt&&(Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(Ht).appendChild(Gt),t=w.getComputedStyle(Gt),Nt="1%"!==t.top,Ut=12===qt(t.marginLeft),Gt.style.right="60%",Bt=36===qt(t.right),Ft=36===qt(t.width),Gt.style.position="absolute",kt=12===qt(Gt.offsetWidth/3),rt.removeChild(Ht),Gt=null)}function qt(t){return Math.round(parseFloat(t))}function Vt(t,e,r){var i,n,o=t.style;return(r=r||Xt(t))&&(""!==(n=r.getPropertyValue(e)||r[e])||it(t)||(n=S.style(t,e)),!y.pixelBoxStyles()&&zt.test(n)&&Wt.test(e)&&(i=o.width,t=o.minWidth,e=o.maxWidth,o.minWidth=o.maxWidth=o.width=n,n=r.width,o.width=i,o.minWidth=t,o.maxWidth=e)),void 0!==n?n+"":n}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ht=E.createElement("div"),(Gt=E.createElement("div")).style&&(Gt.style.backgroundClip="content-box",Gt.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Gt.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return Yt(),Ft},pixelBoxStyles:function(){return Yt(),Bt},pixelPosition:function(){return Yt(),Nt},reliableMarginLeft:function(){return Yt(),Ut},scrollboxSize:function(){return Yt(),kt},reliableTrDimensions:function(){var t,e,r;return null==jt&&(t=E.createElement("table"),r=E.createElement("tr"),e=E.createElement("div"),t.style.cssText="position:absolute;left:-11111px",r.style.height="1px",e.style.height="9px",rt.appendChild(t).appendChild(r).appendChild(e),r=w.getComputedStyle(r),jt=3<parseInt(r.height),rt.removeChild(t)),jt}}));var Kt=["Webkit","Moz","ms"],Qt=E.createElement("div").style,Zt={};function Jt(t){var e=S.cssProps[t]||Zt[t];return e||(t in Qt?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),r=Kt.length;r--;)if((t=Kt[r]+e)in Qt)return t}(t)||t)}var te=/^(none|table(?!-c[ea]).+)/,ee=/^--/,re={position:"absolute",visibility:"hidden",display:"block"},ie={letterSpacing:"0",fontWeight:"400"};function ne(t,e,r){var i=tt.exec(e);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):e}function oe(t,e,r,i,n,o){var s="width"===e?1:0,a=0,u=0;if(r===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(u+=S.css(t,r+et[s],!0,n)),i?("content"===r&&(u-=S.css(t,"padding"+et[s],!0,n)),"margin"!==r&&(u-=S.css(t,"border"+et[s]+"Width",!0,n))):(u+=S.css(t,"padding"+et[s],!0,n),"padding"!==r?u+=S.css(t,"border"+et[s]+"Width",!0,n):a+=S.css(t,"border"+et[s]+"Width",!0,n));return!i&&0<=o&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))||0),u}function se(t,e,r){var i=Xt(t),n=(!y.boxSizingReliable()||r)&&"border-box"===S.css(t,"boxSizing",!1,i),o=n,s=Vt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(zt.test(s)){if(!r)return s;s="auto"}return(!y.boxSizingReliable()&&n||!y.reliableTrDimensions()&&P(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,i))&&t.getClientRects().length&&(n="border-box"===S.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+oe(t,e,r||(n?"border":"content"),o,i,s)+"px"}function ae(t,e,r,i,n){return new ae.prototype.init(t,e,r,i,n)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Vt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,o,s,a=W(e),u=ee.test(e),l=t.style;if(u||(e=Jt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(n=s.get(t,!1,i))?n:l[e];"string"===(o=typeof r)&&(n=tt.exec(r))&&n[1]&&(r=st(t,e,n),o="number"),null!=r&&r==r&&("number"!==o||u||(r+=n&&n[3]||(S.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==r||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(r=s.set(t,r,i))||(u?l.setProperty(e,r):l[e]=r))}},css:function(t,e,r,i){var n,o=W(e);return ee.test(e)||(e=Jt(o)),(o=S.cssHooks[e]||S.cssHooks[o])&&"get"in o&&(n=o.get(t,!0,r)),void 0===n&&(n=Vt(t,e,i)),"normal"===n&&e in ie&&(n=ie[e]),""===r||r?(e=parseFloat(n),!0===r||isFinite(e)?e||0:n):n}}),S.each(["height","width"],function(t,a){S.cssHooks[a]={get:function(t,e,r){if(e)return!te.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?se(t,a,r):Lt(t,re,function(){return se(t,a,r)})},set:function(t,e,r){var i,n=Xt(t),o=!y.scrollboxSize()&&"absolute"===n.position,s=(o||r)&&"border-box"===S.css(t,"boxSizing",!1,n),r=r?oe(t,a,r,s,n):0;return s&&o&&(r-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(n[a])-oe(t,a,"border",!1,n)-.5)),r&&(i=tt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[a]=e,e=S.css(t,a)),ne(0,e,r)}}}),S.cssHooks.marginLeft=$t(y.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(n,o){S.cssHooks[n+o]={expand:function(t){for(var e=0,r={},i="string"==typeof t?t.split(" "):[t];e<4;e++)r[n+et[e]+o]=i[e]||i[e-2]||i[0];return r}},"margin"!==n&&(S.cssHooks[n+o].set=ne)}),S.fn.extend({css:function(t,e){return H(this,function(t,e,r){var i,n,o={},s=0;if(Array.isArray(e)){for(i=Xt(t),n=e.length;s<n;s++)o[e[s]]=S.css(t,e[s],!1,i);return o}return void 0!==r?S.style(t,e,r):S.css(t,e)},t,e,1<arguments.length)}}),(S.Tween=ae).prototype={constructor:ae,init:function(t,e,r,i,n,o){this.elem=t,this.prop=r,this.easing=n||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[r]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return(t&&t.get?t:ae.propHooks._default).get(this)},run:function(t){var e,r=ae.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(r&&r.set?r:ae.propHooks._default).set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=S.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Jt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ae.prototype.init,S.fx.step={};var ue,le,he=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function pe(){le&&(!1===E.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(pe):w.setTimeout(pe,S.fx.interval),S.fx.tick())}function de(){return w.setTimeout(function(){ue=void 0}),ue=Date.now()}function fe(t,e){var r,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n["margin"+(r=et[i])]=n["padding"+r]=t;return e&&(n.opacity=n.width=t),n}function me(t,e,r){for(var i,n=(ge.tweeners[e]||[]).concat(ge.tweeners["*"]),o=0,s=n.length;o<s;o++)if(i=n[o].call(r,e,t))return i}function ge(n,t,e){var r,o,i=0,s=ge.prefilters.length,a=S.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=ue||de(),t=Math.max(0,l.startTime+l.duration-t),e=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(e);return a.notifyWith(n,[l,e,t]),e<1&&i?t:(i||a.notifyWith(n,[l,1,0]),a.resolveWith(n,[l]),!1)},l=a.promise({elem:n,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:ue||de(),duration:e.duration,tweens:[],createTween:function(t,e){t=S.Tween(n,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(t),t},stop:function(t){var e=0,r=t?l.tweens.length:0;if(o)return this;for(o=!0;e<r;e++)l.tweens[e].run(1);return t?(a.notifyWith(n,[l,1,0]),a.resolveWith(n,[l,t])):a.rejectWith(n,[l,t]),this}}),h=l.props;for(!function(t,e){var r,i,n,o,s;for(r in t)if(n=e[i=W(r)],o=t[r],Array.isArray(o)&&(n=o[1],o=t[r]=o[0]),r!==i&&(t[i]=o,delete t[r]),(s=S.cssHooks[i])&&"expand"in s)for(r in o=s.expand(o),delete t[i],o)r in t||(t[r]=o[r],e[r]=n);else e[i]=n}(h,l.opts.specialEasing);i<s;i++)if(r=ge.prefilters[i].call(l,n,h,l.opts))return _(r.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return S.map(h,me,l),_(l.opts.start)&&l.opts.start.call(n,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:n,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ge,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return st(r.elem,t,tt.exec(e),r),r}]},tweener:function(t,e){for(var r,i=0,n=(t=_(t)?(e=t,["*"]):t.match(L)).length;i<n;i++)r=t[i],ge.tweeners[r]=ge.tweeners[r]||[],ge.tweeners[r].unshift(e)},prefilters:[function(t,e,r){var i,n,o,s,a,u,l,h="width"in e||"height"in e,c=this,p={},d=t.style,f=t.nodeType&&ot(t),m=V.get(t,"fxshow");for(i in r.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),e)if(n=e[i],he.test(n)){if(delete e[i],o=o||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||S.style(t,i)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(i in h&&1===t.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=m&&m.display)&&(l=V.get(t,"display")),"none"===(h=S.css(t,"display"))&&(l?h=l:(ut([t],!0),l=t.style.display||l,h=S.css(t,"display"),ut([t]))),("inline"===h||"inline-block"===h&&null!=l)&&"none"===S.css(t,"float")&&(u||(c.done(function(){d.display=l}),null==l&&(h=d.display,l="none"===h?"":h)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),u=!1,p)u||(m?"hidden"in m&&(f=m.hidden):m=V.access(t,"fxshow",{display:l}),o&&(m.hidden=!f),f&&ut([t],!0),c.done(function(){for(i in f||ut([t]),V.remove(t,"fxshow"),p)S.style(t,i,p[i])})),u=me(f?m[i]:0,i,c),i in m||(m[i]=u.start,f&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ge.prefilters.unshift(t):ge.prefilters.push(t)}}),S.speed=function(t,e,r){var i=t&&"object"==typeof t?S.extend({},t):{complete:r||!r&&e||_(t)&&t,duration:t,easing:r&&e||e&&!_(e)&&e};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(t,e,r,i){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,r,i)},animate:function(e,t,r,i){var n=S.isEmptyObject(e),o=S.speed(t,r,i),i=function(){var t=ge(this,S.extend({},e),o);(n||V.get(this,"finish"))&&t.stop(!0)};return i.finish=i,n||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(n,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof n&&(o=t,t=n,n=void 0),t&&this.queue(n||"fx",[]),this.each(function(){var t=!0,e=null!=n&&n+"queueHooks",r=S.timers,i=V.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&ce.test(e)&&s(i[e]);for(e=r.length;e--;)r[e].elem!==this||null!=n&&r[e].queue!==n||(r[e].anim.stop(o),t=!1,r.splice(e,1));!t&&o||S.dequeue(this,n)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=V.get(this),r=e[s+"queue"],i=e[s+"queueHooks"],n=S.timers,o=r?r.length:0;for(e.finish=!0,S.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===s&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,i){var n=S.fn[i];S.fn[i]=function(t,e,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(i,!0),t,e,r)}}),S.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){S.fn[t]=function(t,e,r){return this.animate(i,t,e,r)}}),S.timers=[],S.fx.tick=function(){var t,e=0,r=S.timers;for(ue=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||S.fx.stop(),ue=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){le||(le=!0,pe())},S.fx.stop=function(){le=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,t){return i=S.fx&&S.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var r=w.setTimeout(t,i);e.stop=function(){w.clearTimeout(r)}})},$e=E.createElement("input"),J=E.createElement("select").appendChild(E.createElement("option")),$e.type="checkbox",y.checkOn=""!==$e.value,y.optSelected=J.selected,($e=E.createElement("input")).value="t",$e.type="radio",y.radioValue="t"===$e.value;var ve,ye=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return H(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,r){var i,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,r):(1===o&&S.isXMLDoc(t)||(n=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?ve:void 0)),void 0!==r?null===r?void S.removeAttr(t,e):n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:(t.setAttribute(e,r+""),r):!(n&&"get"in n&&null!==(i=n.get(t,e)))&&null==(i=S.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!y.radioValue&&"radio"===e&&P(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,i=0,n=e&&e.match(L);if(n&&1===t.nodeType)for(;r=n[i++];)t.removeAttribute(r)}}),ve={set:function(t,e,r){return!1===e?S.removeAttr(t,r):t.setAttribute(r,r),r}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var s=ye[e]||S.find.attr;ye[e]=function(t,e,r){var i,n,o=e.toLowerCase();return r||(n=ye[o],ye[o]=i,i=null!=s(t,e,r)?o:null,ye[o]=n),i}});var _e=/^(?:input|select|textarea|button)$/i,be=/^(?:a|area)$/i;function xe(t){return(t.match(L)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function Ee(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(L)||[]}S.fn.extend({prop:function(t,e){return H(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,r){var i,n,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,n=S.propHooks[e]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:t[e]=r:n&&"get"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||be.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,r,i,n,o,s,a=0;if(_(e))return this.each(function(t){S(this).addClass(e.call(this,t,we(this)))});if((t=Ee(e)).length)for(;r=this[a++];)if(s=we(r),i=1===r.nodeType&&" "+xe(s)+" "){for(o=0;n=t[o++];)i.indexOf(" "+n+" ")<0&&(i+=n+" ");s!==(s=xe(i))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,i,n,o,s,a=0;if(_(e))return this.each(function(t){S(this).removeClass(e.call(this,t,we(this)))});if(!arguments.length)return this.attr("class","");if((t=Ee(e)).length)for(;r=this[a++];)if(s=we(r),i=1===r.nodeType&&" "+xe(s)+" "){for(o=0;n=t[o++];)for(;-1<i.indexOf(" "+n+" ");)i=i.replace(" "+n+" "," ");s!==(s=xe(i))&&r.setAttribute("class",s)}return this},toggleClass:function(n,e){var o=typeof n,s="string"==o||Array.isArray(n);return"boolean"==typeof e&&s?e?this.addClass(n):this.removeClass(n):_(n)?this.each(function(t){S(this).toggleClass(n.call(this,t,we(this),e),e)}):this.each(function(){var t,e,r,i;if(s)for(e=0,r=S(this),i=Ee(n);t=i[e++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==n&&"boolean"!=o||((t=we(this))&&V.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==n&&V.get(this,"__className__")||""))})},hasClass:function(t){for(var e,r=0,i=" "+t+" ";e=this[r++];)if(1===e.nodeType&&-1<(" "+xe(we(e))+" ").indexOf(i))return!0;return!1}});var Se=/\r/g;S.fn.extend({val:function(e){var r,t,i,n=this[0];return arguments.length?(i=_(e),this.each(function(t){1===this.nodeType&&(null==(t=i?e.call(this,t,S(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(t){return null==t?"":t+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):n?(r=S.valHooks[n.type]||S.valHooks[n.nodeName.toLowerCase()])&&"get"in r&&void 0!==(t=r.get(n,"value"))?t:"string"==typeof(t=n.value)?t.replace(Se,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:xe(S.text(t))}},select:{get:function(t){for(var e,r=t.options,i=t.selectedIndex,n="select-one"===t.type,o=n?null:[],s=n?i+1:r.length,a=i<0?s:n?i:0;a<s;a++)if(((e=r[a]).selected||a===i)&&!e.disabled&&(!e.parentNode.disabled||!P(e.parentNode,"optgroup"))){if(e=S(e).val(),n)return e;o.push(e)}return o},set:function(t,e){for(var r,i,n=t.options,o=S.makeArray(e),s=n.length;s--;)((i=n[s]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(r=!0);return r||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},y.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),y.focusin="onfocusin"in w;function Te(t){t.stopPropagation()}var Pe=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,r,i){var n,o,s,a,u,l,h,c=[r||E],p=v.call(t,"type")?t.type:t,d=v.call(t,"namespace")?t.namespace.split("."):[],f=h=o=r=r||E;if(3!==r.nodeType&&8!==r.nodeType&&!Pe.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),a=p.indexOf(":")<0&&"on"+p,(t=t[S.expando]?t:new S.Event(p,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),l=S.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(r,e))){if(!i&&!l.noBubble&&!m(r)){for(s=l.delegateType||p,Pe.test(s+p)||(f=f.parentNode);f;f=f.parentNode)c.push(f),o=f;o===(r.ownerDocument||E)&&c.push(o.defaultView||o.parentWindow||w)}for(n=0;(f=c[n++])&&!t.isPropagationStopped();)h=f,t.type=1<n?s:l.bindType||p,(u=(V.get(f,"events")||Object.create(null))[t.type]&&V.get(f,"handle"))&&u.apply(f,e),(u=a&&f[a])&&u.apply&&Y(f)&&(t.result=u.apply(f,e),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(c.pop(),e)||!Y(r)||a&&_(r[p])&&!m(r)&&((o=r[a])&&(r[a]=null),S.event.triggered=p,t.isPropagationStopped()&&h.addEventListener(p,Te),r[p](),t.isPropagationStopped()&&h.removeEventListener(p,Te),S.event.triggered=void 0,o&&(r[a]=o)),t.result}},simulate:function(t,e,r){t=S.extend(new S.Event,r,{type:t,isSimulated:!0});S.event.trigger(t,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return S.event.trigger(t,e,r,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(r,i){function n(t){S.event.simulate(i,t.target,S.event.fix(t))}S.event.special[i]={setup:function(){var t=this.ownerDocument||this.document||this,e=V.access(t,i);e||t.addEventListener(r,n,!0),V.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=V.access(t,i)-1;e?V.access(t,i,e):(t.removeEventListener(r,n,!0),V.remove(t,i))}}});var Ae=w.location,Ie={guid:Date.now()},Oe=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new w.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var Me=/\[\]$/,Ce=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){function r(t,e){e=_(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var i,n=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){r(this.name,this.value)});else for(i in t)!function r(i,t,n,o){if(Array.isArray(t))S.each(t,function(t,e){n||Me.test(i)?o(i,e):r(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,o)});else if(n||"object"!==f(t))o(i,t);else for(var e in t)r(i+"["+e+"]",t[e],n,o)}(i,t[i],e,r);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Re.test(this.nodeName)&&!De.test(t)&&(this.checked||!lt.test(t))}).map(function(t,e){var r=S(this).val();return null==r?null:Array.isArray(r)?S.map(r,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:r.replace(Ce,"\r\n")}}).get()}});var Le=/%20/g,Ne=/#.*$/,Fe=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,je=/^\/\//,Ue={},He={},Ge="*/".concat("*"),ze=E.createElement("a");function Xe(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var r,i=0,n=t.toLowerCase().match(L)||[];if(_(e))for(;r=n[i++];)"+"===r[0]?(r=r.slice(1)||"*",(o[r]=o[r]||[]).unshift(e)):(o[r]=o[r]||[]).push(e)}}function We(e,i,n,o){var s={},a=e===He;function u(t){var r;return s[t]=!0,S.each(e[t]||[],function(t,e){e=e(i,n,o);return"string"!=typeof e||a||s[e]?a?!(r=e):void 0:(i.dataTypes.unshift(e),u(e),!1)}),r}return u(i.dataTypes[0])||!s["*"]&&u("*")}function Ye(t,e){var r,i,n=S.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((n[r]?t:i=i||{})[r]=e[r]);return i&&S.extend(!0,t,i),t}ze.href=Ae.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ye(Ye(t,S.ajaxSettings),e):Ye(S.ajaxSettings,t)},ajaxPrefilter:Xe(Ue),ajaxTransport:Xe(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var u,l,h,r,c,i,p,d,n,f=S.ajaxSetup({},e),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?S(m):S.event,v=S.Deferred(),y=S.Callbacks("once memory"),_=f.statusCode||{},o={},s={},a="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(p){if(!r)for(r={};e=ke.exec(h);)r[e[1].toLowerCase()+" "]=(r[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=r[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?h:null},setRequestHeader:function(t,e){return null==p&&(t=s[t.toLowerCase()]=s[t.toLowerCase()]||t,o[t]=e),this},overrideMimeType:function(t){return null==p&&(f.mimeType=t),this},statusCode:function(t){if(t)if(p)b.always(t[b.status]);else for(var e in t)_[e]=[_[e],t[e]];return this},abort:function(t){t=t||a;return u&&u.abort(t),x(0,t),this}};if(v.promise(b),f.url=((t||f.url||Ae.href)+"").replace(je,Ae.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain){i=E.createElement("a");try{i.href=f.url,i.href=i.href,f.crossDomain=ze.protocol+"//"+ze.host!=i.protocol+"//"+i.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=S.param(f.data,f.traditional)),We(Ue,f,e,b),p)return b;for(n in(d=S.event&&f.global)&&0==S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Be.test(f.type),l=f.url.replace(Ne,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Le,"+")):(t=f.url.slice(l.length),f.data&&(f.processData||"string"==typeof f.data)&&(l+=(Oe.test(l)?"&":"?")+f.data,delete f.data),!1===f.cache&&(l=l.replace(Fe,"$1"),t=(Oe.test(l)?"&":"?")+"_="+Ie.guid+++t),f.url=l+t),f.ifModified&&(S.lastModified[l]&&b.setRequestHeader("If-Modified-Since",S.lastModified[l]),S.etag[l]&&b.setRequestHeader("If-None-Match",S.etag[l])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ge+"; q=0.01":""):f.accepts["*"]),f.headers)b.setRequestHeader(n,f.headers[n]);if(f.beforeSend&&(!1===f.beforeSend.call(m,b,f)||p))return b.abort();if(a="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),u=We(He,f,e,b)){if(b.readyState=1,d&&g.trigger("ajaxSend",[b,f]),p)return b;f.async&&0<f.timeout&&(c=w.setTimeout(function(){b.abort("timeout")},f.timeout));try{p=!1,u.send(o,x)}catch(t){if(p)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,r,i){var n,o,s,a=e;p||(p=!0,c&&w.clearTimeout(c),u=void 0,h=i||"",b.readyState=0<t?4:0,i=200<=t&&t<300||304===t,r&&(s=function(t,e,r){for(var i,n,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(n in a)if(a[n]&&a[n].test(i)){u.unshift(n);break}if(u[0]in r)o=u[0];else{for(n in r){if(!u[0]||t.converters[n+" "+u[0]]){o=n;break}s=s||n}o=o||s}if(o)return o!==u[0]&&u.unshift(o),r[o]}(f,b,r)),!i&&-1<S.inArray("script",f.dataTypes)&&(f.converters["text script"]=function(){}),s=function(t,e,r,i){var n,o,s,a,u,l={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(r[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=h.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(n in l)if(a=n.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[n]:!0!==l[n]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(f,s,b,i),i?(f.ifModified&&((r=b.getResponseHeader("Last-Modified"))&&(S.lastModified[l]=r),(r=b.getResponseHeader("etag"))&&(S.etag[l]=r)),204===t||"HEAD"===f.type?a="nocontent":304===t?a="notmodified":(a=s.state,n=s.data,i=!(o=s.error))):(o=a,!t&&a||(a="error",t<0&&(t=0))),b.status=t,b.statusText=(e||a)+"",i?v.resolveWith(m,[n,a,b]):v.rejectWith(m,[b,a,o]),b.statusCode(_),_=void 0,d&&g.trigger(i?"ajaxSuccess":"ajaxError",[b,f,i?n:o]),y.fireWith(m,[b,a]),d&&(g.trigger("ajaxComplete",[b,f]),--S.active||S.event.trigger("ajaxStop")))}return b},getJSON:function(t,e,r){return S.get(t,e,r,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,n){S[n]=function(t,e,r,i){return _(e)&&(i=i||r,r=e,e=void 0),S.ajax(S.extend({url:t,type:n,dataType:i,data:e,success:r},S.isPlainObject(t)&&t))}}),S.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),S._evalUrl=function(t,e,r){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,r)}})},S.fn.extend({wrapAll:function(t){return this[0]&&(_(t)&&(t=t.call(this[0])),t=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(r){return _(r)?this.each(function(t){S(this).wrapInner(r.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(r):t.append(r)})},wrap:function(e){var r=_(e);return this.each(function(t){S(this).wrapAll(r?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ve=S.ajaxSettings.xhr();y.cors=!!Ve&&"withCredentials"in Ve,y.ajax=Ve=!!Ve,S.ajaxTransport(function(n){var o,s;if(y.cors||Ve&&!n.crossDomain)return{send:function(t,e){var r,i=n.xhr();if(i.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(r in n.xhrFields)i[r]=n.xhrFields[r];for(r in n.mimeType&&i.overrideMimeType&&i.overrideMimeType(n.mimeType),n.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(r,t[r]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(qe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(n.hasContent&&n.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(r){var i,n;if(r.crossDomain||r.scriptAttrs)return{send:function(t,e){i=S("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",n=function(t){i.remove(),n=null,t&&e("error"===t.type?404:200,t.type)}),E.head.appendChild(i[0])},abort:function(){n&&n()}}});var $e,Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||S.expando+"_"+Ie.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,r){var i,n,o,s=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qe,"$1"+i):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},t.dataTypes[0]="json",n=w[i],w[i]=function(){o=arguments},r.always(function(){void 0===n?S(w).removeProp(i):w[i]=n,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(i)),o&&_(n)&&n(o[0]),o=n=void 0}),"script"}),y.createHTMLDocument=(($e=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),S.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(y.createHTMLDocument?((i=(e=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,e.head.appendChild(i)):e=E),i=!r&&[],(r=A.exec(t))?[e.createElement(r[1])]:(r=gt([t],e,i),i&&i.length&&S(i).remove(),S.merge([],r.childNodes)));var i},S.fn.load=function(t,e,r){var i,n,o,s=this,a=t.indexOf(" ");return-1<a&&(i=xe(t.slice(a)),t=t.slice(0,a)),_(e)?(r=e,e=void 0):e&&"object"==typeof e&&(n="POST"),0<s.length&&S.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?S("<div>").append(S.parseHTML(t)).find(i):t)}).always(r&&function(t,e){s.each(function(){r.apply(this,o||[t.responseText,e,t])})}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,r){var i,n,o,s,a=S.css(t,"position"),u=S(t),l={};"static"===a&&(t.style.position="relative"),o=u.offset(),i=S.css(t,"top"),s=S.css(t,"left"),s=("absolute"===a||"fixed"===a)&&-1<(i+s).indexOf("auto")?(n=(a=u.position()).top,a.left):(n=parseFloat(i)||0,parseFloat(s)||0),_(e)&&(e=e.call(t,r,S.extend({},o))),null!=e.top&&(l.top=e.top-o.top+n),null!=e.left&&(l.left=e.left-o.left+s),"using"in e?e.using.call(t,l):("number"==typeof l.top&&(l.top+="px"),"number"==typeof l.left&&(l.left+="px"),u.css(l))}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,i=this[0],n={top:0,left:0};if("fixed"===S.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),r=i.ownerDocument,t=i.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),n.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-S.css(i,"marginTop",!0),left:e.left-n.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||rt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var o="pageYOffset"===n;S.fn[e]=function(t){return H(this,function(t,e,r){var i;return m(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===r?i?i[n]:t[e]:void(i?i.scrollTo(o?i.pageXOffset:r,o?r:i.pageYOffset):t[e]=r)},e,t,arguments.length)}}),S.each(["top","left"],function(t,r){S.cssHooks[r]=$t(y.pixelPosition,function(t,e){if(e)return e=Vt(t,r),zt.test(e)?S(t).position()[r]+"px":e})}),S.each({Height:"height",Width:"width"},function(s,a){S.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){S.fn[o]=function(t,e){var r=arguments.length&&(i||"boolean"!=typeof t),n=i||(!0===t||!0===e?"margin":"border");return H(this,function(t,e,r){var i;return m(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===r?S.css(t,e,n):S.style(t,e,r,n)},a,r?t:void 0,r)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,i){return this.on(e,t,r,i)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,r){S.fn[r]=function(t,e){return 0<arguments.length?this.on(r,null,t,e):this.trigger(r)}});var Ze=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var r,i;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return r=a.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(a.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=P,S.isFunction=_,S.isWindow=m,S.camelCase=W,S.type=f,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ze,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Je=w.jQuery,tr=w.$;return S.noConflict=function(t){return w.$===S&&(w.$=tr),t&&w.jQuery===S&&(w.jQuery=Je),S},void 0===t&&(w.jQuery=w.$=S),S})},{}],42:[function(t,e,r){e.exports=function(n){var o=function(t,e,r){var i=t.splice(0,50);r=(r=r||[]).concat(n.add(i)),0<t.length?setTimeout(function(){o(t,e,r)},1):(n.update(),e(r))};return o}},{}],43:[function(t,e,r){e.exports=function(o){return o.handlers.filterStart=o.handlers.filterStart||[],o.handlers.filterComplete=o.handlers.filterComplete||[],function(t){if(o.trigger("filterStart"),o.i=1,o.reset.filter(),void 0===t)o.filtered=!1;else{o.filtered=!0;for(var e=o.items,r=0,i=e.length;r<i;r++){var n=e[r];t(n)?n.filtered=!0:n.filtered=!1}}return o.update(),o.trigger("filterComplete"),o.visibleItems}}},{}],44:[function(t,e,r){t("./utils/classes");var i=t("./utils/events"),n=t("./utils/extend"),a=t("./utils/to-string"),l=t("./utils/get-by-class"),h=t("./utils/fuzzy");e.exports=function(o,s){s=n({location:0,distance:100,threshold:.4,multiSearch:!0,searchClass:"fuzzy-search"},s=s||{});var u={search:function(t,e){for(var r=s.multiSearch?t.replace(/ +$/,"").split(/ +/):[t],i=0,n=o.items.length;i<n;i++)u.item(o.items[i],e,r)},item:function(t,e,r){for(var i=!0,n=0;n<r.length;n++){for(var o=!1,s=0,a=e.length;s<a;s++)u.values(t.values(),e[s],r[n])&&(o=!0);o||(i=!1)}t.found=i},values:function(t,e,r){if(t.hasOwnProperty(e)){e=a(t[e]).toLowerCase();if(h(e,r,s))return!0}return!1}};return i.bind(l(o.listContainer,s.searchClass),"keyup",o.utils.events.debounce(function(t){t=t.target||t.srcElement;o.search(t.value,u.search)},o.searchDelay)),function(t,e){o.search(t,e,u.search)}}},{"./utils/classes":52,"./utils/events":53,"./utils/extend":54,"./utils/fuzzy":55,"./utils/get-by-class":57,"./utils/to-string":60}],45:[function(o,t,e){var s=o("string-natural-compare"),h=o("./utils/get-by-class"),c=o("./utils/extend"),p=o("./utils/index-of"),d=o("./utils/events"),f=o("./utils/to-string"),m=o("./utils/classes"),g=o("./utils/get-attribute"),v=o("./utils/to-array");t.exports=function(t,r,e){var a=this,u=o("./item")(a),l=o("./add-async")(a),i=o("./pagination")(a),n={start:function(){a.listClass="list",a.searchClass="search",a.sortClass="sort",a.page=1e4,a.i=1,a.items=[],a.visibleItems=[],a.matchingItems=[],a.searched=!1,a.filtered=!1,a.searchColumns=void 0,a.searchDelay=0,a.handlers={updated:[]},a.valueNames=[],a.utils={getByClass:h,extend:c,indexOf:p,events:d,toString:f,naturalSort:s,classes:m,getAttribute:g,toArray:v},a.utils.extend(a,r),a.listContainer="string"==typeof t?document.getElementById(t):t,a.listContainer&&(a.list=h(a.listContainer,a.listClass,!0),a.parse=o("./parse")(a),a.templater=o("./templater")(a),a.search=o("./search")(a),a.filter=o("./filter")(a),a.sort=o("./sort")(a),a.fuzzySearch=o("./fuzzy-search")(a,r.fuzzySearch),this.handlers(),this.items(),this.pagination(),a.update())},handlers:function(){for(var t in a.handlers)a[t]&&a.handlers.hasOwnProperty(t)&&a.on(t,a[t])},items:function(){a.parse(a.list),void 0!==e&&a.add(e)},pagination:function(){if(void 0!==r.pagination){!0===r.pagination&&(r.pagination=[{}]),void 0===r.pagination[0]&&(r.pagination=[r.pagination]);for(var t=0,e=r.pagination.length;t<e;t++)i(r.pagination[t])}}};this.reIndex=function(){a.items=[],a.visibleItems=[],a.matchingItems=[],a.searched=!1,a.filtered=!1,a.parse(a.list)},this.toJSON=function(){for(var t=[],e=0,r=a.items.length;e<r;e++)t.push(a.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(!e){var r=[];void 0===t[0]&&(t=[t]);for(var i=0,n=t.length;i<n;i++){var o=a.items.length>a.page,s=new u(t[i],void 0,o);a.items.push(s),r.push(s)}return a.update(),r}l(t.slice(0),e)}},this.show=function(t,e){return this.i=t,this.page=e,a.update(),a},this.remove=function(t,e,r){for(var i=0,n=0,o=a.items.length;n<o;n++)a.items[n].values()[t]==e&&(a.templater.remove(a.items[n],r),a.items.splice(n,1),o--,n--,i++);return a.update(),i},this.get=function(t,e){for(var r=[],i=0,n=a.items.length;i<n;i++){var o=a.items[i];o.values()[t]==e&&r.push(o)}return r},this.size=function(){return a.items.length},this.clear=function(){return a.templater.clear(),a.items=[],a},this.on=function(t,e){return a.handlers[t].push(e),a},this.off=function(t,e){t=a.handlers[t],e=p(t,e);return-1<e&&t.splice(e,1),a},this.trigger=function(t){for(var e=a.handlers[t].length;e--;)a.handlers[t][e](a);return a},this.reset={filter:function(){for(var t=a.items,e=t.length;e--;)t[e].filtered=!1;return a},search:function(){for(var t=a.items,e=t.length;e--;)t[e].found=!1;return a}},this.update=function(){var t=a.items,e=t.length;a.visibleItems=[],a.matchingItems=[],a.templater.clear();for(var r=0;r<e;r++)t[r].matching()&&a.matchingItems.length+1>=a.i&&a.visibleItems.length<a.page?(t[r].show(),a.visibleItems.push(t[r]),a.matchingItems.push(t[r])):(t[r].matching()&&a.matchingItems.push(t[r]),t[r].hide());return a.trigger("updated"),a},n.start()}},{"./add-async":42,"./filter":43,"./fuzzy-search":44,"./item":46,"./pagination":47,"./parse":48,"./search":49,"./sort":50,"./templater":51,"./utils/classes":52,"./utils/events":53,"./utils/extend":54,"./utils/get-attribute":56,"./utils/get-by-class":57,"./utils/index-of":58,"./utils/to-array":59,"./utils/to-string":60,"string-natural-compare":74}],46:[function(t,e,r){e.exports=function(a){return function(t,e,r){var i=this;this._values={},this.found=!1,this.filtered=!1;var n,o,s;this.values=function(t,e){if(void 0===t)return i._values;for(var r in t)i._values[r]=t[r];!0!==e&&a.templater.set(i,i.values())},this.show=function(){a.templater.show(i)},this.hide=function(){a.templater.hide(i)},this.matching=function(){return a.filtered&&a.searched&&i.found&&i.filtered||a.filtered&&!a.searched&&i.filtered||!a.filtered&&a.searched&&i.found||!a.filtered&&!a.searched},this.visible=function(){return!(!i.elm||i.elm.parentNode!=a.list)},n=t,s=r,void 0===(o=e)?s?i.values(n,s):i.values(n):(i.elm=o,n=a.templater.get(i,n),i.values(n))}}},{}],47:[function(t,e,r){var g=t("./utils/classes"),i=t("./utils/events"),n=t("./index");e.exports=function(d){function r(t,e){if(d.page<1)return d.listContainer.style.display="none",f=!0,0;f&&(d.listContainer.style.display="block");var r,i=d.matchingItems.length,n=d.i,o=d.page,s=Math.ceil(i/o),a=Math.ceil(n/o),u=e.innerWindow||2,l=e.left||e.outerWindow||0,h=s-(h=e.right||e.outerWindow||0);t.clear();for(var c=1;c<=s;c++){var p=a===c?"active":"";m.number(c,l,h,a,u)?(r=t.add({page:c,dotted:!1})[0],p&&g(r.elm).add(p),r.elm.firstChild.setAttribute("data-i",c),r.elm.firstChild.setAttribute("data-page",o)):m.dotted(t,c,l,h,a,u,t.size())&&(r=t.add({page:"...",dotted:!0})[0],g(r.elm).add("disabled"))}}var f=!1,m={number:function(t,e,r,i,n){return this.left(t,e)||this.right(t,r)||this.innerWindow(t,i,n)},left:function(t,e){return t<=e},right:function(t,e){return e<t},innerWindow:function(t,e,r){return e-r<=t&&t<=e+r},dotted:function(t,e,r,i,n,o,s){return this.dottedLeft(t,e,r,i,n,o)||this.dottedRight(t,e,r,i,n,o,s)},dottedLeft:function(t,e,r,i,n,o){return e==r+1&&!this.innerWindow(e,n,o)&&!this.right(e,i)},dottedRight:function(t,e,r,i,n,o,s){return!t.items[s-1].values().dotted&&(e==i&&!this.innerWindow(e,n,o)&&!this.right(e,i))}};return function(t){var e=new n(d.listContainer.id,{listClass:t.paginationClass||"pagination",item:t.item||"<li><a class='page' href='#'></a></li>",valueNames:["page","dotted"],searchClass:"pagination-search-that-is-not-supposed-to-exist",sortClass:"pagination-sort-that-is-not-supposed-to-exist"});i.bind(e.listContainer,"click",function(t){var e=t.target||t.srcElement,t=d.utils.getAttribute(e,"data-page"),e=d.utils.getAttribute(e,"data-i");e&&d.show((e-1)*t+1,t)}),d.on("updated",function(){r(e,t)}),r(e,t)}}},{"./index":45,"./utils/classes":52,"./utils/events":53}],48:[function(t,e,r){e.exports=function(n){function i(t,e){for(var r=0,i=t.length;r<i;r++)n.items.push(new o(e,t[r]))}var o=t("./item")(n),s=function(t,e){var r=t.splice(0,50);i(r,e),0<t.length?setTimeout(function(){s(t,e)},1):(n.update(),n.trigger("parseComplete"))};return n.handlers.parseComplete=n.handlers.parseComplete||[],function(){var t=function(t){for(var e=t.childNodes,r=[],i=0,n=e.length;i<n;i++)void 0===e[i].data&&r.push(e[i]);return r}(n.list),e=n.valueNames;(n.indexAsync?s:i)(t,e)}}},{"./item":46}],49:[function(t,e,r){e.exports=function(d){function e(t){return d.trigger("searchStart"),i.resetList(),i.setSearchString(t),i.setOptions(arguments),i.setColumns(),""===m?o():(d.searched=!0,r?r(m,f):n()),d.update(),d.trigger("searchComplete"),d.visibleItems}var f,m,r,i={resetList:function(){d.i=1,d.templater.clear(),r=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?f=t[1]:2==t.length&&"function"==typeof t[1]?(f=void 0,r=t[1]):3==t.length?(f=t[1],r=t[2]):f=void 0},setColumns:function(){0!==d.items.length&&void 0===f&&(f=void 0===d.searchColumns?i.toArray(d.items[0].values()):d.searchColumns)},setSearchString:function(t){t=(t=d.utils.toString(t).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),m=t},toArray:function(t){var e,r=[];for(e in t)r.push(e);return r}},n=function(){for(var t,e=[],r=m;null!==(t=r.match(/"([^"]+)"/));)e.push(t[1]),r=r.substring(0,t.index)+r.substring(t.index+t[0].length);(r=r.trim()).length&&(e=e.concat(r.split(/\s+/)));for(var i=0,n=d.items.length;i<n;i++){var o=d.items[i];if(o.found=!1,e.length){for(var s=0,a=e.length;s<a;s++){for(var u=!1,l=0,h=f.length;l<h;l++){var c=o.values(),p=f[l];if(c.hasOwnProperty(p)&&void 0!==c[p]&&null!==c[p])if(-1!==("string"!=typeof c[p]?c[p].toString():c[p]).toLowerCase().indexOf(e[s])){u=!0;break}}if(!u)break}o.found=u}}},o=function(){d.reset.search(),d.searched=!1};return d.handlers.searchStart=d.handlers.searchStart||[],d.handlers.searchComplete=d.handlers.searchComplete||[],d.utils.events.bind(d.utils.getByClass(d.listContainer,d.searchClass),"keyup",d.utils.events.debounce(function(t){t=t.target||t.srcElement;""===t.value&&!d.searched||e(t.value)},d.searchDelay)),d.utils.events.bind(d.utils.getByClass(d.listContainer,d.searchClass),"input",function(t){""===(t.target||t.srcElement).value&&e("")}),e}},{}],50:[function(t,e,r){e.exports=function(o){function t(){o.trigger("sortStart");var i={};(t=arguments[0].currentTarget||arguments[0].srcElement||void 0)?(i.valueName=o.utils.getAttribute(t,"data-sort"),s.getInSensitive(t,i),i.order=s.getOrder(t)):((i=arguments[1]||i).valueName=arguments[0],i.order=i.order||"asc",i.insensitive=void 0===i.insensitive||i.insensitive),s.clear(),s.setOrder(i);var r=i.sortFunction||o.sortFunction||null,n="desc"===i.order?-1:1,t=r?function(t,e){return r(t,e,i)*n}:function(t,e){var r=o.utils.naturalSort;return r.alphabet=o.alphabet||i.alphabet||void 0,!r.alphabet&&i.insensitive&&(r=o.utils.naturalSort.caseInsensitive),r(t.values()[i.valueName],e.values()[i.valueName])*n};o.items.sort(t),o.update(),o.trigger("sortComplete")}var s={els:void 0,clear:function(){for(var t=0,e=s.els.length;t<e;t++)o.utils.classes(s.els[t]).remove("asc"),o.utils.classes(s.els[t]).remove("desc")},getOrder:function(t){var e=o.utils.getAttribute(t,"data-order");return"asc"==e||"desc"==e?e:!o.utils.classes(t).has("desc")&&o.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,e){t=o.utils.getAttribute(t,"data-insensitive");e.insensitive="false"!==t},setOrder:function(t){for(var e=0,r=s.els.length;e<r;e++){var i,n=s.els[e];o.utils.getAttribute(n,"data-sort")===t.valueName&&(("asc"!=(i=o.utils.getAttribute(n,"data-order"))&&"desc"!=i||i==t.order)&&o.utils.classes(n).add(t.order))}}};return o.handlers.sortStart=o.handlers.sortStart||[],o.handlers.sortComplete=o.handlers.sortComplete||[],s.els=o.utils.getByClass(o.listContainer,o.sortClass),o.utils.events.bind(s.els,"click",t),o.on("searchStart",s.clear),o.on("filterStart",s.clear),t}},{}],51:[function(t,e,r){function i(l){function i(t,e,r){var i=void 0;(e=function(t){for(var e=0,r=l.valueNames.length;e<r;e++){var i=l.valueNames[e];if(i.data){for(var n=i.data,o=0,s=n.length;o<s;o++)if(n[o]===t)return{data:t}}else{if(i.attr&&i.name&&i.name==t)return i;if(i===t)return t}}}(e))&&(e.data?t.elm.setAttribute("data-"+e.data,r):e.attr&&e.name?(i=l.utils.getByClass(t.elm,e.name,!0))&&i.setAttribute(e.attr,r):(i=l.utils.getByClass(t.elm,e,!0))&&(i.innerHTML=r))}var e,h=this,r=function(t,e){var r=t.cloneNode(!0);r.removeAttribute("id");for(var i=0,n=e.length;i<n;i++){var o=void 0,s=e[i];if(s.data)for(var a=0,u=s.data.length;a<u;a++)r.setAttribute("data-"+s.data[a],"");else s.attr&&s.name?(o=l.utils.getByClass(r,s.name,!0))&&o.setAttribute(s.attr,""):(o=l.utils.getByClass(r,s,!0))&&(o.innerHTML="")}return r},n=function(){for(var t=l.list.childNodes,e=0,r=t.length;e<r;e++)if(void 0===t[e].data)return t[e].cloneNode(!0)},o=function(t){if("string"==typeof t){if(/<tr[\s>]/g.exec(t)){var e=document.createElement("tbody");return e.innerHTML=t,e.firstElementChild}if(-1!==t.indexOf("<")){e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}}};this.get=function(t,e){h.create(t);for(var r={},i=0,n=e.length;i<n;i++){var o=void 0,s=e[i];if(s.data)for(var a=0,u=s.data.length;a<u;a++)r[s.data[a]]=l.utils.getAttribute(t.elm,"data-"+s.data[a]);else s.attr&&s.name?(o=l.utils.getByClass(t.elm,s.name,!0),r[s.name]=o?l.utils.getAttribute(o,s.attr):""):(o=l.utils.getByClass(t.elm,s,!0),r[s]=o?o.innerHTML:"")}return r},this.set=function(t,e){if(!h.create(t))for(var r in e)e.hasOwnProperty(r)&&i(t,r,e[r])},this.create=function(t){return void 0===t.elm&&(t.elm=e(t.values()),h.set(t,t.values()),!0)},this.remove=function(t){t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.show=function(t){h.create(t),l.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.clear=function(){if(l.list.hasChildNodes())for(;1<=l.list.childNodes.length;)l.list.removeChild(l.list.firstChild)},function(){var t;if("function"!=typeof l.item){if(!(t="string"==typeof l.item?-1===l.item.indexOf("<")?document.getElementById(l.item):o(l.item):n()))throw new Error("The list needs to have at least one item on init otherwise you'll have to add a template.");t=r(t,l.valueNames),e=function(){return t.cloneNode(!0)}}else e=function(t){t=l.item(t);return o(t)}}()}e.exports=function(t){return new i(t)}},{}],52:[function(t,e,r){var i=t("./index-of"),n=/\s+/;Object.prototype.toString;function o(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}e.exports=function(t){return new o(t)},o.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~i(e,t)||e.push(t),this.el.className=e.join(" "),this},o.prototype.remove=function(t){if(this.list)return this.list.remove(t),this;var e=this.array(),t=i(e,t);return~t&&e.splice(t,1),this.el.className=e.join(" "),this},o.prototype.toggle=function(t,e){return this.list?void 0!==e&&e===this.list.toggle(t,e)||this.list.toggle(t):void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this},o.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(n);return""===t[0]&&t.shift(),t},o.prototype.has=o.prototype.contains=function(t){return this.list?this.list.contains(t):!!~i(this.array(),t)}},{"./index-of":58}],53:[function(t,e,r){var s=window.addEventListener?"addEventListener":"attachEvent",a=window.removeEventListener?"removeEventListener":"detachEvent",u="addEventListener"!=s?"on":"",l=t("./to-array");r.bind=function(t,e,r,i){for(var n=0,o=(t=l(t)).length;n<o;n++)t[n][s](u+e,r,i||!1)},r.unbind=function(t,e,r,i){for(var n=0,o=(t=l(t)).length;n<o;n++)t[n][a](u+e,r,i||!1)},r.debounce=function(i,n,o){var s;return n?function(){var t=this,e=arguments,r=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||i.apply(t,e)},n),r&&i.apply(t,e)}:i}},{"./to-array":59}],54:[function(t,e,r){e.exports=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),i=0;e=r[i];i++)if(e)for(var n in e)t[n]=e[n];return t}},{}],55:[function(t,e,r){e.exports=function(t,r,e){var i=e.location||0,n=e.distance||100,e=e.threshold||.4;if(r===t)return!0;if(32<r.length)return!1;var o=i,s=function(){for(var t={},e=0;e<r.length;e++)t[r.charAt(e)]=0;for(e=0;e<r.length;e++)t[r.charAt(e)]|=1<<r.length-e-1;return t}();function a(t,e){t/=r.length,e=Math.abs(o-e);return n?t+e/n:e?1:t}var u=e;-1!=(d=t.indexOf(r,o))&&(u=Math.min(a(0,d),u),-1!=(d=t.lastIndexOf(r,o+r.length))&&(u=Math.min(a(0,d),u)));for(var l,h,c,p=1<<r.length-1,d=-1,f=r.length+t.length,m=0;m<r.length;m++){for(l=0,h=f;l<h;)a(m,o+h)<=u?l=h:f=h,h=Math.floor((f-l)/2+l);f=h;var g=Math.max(1,o-h+1),v=Math.min(o+h,t.length)+r.length,y=Array(v+2);y[v+1]=(1<<m)-1;for(var _=v;g<=_;_--){var b=s[t.charAt(_-1)];if(y[_]=0===m?(y[_+1]<<1|1)&b:(y[_+1]<<1|1)&b|(c[_+1]|c[_])<<1|1|c[_+1],y[_]&p){b=a(m,_-1);if(b<=u){if(u=b,!(o<(d=_-1)))break;g=Math.max(1,2*o-d)}}}if(a(m+1,o)>u)break;c=y}return!(d<0)}},{}],56:[function(t,e,r){e.exports=function(t,e){var r=t.getAttribute&&t.getAttribute(e)||null;if(!r)for(var i=t.attributes,n=i.length,o=0;o<n;o++)void 0!==i[o]&&i[o].nodeName===e&&(r=i[o].nodeValue);return r}},{}],57:[function(t,e,r){e.exports=function(t,e,r,i){return(i=i||{}).test&&i.getElementsByClassName||!i.test&&document.getElementsByClassName?(n=t,o=e,r?n.getElementsByClassName(o)[0]:n.getElementsByClassName(o)):i.test&&i.querySelector||!i.test&&document.querySelector?(o=t,i="."+(i=e),r?o.querySelector(i):o.querySelectorAll(i)):function(t,e,r){for(var i=[],n=t.getElementsByTagName("*"),o=n.length,s=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,u=0;a<o;a++)if(s.test(n[a].className)){if(r)return n[a];i[u]=n[a],u++}return i}(t,e,r);var n,o}},{}],58:[function(t,e,r){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0,i=t.length;r<i;++r)if(t[r]===e)return r;return-1}},{}],59:[function(t,e,r){e.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(e=t,"[object Array]"===Object.prototype.toString.call(e))return t;var e;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var r=[],i=0,n=t.length;i<n;i++)(Object.prototype.hasOwnProperty.call(t,i)||i in t)&&r.push(t[i]);return r.length?r:[]}},{}],60:[function(t,e,r){e.exports=function(t){return t=(t=null===(t=void 0===t?"":t)?"":t).toString()}},{}],61:[function(l,e,r){(function(i){(function(){!function(t){"object"==typeof r&&void 0!==e?e.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).localforage=t()}(function(){return function i(n,o,s){function a(r,t){if(!o[r]){if(!n[r]){var e="function"==typeof l&&l;if(!t&&e)return e(r,!0);if(u)return u(r,!0);e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}e=o[r]={exports:{}};n[r][0].call(e.exports,function(t){var e=n[r][1][t];return a(e||t)},e,e.exports,i,n,o,s)}return o[r].exports}for(var u="function"==typeof l&&l,t=0;t<s.length;t++)a(s[t]);return a}({1:[function(t,l,e){(function(e){"use strict";var t,r,i,n,o=e.MutationObserver||e.WebKitMutationObserver,s=o?(t=0,o=new o(u),r=e.document.createTextNode(""),o.observe(r,{characterData:!0}),function(){r.data=t=++t%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)}:((i=new e.MessageChannel).port1.onmessage=u,function(){i.port2.postMessage(0)}),a=[];function u(){var t,e;n=!0;for(var r=a.length;r;){for(e=a,a=[],t=-1;++t<r;)e[t]();r=a.length}n=!1}l.exports=function(t){1!==a.push(t)||n||s()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,r){"use strict";var n=t(1);function u(){}var l={},o=["REJECTED"],s=["FULFILLED"],i=["PENDING"];function a(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&d(this,t)}function h(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function c(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,t)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var o=f(function(){t(n,i)});"error"===o.status&&i(o.value)}function f(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}(e.exports=a).prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var r=new this.constructor(u);return this.state!==i?c(r,this.state===s?t:e,this.outcome):this.queue.push(new h(r,t,e)),r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=f(p,e);if("error"===r.status)return l.reject(t,r.value);r=r.value;if(r)d(t,r);else{t.state=s,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callFulfilled(e)}return t},l.reject=function(t,e){t.state=o,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},a.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},a.reject=function(t){var e=new this(u);return l.reject(e,t)},a.all=function(t){var r=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,n=!1;if(!i)return this.resolve([]);var o=new Array(i),s=0,e=-1,a=new this(u);for(;++e<i;)!function(t,e){r.resolve(t).then(function(t){o[e]=t,++s!==i||n||(n=!0,l.resolve(a,o))},function(t){n||(n=!0,l.reject(a,t))})}(t[e],e);return a},a.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,o=new this(u);for(;++n<r;)!function(t){e.resolve(t).then(function(t){i||(i=!0,l.resolve(o,t))},function(t){i||(i=!0,l.reject(o,t))})}(t[n]);return o}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var a=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(e,r){e=e||[],r=r||{};try{return new Blob(e,r)}catch(t){if("TypeError"!==t.name)throw t;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)i.append(e[n]);return i.getBlob(r.type)}}"undefined"==typeof Promise&&t(3);var h=Promise;function c(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,r){"function"==typeof e&&t.then(e),"function"==typeof r&&t.catch(r)}function p(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var s="local-forage-detect-blob-support",n=void 0,d={},f=Object.prototype.toString,m="readonly",g="readwrite";function v(t){return"boolean"==typeof n?h.resolve(n):(i=t,new h(function(r){var t=i.transaction(s,g),e=o([""]);t.objectStore(s).put(e,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),r(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),e=navigator.userAgent.match(/Edge\//);r(e||!t||43<=parseInt(t[1],10))}}).catch(function(){return!1}).then(function(t){return n=t}));var i}function y(t){var t=d[t.name],r={};r.promise=new h(function(t,e){r.resolve=t,r.reject=e}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function _(t){t=d[t.name].deferredOperations.pop();return t&&(t.resolve(),t.promise)}function b(t,e){t=d[t.name].deferredOperations.pop();if(t)return t.reject(e),t.promise}function x(n,o){return new h(function(t,e){if(d[n.name]=d[n.name]||O(),n.db){if(!o)return t(n.db);y(n),n.db.close()}var r=[n.name];o&&r.push(n.version);var i=a.open.apply(a,r);o&&(i.onupgradeneeded=function(e){var t=i.result;try{t.createObjectStore(n.storeName),e.oldVersion<=1&&t.createObjectStore(s)}catch(t){if("ConstraintError"!==t.name)throw t;console.warn('The database "'+n.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+n.storeName+'" already exists.')}}),i.onerror=function(t){t.preventDefault(),e(i.error)},i.onsuccess=function(){t(i.result),_(n)}})}function w(t){return x(t,!1)}function E(t){return x(t,!0)}function S(t,e){if(!t.db)return 1;var r=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,n=t.version>t.db.version;return i&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),(n||r)&&(!r||(r=t.db.version+1)>t.version&&(t.version=r),1)}function T(t){return o([function(t){for(var e=t.length,r=new ArrayBuffer(e),i=new Uint8Array(r),n=0;n<e;n++)i[n]=t.charCodeAt(n);return r}(atob(t.data))],{type:t.type})}function P(t){return t&&t.__local_forage_encoded_blob}function A(t){var e=this,r=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(r,t,t),r}function I(e,r,i,n){void 0===n&&(n=1);try{var t=e.db.transaction(e.storeName,r);i(null,t)}catch(t){if(0<n&&(!e.db||"InvalidStateError"===t.name||"NotFoundError"===t.name))return h.resolve().then(function(){if(!e.db||"NotFoundError"===t.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),E(e)}).then(function(){return function(r){y(r);for(var i=d[r.name],n=i.forages,t=0;t<n.length;t++){var e=n[t];e._dbInfo.db&&(e._dbInfo.db.close(),e._dbInfo.db=null)}return r.db=null,w(r).then(function(t){return r.db=t,S(r)?E(r):t}).then(function(t){r.db=i.db=t;for(var e=0;e<n.length;e++)n[e]._dbInfo.db=t}).catch(function(t){throw b(r,t),t})}(e).then(function(){I(e,r,i,n-1)})}).catch(i);i(t)}}function O(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var M={_driver:"asyncStorage",_initStorage:function(t){var i=this,n={db:null};if(t)for(var e in t)n[e]=t[e];var o=d[n.name];o||(o=O(),d[n.name]=o),o.forages.push(i),i._initReady||(i._initReady=i.ready,i.ready=A);var r=[];function s(){return h.resolve()}for(var a=0;a<o.forages.length;a++){var u=o.forages[a];u!==i&&r.push(u._initReady().catch(s))}var l=o.forages.slice(0);return h.all(r).then(function(){return n.db=o.db,w(n)}).then(function(t){return n.db=t,S(n,i._defaultConfig.version)?E(n):t}).then(function(t){n.db=o.db=t,i._dbInfo=n;for(var e=0;e<l.length;e++){var r=l[e];r!==i&&(r._dbInfo.db=n.db,r._dbInfo.version=n.version)}})},_support:function(){try{if(!a||!a.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(s,t){var a=this,e=new h(function(n,o){a.ready().then(function(){I(a._dbInfo,m,function(t,e){if(t)return o(t);try{var r=e.objectStore(a._dbInfo.storeName).openCursor(),i=1;r.onsuccess=function(){var t,e=r.result;e?(P(t=e.value)&&(t=T(t)),void 0!==(t=s(t,e.key,i++))?n(t):e.continue()):n()},r.onerror=function(){o(r.error)}}catch(t){o(t)}})}).catch(o)});return c(e,t),e},getItem:function(o,t){var s=this;o=p(o);var e=new h(function(i,n){s.ready().then(function(){I(s._dbInfo,m,function(t,e){if(t)return n(t);try{var r=e.objectStore(s._dbInfo.storeName).get(o);r.onsuccess=function(){var t=r.result;void 0===t&&(t=null),P(t)&&(t=T(t)),i(t)},r.onerror=function(){n(r.error)}}catch(t){n(t)}})}).catch(n)});return c(e,t),e},setItem:function(a,e,t){var u=this;a=p(a);var r=new h(function(o,s){var t;u.ready().then(function(){return t=u._dbInfo,"[object Blob]"===f.call(e)?v(t.db).then(function(t){return t?e:(i=e,new h(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){t=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:t,type:i.type})},r.readAsBinaryString(i)}));var i}):e}).then(function(n){I(u._dbInfo,g,function(t,e){if(t)return s(t);try{var r=e.objectStore(u._dbInfo.storeName);null===n&&(n=void 0);var i=r.put(n,a);e.oncomplete=function(){void 0===n&&(n=null),o(n)},e.onabort=e.onerror=function(){var t=i.error||i.transaction.error;s(t)}}catch(t){s(t)}})}).catch(s)});return c(r,t),r},removeItem:function(o,t){var s=this;o=p(o);var e=new h(function(i,n){s.ready().then(function(){I(s._dbInfo,g,function(t,e){if(t)return n(t);try{var r=e.objectStore(s._dbInfo.storeName).delete(o);e.oncomplete=function(){i()},e.onerror=function(){n(r.error)},e.onabort=function(){var t=r.error||r.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return c(e,t),e},clear:function(t){var o=this,e=new h(function(i,n){o.ready().then(function(){I(o._dbInfo,g,function(t,e){if(t)return n(t);try{var r=e.objectStore(o._dbInfo.storeName).clear();e.oncomplete=function(){i()},e.onabort=e.onerror=function(){var t=r.error||r.transaction.error;n(t)}}catch(t){n(t)}})}).catch(n)});return c(e,t),e},length:function(t){var o=this,e=new h(function(i,n){o.ready().then(function(){I(o._dbInfo,m,function(t,e){if(t)return n(t);try{var r=e.objectStore(o._dbInfo.storeName).count();r.onsuccess=function(){i(r.result)},r.onerror=function(){n(r.error)}}catch(t){n(t)}})}).catch(n)});return c(e,t),e},key:function(a,t){var u=this,e=new h(function(o,s){a<0?o(null):u.ready().then(function(){I(u._dbInfo,m,function(t,e){if(t)return s(t);try{var r=e.objectStore(u._dbInfo.storeName),i=!1,n=r.openKeyCursor();n.onsuccess=function(){var t=n.result;t?0===a||i?o(t.key):(i=!0,t.advance(a)):o(null)},n.onerror=function(){s(n.error)}}catch(t){s(t)}})}).catch(s)});return c(e,t),e},keys:function(t){var s=this,e=new h(function(n,o){s.ready().then(function(){I(s._dbInfo,m,function(t,e){if(t)return o(t);try{var r=e.objectStore(s._dbInfo.storeName).openKeyCursor(),i=[];r.onsuccess=function(){var t=r.result;t?(i.push(t.key),t.continue()):n(i)},r.onerror=function(){o(r.error)}}catch(t){o(t)}})}).catch(o)});return c(e,t),e},dropInstance:function(s,t){t=l.apply(this,arguments);var e,r=this.config();return(s="function"!=typeof s&&s||{}).name||(s.name=s.name||r.name,s.storeName=s.storeName||r.storeName),c(e=s.name?(e=s.name===r.name&&this._dbInfo.db?h.resolve(this._dbInfo.db):w(s).then(function(t){var e=d[s.name],r=e.forages;e.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}),s.storeName?e.then(function(t){if(t.objectStoreNames.contains(s.storeName)){var n=t.version+1;y(s);var i=d[s.name],o=i.forages;t.close();for(var e=0;e<o.length;e++){var r=o[e];r._dbInfo.db=null,r._dbInfo.version=n}return new h(function(e,r){var i=a.open(s.name,n);i.onerror=function(t){i.result.close(),r(t)},i.onupgradeneeded=function(){i.result.deleteObjectStore(s.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}}).then(function(t){i.db=t;for(var e=0;e<o.length;e++){var r=o[e];r._dbInfo.db=t,_(r._dbInfo)}}).catch(function(t){throw(b(s,t)||h.resolve()).catch(function(){}),t})}}):e.then(function(t){y(s);var r=d[s.name],i=r.forages;t.close();for(var e=0;e<i.length;e++)i[e]._dbInfo.db=null;return new h(function(e,r){var i=a.deleteDatabase(s.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),r(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<i.length;e++)_(i[e]._dbInfo)}).catch(function(t){throw(b(s,t)||h.resolve()).catch(function(){}),t})})):h.reject("Invalid arguments"),t),e}};var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",L=R.length,N=L+"arbf".length,F=Object.prototype.toString;function k(t){var e,r,i,n,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);for(var o=new ArrayBuffer(o),u=new Uint8Array(o),l=0;l<s;l+=4)e=C.indexOf(t[l]),r=C.indexOf(t[l+1]),i=C.indexOf(t[l+2]),n=C.indexOf(t[l+3]),u[a++]=e<<2|r>>4,u[a++]=(15&r)<<4|i>>2,u[a++]=(3&i)<<6|63&n;return o}function B(t){for(var e=new Uint8Array(t),r="",i=0;i<e.length;i+=3)r+=C[e[i]>>2],r+=C[(3&e[i])<<4|e[i+1]>>4],r+=C[(15&e[i+1])<<2|e[i+2]>>6],r+=C[63&e[i+2]];return e.length%3==2?r=r.substring(0,r.length-1)+"=":e.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var j={serialize:function(e,r){var t="";if(e&&(t=F.call(e)),e&&("[object ArrayBuffer]"===t||e.buffer&&"[object ArrayBuffer]"===F.call(e.buffer))){var i,n=R;e instanceof ArrayBuffer?(i=e,n+="arbf"):(i=e.buffer,"[object Int8Array]"===t?n+="si08":"[object Uint8Array]"===t?n+="ui08":"[object Uint8ClampedArray]"===t?n+="uic8":"[object Int16Array]"===t?n+="si16":"[object Uint16Array]"===t?n+="ur16":"[object Int32Array]"===t?n+="si32":"[object Uint32Array]"===t?n+="ui32":"[object Float32Array]"===t?n+="fl32":"[object Float64Array]"===t?n+="fl64":r(new Error("Failed to get type for BinaryArray"))),r(n+B(i))}else if("[object Blob]"===t){t=new FileReader;t.onload=function(){var t="~~local_forage_type~"+e.type+"~"+B(this.result);r(R+"blob"+t)},t.readAsArrayBuffer(e)}else try{r(JSON.stringify(e))}catch(t){console.error("Couldn't convert value into a JSON string: ",e),r(null,t)}},deserialize:function(t){if(t.substring(0,L)!==R)return JSON.parse(t);var e,r=t.substring(N),i=t.substring(L,N);"blob"===i&&D.test(r)&&(e=(t=r.match(D))[1],r=r.substring(t[0].length));var n=k(r);switch(i){case"arbf":return n;case"blob":return o([n],{type:e});case"si08":return new Int8Array(n);case"ui08":return new Uint8Array(n);case"uic8":return new Uint8ClampedArray(n);case"si16":return new Int16Array(n);case"ur16":return new Uint16Array(n);case"si32":return new Int32Array(n);case"ui32":return new Uint32Array(n);case"fl32":return new Float32Array(n);case"fl64":return new Float64Array(n);default:throw new Error("Unkown type: "+i)}},stringToBuffer:k,bufferToString:B};function U(t,e,r,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,i)}function H(t,i,n,o,s,a){t.executeSql(n,o,s,function(t,r){r.code===r.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[i.storeName],function(t,e){e.rows.length?a(t,r):U(t,i,function(){t.executeSql(n,o,s,a)},a)},a):a(t,r)},a)}function G(s,t,a,u){var l=this;s=p(s);var e=new h(function(n,o){l.ready().then(function(){void 0===t&&(t=null);var r=t,i=l._dbInfo;i.serializer.serialize(t,function(e,t){t?o(t):i.db.transaction(function(t){H(t,i,"INSERT OR REPLACE INTO "+i.storeName+" (key, value) VALUES (?, ?)",[s,e],function(){n(r)},function(t,e){o(e)})},function(t){t.code===t.QUOTA_ERR&&(0<u?n(G.apply(l,[s,r,a,u-1])):o(t))})})}).catch(o)});return c(e,a),e}var z={_driver:"webSQLStorage",_initStorage:function(t){var i=this,n={db:null};if(t)for(var e in t)n[e]="string"!=typeof t[e]?t[e].toString():t[e];var r=new h(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return r(t)}n.db.transaction(function(t){U(t,n,function(){i._dbInfo=n,e()},function(t,e){r(e)})},r)});return n.serializer=j,r},_support:"function"==typeof openDatabase,iterate:function(l,t){var e=this,r=new h(function(u,r){e.ready().then(function(){var a=e._dbInfo;a.db.transaction(function(t){H(t,a,"SELECT * FROM "+a.storeName,[],function(t,e){for(var r=e.rows,i=r.length,n=0;n<i;n++){var o=r.item(n),s=(s=o.value)&&a.serializer.deserialize(s);if(void 0!==(s=l(s,o.key,n+1)))return void u(s)}u()},function(t,e){r(e)})})}).catch(r)});return c(r,t),r},getItem:function(e,t){var o=this;e=p(e);var r=new h(function(i,n){o.ready().then(function(){var r=o._dbInfo;r.db.transaction(function(t){H(t,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],function(t,e){e=(e=e.rows.length?e.rows.item(0).value:null)&&r.serializer.deserialize(e);i(e)},function(t,e){n(e)})})}).catch(n)});return c(r,t),r},setItem:function(t,e,r){return G.apply(this,[t,e,r,1])},removeItem:function(n,t){var o=this;n=p(n);var e=new h(function(r,i){o.ready().then(function(){var e=o._dbInfo;e.db.transaction(function(t){H(t,e,"DELETE FROM "+e.storeName+" WHERE key = ?",[n],function(){r()},function(t,e){i(e)})})}).catch(i)});return c(e,t),e},clear:function(t){var n=this,e=new h(function(r,i){n.ready().then(function(){var e=n._dbInfo;e.db.transaction(function(t){H(t,e,"DELETE FROM "+e.storeName,[],function(){r()},function(t,e){i(e)})})}).catch(i)});return c(e,t),e},length:function(t){var n=this,e=new h(function(r,i){n.ready().then(function(){var e=n._dbInfo;e.db.transaction(function(t){H(t,e,"SELECT COUNT(key) as c FROM "+e.storeName,[],function(t,e){e=e.rows.item(0).c;r(e)},function(t,e){i(e)})})}).catch(i)});return c(e,t),e},key:function(n,t){var o=this,e=new h(function(r,i){o.ready().then(function(){var e=o._dbInfo;e.db.transaction(function(t){H(t,e,"SELECT key FROM "+e.storeName+" WHERE id = ? LIMIT 1",[n+1],function(t,e){e=e.rows.length?e.rows.item(0).key:null;r(e)},function(t,e){i(e)})})}).catch(i)});return c(e,t),e},keys:function(t){var i=this,e=new h(function(n,r){i.ready().then(function(){var e=i._dbInfo;e.db.transaction(function(t){H(t,e,"SELECT key FROM "+e.storeName,[],function(t,e){for(var r=[],i=0;i<e.rows.length;i++)r.push(e.rows.item(i).key);n(r)},function(t,e){r(e)})})}).catch(r)});return c(e,t),e},dropInstance:function(r,t){t=l.apply(this,arguments);var i=this.config();(r="function"!=typeof r&&r||{}).name||(r.name=r.name||i.name,r.storeName=r.storeName||i.storeName);var n=this,e=r.name?new h(function(t){var o,e=r.name===i.name?n._dbInfo.db:openDatabase(r.name,"","",0);r.storeName?t({db:e,storeNames:[r.storeName]}):t((o=e,new h(function(n,r){o.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,e){for(var r=[],i=0;i<e.rows.length;i++)r.push(e.rows.item(i).name);n({db:o,storeNames:r})},function(t,e){r(e)})},function(t){r(t)})})))}).then(function(s){return new h(function(n,o){s.db.transaction(function(i){for(var t=[],e=0,r=s.storeNames.length;e<r;e++)t.push(function(e){return new h(function(t,r){i.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(t,e){r(e)})})}(s.storeNames[e]));h.all(t).then(function(){n()}).catch(function(t){o(t)})},function(t){o(t)})})}):h.reject("Invalid arguments");return c(e,t),e}};function X(t,e){var r=t.name+"/";return t.storeName!==e.storeName&&(r+=t.storeName+"/"),r}function W(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),void localStorage.removeItem(t)}catch(t){return 1}}()||0<localStorage.length}function Y(t,e){for(var r,i,n=t.length,o=0;o<n;){if((r=t[o])===(i=e)||"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))return 1;o++}}var t={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=X(t,this._defaultConfig),W()?((this._dbInfo=e).serializer=j,h.resolve()):h.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(u,t){var l=this,e=l.ready().then(function(){for(var t=l._dbInfo,e=t.keyPrefix,r=e.length,i=localStorage.length,n=1,o=0;o<i;o++){var s=localStorage.key(o);if(0===s.indexOf(e)){var a=(a=localStorage.getItem(s))&&t.serializer.deserialize(a);if(void 0!==(a=u(a,s.substring(r),n++)))return a}}});return c(e,t),e},getItem:function(r,t){var i=this;r=p(r);var e=i.ready().then(function(){var t=i._dbInfo,e=localStorage.getItem(t.keyPrefix+r);return e=e&&t.serializer.deserialize(e)});return c(e,t),e},setItem:function(s,t,e){var a=this;s=p(s);var r=a.ready().then(function(){void 0===t&&(t=null);var o=t;return new h(function(r,i){var n=a._dbInfo;n.serializer.serialize(t,function(t,e){if(e)i(e);else try{localStorage.setItem(n.keyPrefix+s,t),r(o)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}})})});return c(r,e),r},removeItem:function(e,t){var r=this;e=p(e);var i=r.ready().then(function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return c(i,t),i},clear:function(t){var i=this,e=i.ready().then(function(){for(var t=i._dbInfo.keyPrefix,e=localStorage.length-1;0<=e;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}});return c(e,t),e},length:function(t){var e=this.keys().then(function(t){return t.length});return c(e,t),e},key:function(r,t){var i=this,e=i.ready().then(function(){var e,t=i._dbInfo;try{e=localStorage.key(r)}catch(t){e=null}return e=e&&e.substring(t.keyPrefix.length)});return c(e,t),e},keys:function(t){var o=this,e=o.ready().then(function(){for(var t=o._dbInfo,e=localStorage.length,r=[],i=0;i<e;i++){var n=localStorage.key(i);0===n.indexOf(t.keyPrefix)&&r.push(n.substring(t.keyPrefix.length))}return r});return c(e,t),e},dropInstance:function(e,t){t=l.apply(this,arguments),(e="function"!=typeof e&&e||{}).name||(i=this.config(),e.name=e.name||i.name,e.storeName=e.storeName||i.storeName);var r=this,i=e.name?new h(function(t){e.storeName?t(X(e,r._defaultConfig)):t(e.name+"/")}).then(function(t){for(var e=localStorage.length-1;0<=e;e--){var r=localStorage.key(e);0===r.indexOf(t)&&localStorage.removeItem(r)}}):h.reject("Invalid arguments");return c(i,t),i}},q=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},V={},$={},K={INDEXEDDB:M,WEBSQL:z,LOCALSTORAGE:t},t=[K.INDEXEDDB._driver,K.WEBSQL._driver,K.LOCALSTORAGE._driver],Q=["dropInstance"],Z=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Q),J={description:"",driver:t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var i in r)r.hasOwnProperty(i)&&(q(r[i])?t[i]=r[i].slice():t[i]=r[i])}return t}function et(t){for(var e in!function(t){if(!(t instanceof et))throw new TypeError("Cannot call a class as a function")}(this),K){var r,i;K.hasOwnProperty(e)&&(i=(r=K[e])._driver,this[e]=i,V[i]||this.defineDriver(r))}this._defaultConfig=tt({},J),this._config=tt({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}t=new(et.prototype.config=function(t){if("object"!==(void 0===t?"undefined":i(t)))return"string"==typeof t?this._config[t]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)},et.prototype.defineDriver=function(l,t,e){var r=new h(function(e,r){try{var i=l._driver,t=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!l._driver)return void r(t);for(var n=Z.concat("_initStorage"),o=0,s=n.length;o<s;o++){var a=n[o];if((!Y(Q,a)||l[a])&&"function"!=typeof l[a])return void r(t)}!function(){for(var t=0,e=Q.length;t<e;t++){var r=Q[t];l[r]||(l[r]=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),t=h.reject(t);return c(t,arguments[arguments.length-1]),t}}(r))}}();var u=function(t){V[i]&&console.info("Redefining LocalForage driver: "+i),V[i]=l,$[i]=t,e()};"_support"in l?l._support&&"function"==typeof l._support?l._support().then(u,r):u(!!l._support):u(!0)}catch(t){r(t)}});return u(r,t,e),r},et.prototype.driver=function(){return this._driver||null},et.prototype.getDriver=function(t,e,r){t=V[t]?h.resolve(V[t]):h.reject(new Error("Driver not found."));return u(t,e,r),t},et.prototype.getSerializer=function(t){var e=h.resolve(j);return u(e,t),e},et.prototype.ready=function(t){var e=this,r=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(r,t,t),r},et.prototype.setDriver=function(t,e,r){var o=this;q(t)||(t=[t]);var i=this._getSupportedDrivers(t);function s(){o._config.driver=o.driver()}function a(t){return o._extend(t),s(),o._ready=o._initStorage(o._config),o._ready}function n(n){return function(){var i=0;return function t(){for(;i<n.length;){var e=n[i];return i++,o._dbInfo=null,o._ready=null,o.getDriver(e).then(a).catch(t)}s();var r=new Error("No available storage method found.");return o._driverSet=h.reject(r),o._driverSet}()}}t=null!==this._driverSet?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=t.then(function(){var t=i[0];return o._dbInfo=null,o._ready=null,o.getDriver(t).then(function(t){o._driver=t._driver,s(),o._wrapLibraryMethodsWithReady(),o._initDriver=n(i)})}).catch(function(){s();var t=new Error("No available storage method found.");return o._driverSet=h.reject(t),o._driverSet}),u(this._driverSet,e,r),this._driverSet},et.prototype.supports=function(t){return!!$[t]},et.prototype._extend=function(t){tt(this,t)},et.prototype._getSupportedDrivers=function(t){for(var e=[],r=0,i=t.length;r<i;r++){var n=t[r];this.supports(n)&&e.push(n)}return e},et.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=Z.length;t<e;t++)!function(e,r){e[r]=function(){var t=arguments;return e.ready().then(function(){return e[r].apply(e,t)})}}(this,Z[t])},et.prototype.createInstance=function(t){return new et(t)},et);e.exports=t},{3:3}]},{},[4])(4)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(t,e,r){"use strict";function i(){var u=Object.create(null),r=0,i=0,o=0,l=!1;function s(t){o--,delete u[t]}this.put=function(t,e,r,i){if(l&&console.log("caching: %s = %j (@%s)",t,e,r),void 0!==r&&("number"!=typeof r||isNaN(r)||r<=0))throw new Error("Cache timeout must be a positive number");if(void 0!==i&&"function"!=typeof i)throw new Error("Cache timeout callback must be a function");var n=u[t];n?clearTimeout(n.timeout):o++;n={value:e,expire:r+Date.now()};return isNaN(n.expire)||(n.timeout=setTimeout(function(){s(t),i&&i(t,e)}.bind(this),r)),u[t]=n,e},this.del=function(t){var e=!0,r=u[t];return r?(clearTimeout(r.timeout),!isNaN(r.expire)&&r.expire<Date.now()&&(e=!1)):e=!1,e&&s(t),e},this.clear=function(){for(var t in u)clearTimeout(u[t].timeout);o=0,u=Object.create(null),l&&(i=r=0)},this.get=function(t){var e=u[t];if(void 0!==e){if(isNaN(e.expire)||e.expire>=Date.now())return l&&r++,e.value;l&&i++,o--,delete u[t]}else l&&i++;return null},this.size=function(){return o},this.memsize=function(){var t,e=0;for(t in u)e++;return e},this.debug=function(t){l=t},this.hits=function(){return r},this.misses=function(){return i},this.keys=function(){return Object.keys(u)},this.exportJson=function(){var t,e={};for(t in u){var r=u[t];e[t]={value:r.value,expire:r.expire||"NaN"}}return JSON.stringify(e)},this.importJson=function(t,e){var r,i=JSON.parse(t),n=Date.now(),o=e&&e.skipDuplicates;for(r in i)if(i.hasOwnProperty(r)){if(o)if(u[r]){l&&console.log("Skipping duplicate imported key '%s'",r);continue}var s=i[r],a=s.expire-n;a<=0?this.del(r):(a=0<a?a:void 0,this.put(r,s.value,a))}return this.size()}}e.exports=new i,e.exports.Cache=i},{}],63:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t};function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=(i(a,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),a);function a(t,e,r){void 0===e&&(e=!1),o(this,a),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}function u(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}i(l,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return u(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return u(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),i=l;function l(){o(this,l),this._head=this._tail=void 0}i.MiniSignalBinding=s,r.default=i,e.exports=r.default},{}],64:[function(t,e,r){"use strict";var u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var r,i,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))l.call(r,s)&&(n[s]=r[s]);if(u){i=u(r);for(var a=0;a<i.length;a++)h.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}},{}],65:[function(t,e,r){"use strict";e.exports=function(t,e){if(t){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n}}},{}],66:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("@pixi/polyfill");var f=t("@pixi/utils"),i=t("@pixi/accessibility"),n=t("@pixi/interaction"),o=t("@pixi/app"),s=t("@pixi/core"),a=t("@pixi/extract"),u=t("@pixi/loaders"),l=t("@pixi/particles"),h=t("@pixi/prepare"),c=t("@pixi/spritesheet"),p=t("@pixi/sprite-tiling"),d=t("@pixi/text-bitmap"),m=t("@pixi/ticker"),g=t("@pixi/filter-alpha"),v=t("@pixi/filter-blur"),y=t("@pixi/filter-color-matrix"),_=t("@pixi/filter-displacement"),b=t("@pixi/filter-fxaa"),x=t("@pixi/filter-noise");t("@pixi/mixin-cache-as-bitmap"),t("@pixi/mixin-get-child-by-name"),t("@pixi/mixin-get-global-position");var w=t("@pixi/constants"),E=t("@pixi/display"),S=t("@pixi/graphics"),T=t("@pixi/math"),P=t("@pixi/mesh"),A=t("@pixi/mesh-extras"),I=t("@pixi/runner"),O=t("@pixi/sprite"),M=t("@pixi/sprite-animated"),C=t("@pixi/text"),D=t("@pixi/settings"),R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function L(t,e){function r(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var N="5.0.0";s.Renderer.registerPlugin("accessibility",i.AccessibilityManager),s.Renderer.registerPlugin("extract",a.Extract),s.Renderer.registerPlugin("interaction",n.InteractionManager),s.Renderer.registerPlugin("particle",l.ParticleRenderer),s.Renderer.registerPlugin("prepare",h.Prepare),s.Renderer.registerPlugin("batch",s.BatchRenderer),s.Renderer.registerPlugin("tilingSprite",p.TilingSpriteRenderer),u.Loader.registerPlugin(d.BitmapFontLoader),u.Loader.registerPlugin(c.SpritesheetLoader),o.Application.registerPlugin(m.TickerPlugin),o.Application.registerPlugin(u.AppLoaderPlugin);x={AlphaFilter:g.AlphaFilter,BlurFilter:v.BlurFilter,BlurFilterPass:v.BlurFilterPass,ColorMatrixFilter:y.ColorMatrixFilter,DisplacementFilter:_.DisplacementFilter,FXAAFilter:b.FXAAFilter,NoiseFilter:x.NoiseFilter};Object.keys(i).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return i[t]}})}),Object.keys(n).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(o).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(s).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(a).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(u).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(l).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(h).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return h[t]}})}),Object.keys(c).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(p).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(d).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(m).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(w).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return w[t]}})}),Object.keys(E).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return E[t]}})}),Object.keys(S).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return S[t]}})}),Object.keys(T).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return T[t]}})}),Object.keys(P).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return P[t]}})}),Object.keys(A).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return A[t]}})}),Object.keys(I).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return I[t]}})}),Object.keys(O).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return O[t]}})}),Object.keys(M).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return M[t]}})}),Object.keys(C).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return C[t]}})}),Object.keys(D).forEach(function(t){Object.defineProperty(r,t,{enumerable:!0,get:function(){return D[t]}})}),r.utils=f,r.VERSION="5.3.6",r.filters=x,r.useDeprecated=function(){var n=this;function e(t){return"on"+t.charAt(0).toUpperCase()+t.slice(1)}Object.defineProperties(n,{SVG_SIZE:{get:function(){return f.deprecation(N,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),n.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return f.deprecation(N,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),n.Transform}},TransformBase:{get:function(){return f.deprecation(N,"PIXI.TransformBase class has been removed, use PIXI.Transform"),n.Transform}},TRANSFORM_MODE:{get:function(){return f.deprecation(N,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return f.deprecation(N,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),n.Renderer}},CanvasRenderTarget:{get:function(){return f.deprecation(N,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),n.utils.CanvasRenderTarget}},loader:{get:function(){return f.deprecation(N,"PIXI.loader instance has moved to PIXI.Loader.shared"),n.Loader.shared}},FilterManager:{get:function(){return f.deprecation(N,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),n.systems.FilterSystem}},CanvasTinter:{get:function(){return f.deprecation("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),n.canvasUtils}},GroupD8:{get:function(){return f.deprecation("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),n.groupD8}}}),n.accessibility={},Object.defineProperties(n.accessibility,{AccessibilityManager:{get:function(){return f.deprecation("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),n.AccessibilityManager}}}),n.interaction={},Object.defineProperties(n.interaction,{InteractionManager:{get:function(){return f.deprecation("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),n.InteractionManager}},InteractionData:{get:function(){return f.deprecation("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),n.InteractionData}},InteractionEvent:{get:function(){return f.deprecation("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),n.InteractionEvent}}}),n.prepare={},Object.defineProperties(n.prepare,{BasePrepare:{get:function(){return f.deprecation("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),n.BasePrepare}},Prepare:{get:function(){return f.deprecation("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),n.Prepare}},CanvasPrepare:{get:function(){return f.deprecation("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),n.CanvasPrepare}}}),n.extract={},Object.defineProperties(n.extract,{Extract:{get:function(){return f.deprecation("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),n.Extract}},CanvasExtract:{get:function(){return f.deprecation("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),n.CanvasExtract}}}),n.extras={},Object.defineProperties(n.extras,{TilingSprite:{get:function(){return f.deprecation(N,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),n.TilingSprite}},TilingSpriteRenderer:{get:function(){return f.deprecation(N,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),n.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return f.deprecation(N,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),n.AnimatedSprite}},BitmapText:{get:function(){return f.deprecation(N,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),n.BitmapText}}}),n.TilingSprite.fromFrame=function(t,e,r){return f.deprecation("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),n.TilingSprite.from(t,{width:e,height:r})},n.TilingSprite.fromImage=function(t,e,r,i){return void 0===i&&(i={}),f.deprecation("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=e,i.height=r,n.TilingSprite.from(t,i)},Object.defineProperties(n.utils,{getSvgSize:{get:function(){return f.deprecation(N,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),n.resources.SVGResource.getSize}}}),n.mesh={},Object.defineProperties(n.mesh,{Mesh:{get:function(){return f.deprecation(N,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),n.SimpleMesh}},NineSlicePlane:{get:function(){return f.deprecation(N,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),n.NineSlicePlane}},Plane:{get:function(){return f.deprecation(N,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),n.SimplePlane}},Rope:{get:function(){return f.deprecation(N,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),n.SimpleRope}},RawMesh:{get:function(){return f.deprecation(N,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),n.Mesh}},CanvasMeshRenderer:{get:function(){return f.deprecation(N,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),n.CanvasMeshRenderer}},MeshRenderer:{get:function(){return f.deprecation(N,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),n.MeshRenderer}}}),n.particles={},Object.defineProperties(n.particles,{ParticleContainer:{get:function(){return f.deprecation(N,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),n.ParticleContainer}},ParticleRenderer:{get:function(){return f.deprecation(N,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),n.ParticleRenderer}}}),n.ticker={},Object.defineProperties(n.ticker,{Ticker:{get:function(){return f.deprecation(N,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),n.Ticker}},shared:{get:function(){return f.deprecation(N,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),n.Ticker.shared}}}),n.loaders={},Object.defineProperties(n.loaders,{Loader:{get:function(){return f.deprecation(N,"PIXI.loaders.Loader class has moved to PIXI.Loader"),n.Loader}},Resource:{get:function(){return f.deprecation(N,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),n.LoaderResource}},bitmapFontParser:{get:function(){return f.deprecation(N,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),n.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){f.deprecation(N,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return f.deprecation(N,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),n.SpritesheetLoader.use}},getResourcePath:{get:function(){return f.deprecation(N,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),n.SpritesheetLoader.getResourcePath}}}),n.Loader.addPixiMiddleware=function(t){return f.deprecation(N,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),n.loaders.Loader.registerPlugin({use:t()})},Object.assign(n.Loader.prototype,{on:function(t){t=e(t);f.deprecation(N,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+t+".add")},once:function(t){t=e(t);f.deprecation(N,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+t+".once")},off:function(t){t=e(t);f.deprecation(N,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+t+".detach")}}),Object.defineProperty(n.extract,"WebGLExtract",{get:function(){return f.deprecation(N,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),n.Extract}}),Object.defineProperty(n.prepare,"WebGLPrepare",{get:function(){return f.deprecation(N,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),n.Prepare}}),n.Container.prototype._renderWebGL=function(t){f.deprecation(N,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},n.Container.prototype.renderWebGL=function(t){f.deprecation(N,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},n.DisplayObject.prototype.renderWebGL=function(t){f.deprecation(N,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},n.Container.prototype.renderAdvancedWebGL=function(t){f.deprecation(N,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(n.settings,{TRANSFORM_MODE:{get:function(){return f.deprecation(N,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){f.deprecation(N,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var o=n.BaseTexture,t=!(o.prototype.loadSource=function(t){f.deprecation(N,"PIXI.BaseTexture.loadSource method has been deprecated");t=n.resources.autoDetectResource(t);t.internal=!0,this.setResource(t),this.update()});Object.defineProperties(o.prototype,{hasLoaded:{get:function(){return f.deprecation(N,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var t;return f.deprecation(N,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(t=this.resource)||void 0===t?void 0:t.url},set:function(t){f.deprecation(N,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return f.deprecation(N,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(t){f.deprecation(N,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}},premultiplyAlpha:{get:function(){return f.deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){f.deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}},_id:{get:function(){return t||(f.deprecation("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),t=!0),this._batchLocation},set:function(t){this._batchLocation=t}}}),o.fromImage=function(t,e,r,i){f.deprecation(N,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");e={scale:i,crossorigin:e};return o.from(t,{scaleMode:r,resourceOptions:e})},o.fromCanvas=function(t,e){return f.deprecation(N,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),o.from(t,{scaleMode:e})},o.fromSVG=function(t,e,r,i){f.deprecation(N,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");e={scale:i,crossorigin:e};return o.from(t,{scaleMode:r,resourceOptions:e})},Object.defineProperties(n.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return f.deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(t){f.deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(t)}}}),n.Point.prototype.copy=function(t){return f.deprecation(N,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},n.ObservablePoint.prototype.copy=function(t){return f.deprecation(N,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},n.Rectangle.prototype.copy=function(t){return f.deprecation(N,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},n.Matrix.prototype.copy=function(t){return f.deprecation(N,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},n.systems.StateSystem.prototype.setState=function(t){return f.deprecation("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(n.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return f.deprecation(N,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,e)},returnRenderTarget:function(t){f.deprecation(N,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){f.deprecation(N,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,t=r.sourceFrame,r=r.destinationFrame;return e.translate(t.x/r.width,t.y/r.height),e.scale(r.width,r.height),e},calculateNormalizedScreenSpaceMatrix:function(t){f.deprecation(N,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,e=t.identity();e.translate(r.x/i.width,r.y/i.height);t=i.width/r.width,r=i.height/r.height;return e.scale(t,r),e}}),Object.defineProperties(n.RenderTexture.prototype,{sourceFrame:{get:function(){return f.deprecation(N,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return f.deprecation(N,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var s,r=(L(i,s=n.filters.BlurFilterPass),i);function i(t,e,r,i){return f.deprecation(N,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),s.call(this,!0,t,e,r,i)||this}var a,u=(L(l,a=n.filters.BlurFilterPass),l);function l(t,e,r,i){return f.deprecation(N,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),a.call(this,!1,t,e,r,i)||this}Object.assign(n.filters,{BlurXFilter:r,BlurYFilter:u});var h=n.Sprite,c=n.Texture;function p(t,e,r,i){return f.deprecation(N,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),h.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function d(t,e,r,i){return f.deprecation(N,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),c.from(e,{resourceOptions:{scale:i,crossorigin:r}})}(u=n.Graphics).prototype.generateCanvasTexture||(u.prototype.generateCanvasTexture=function(){f.deprecation(N,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(u.prototype,"graphicsData",{get:function(){return f.deprecation(N,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),h.fromImage=p.bind(null,"fromImage"),h.fromSVG=p.bind(null,"fromSVG"),h.fromCanvas=p.bind(null,"fromCanvas"),h.fromVideo=p.bind(null,"fromVideo"),h.fromFrame=p.bind(null,"fromFrame"),c.fromImage=d.bind(null,"fromImage"),c.fromSVG=d.bind(null,"fromSVG"),c.fromCanvas=d.bind(null,"fromCanvas"),c.fromVideo=d.bind(null,"fromVideo"),c.fromFrame=d.bind(null,"fromFrame"),Object.defineProperty(n.AbstractRenderer.prototype,"autoResize",{get:function(){return f.deprecation(N,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){f.deprecation(N,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(n.Renderer.prototype,"textureManager",{get:function(){return f.deprecation(N,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),n.utils.mixins={mixin:function(){f.deprecation(N,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){f.deprecation(N,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){f.deprecation(N,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(n.BitmapText.prototype,"font",{get:function(){return f.deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){f.deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t&&(t={font:t},this._upgradeStyle(t),t.fontSize=t.fontSize||n.BitmapFont.available[t.fontName].size,this._fontName=t.fontName,this._fontSize=t.fontSize,this.dirty=!0)}})}},{"@pixi/accessibility":1,"@pixi/app":2,"@pixi/constants":3,"@pixi/core":4,"@pixi/display":5,"@pixi/extract":6,"@pixi/filter-alpha":7,"@pixi/filter-blur":8,"@pixi/filter-color-matrix":9,"@pixi/filter-displacement":10,"@pixi/filter-fxaa":11,"@pixi/filter-noise":12,"@pixi/graphics":13,"@pixi/interaction":14,"@pixi/loaders":15,"@pixi/math":16,"@pixi/mesh":18,"@pixi/mesh-extras":17,"@pixi/mixin-cache-as-bitmap":19,"@pixi/mixin-get-child-by-name":20,"@pixi/mixin-get-global-position":21,"@pixi/particles":22,"@pixi/polyfill":23,"@pixi/prepare":24,"@pixi/runner":25,"@pixi/settings":26,"@pixi/sprite":29,"@pixi/sprite-animated":27,"@pixi/sprite-tiling":28,"@pixi/spritesheet":30,"@pixi/text":32,"@pixi/text-bitmap":31,"@pixi/ticker":33,"@pixi/utils":34}],67:[function(t,e,r){var i,n,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,l=[],h=!1,c=-1;function p(){h&&u&&(h=!1,u.length?l=u.concat(l):c=-1,l.length&&d())}function d(){if(!h){var t=a(p);h=!0;for(var e=l.length;e;){for(u=l,l=[];++c<e;)u&&u[c].run();c=-1,e=l.length}u=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new f(t,e)),1!==l.length||h||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],68:[function(t,D,R){(function(C){(function(){!function(t){var e="object"==typeof R&&R&&!R.nodeType&&R,r="object"==typeof D&&D&&!D.nodeType&&D,i="object"==typeof C&&C;i.global!==i&&i.window!==i&&i.self!==i||(t=i);var n,o,v=2147483647,y=36,_=1,b=26,s=38,a=700,x=72,w=128,E="-",u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=y-_,S=Math.floor,T=String.fromCharCode;function P(t){throw RangeError(c[t])}function d(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function f(t,e){var r=t.split("@"),i="";return 1<r.length&&(i=r[0]+"@",t=r[1]),i+d((t=t.replace(h,".")).split("."),e).join(".")}function A(t){for(var e,r,i=[],n=0,o=t.length;n<o;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function m(t){return d(t,function(t){var e="";return 65535<t&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=T(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,r){var i=0;for(t=r?S(t/a):t>>1,t+=S(t/e);p*b>>1<t;i+=y)t=S(t/p);return S(i+(p+1)*t/(t+s))}function g(t){var e,r,i,n,o,s,a,u=[],l=t.length,h=0,c=w,p=x,d=t.lastIndexOf(E);for(d<0&&(d=0),r=0;r<d;++r)128<=t.charCodeAt(r)&&P("not-basic"),u.push(t.charCodeAt(r));for(i=0<d?d+1:0;i<l;){for(n=h,o=1,s=y;l<=i&&P("invalid-input"),a=t.charCodeAt(i++),(y<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:y)||a>S((v-h)/o))&&P("overflow"),h+=a*o,!(a<(a=s<=p?_:p+b<=s?b:s-p));s+=y)o>S(v/(a=y-a))&&P("overflow"),o*=a;p=O(h-n,e=u.length+1,0==n),S(h/e)>v-c&&P("overflow"),c+=S(h/e),h%=e,u.splice(h++,0,c)}return m(u)}function M(t){for(var e,r,i,n,o,s,a,u,l,h,c,p=[],d=(t=A(t)).length,f=w,m=x,g=e=0;g<d;++g)(u=t[g])<128&&p.push(T(u));for(r=i=p.length,i&&p.push(E);r<d;){for(n=v,g=0;g<d;++g)f<=(u=t[g])&&u<n&&(n=u);for(n-f>S((v-e)/(l=r+1))&&P("overflow"),e+=(n-f)*l,f=n,g=0;g<d;++g)if((u=t[g])<f&&++e>v&&P("overflow"),u==f){for(o=e,s=y;!(o<(a=s<=m?_:m+b<=s?b:s-m));s+=y)c=o-a,h=y-a,p.push(T(I(a+c%h,0))),o=S(c/h);p.push(T(I(o,0))),m=O(e,l,r==i),e=0,++r}++e,++f}return p.join("")}if(n={version:"1.3.2",ucs2:{decode:A,encode:m},decode:g,encode:M,toASCII:function(t){return f(t,function(t){return l.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return f(t,function(t){return u.test(t)?g(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return n});else if(e&&r)if(D.exports==e)r.exports=n;else for(o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);else t.punycode=n}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(t,e,r){"use strict";e.exports=function(t,e,r,i){e=e||"&",r=r||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);e=1e3;i&&"number"==typeof i.maxKeys&&(e=i.maxKeys);var s=t.length;0<e&&e<s&&(s=e);for(var a=0;a<s;++a){var u,l=t[a].replace(o,"%20"),h=l.indexOf(r),c=0<=h?(u=l.substr(0,h),l.substr(h+1)):(u=l,""),p=decodeURIComponent(u),h=decodeURIComponent(c);l=n,c=p,Object.prototype.hasOwnProperty.call(l,c)?d(n[p])?n[p].push(h):n[p]=[n[p],h]:n[p]=h}return n};var d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],70:[function(t,e,r){"use strict";function o(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(r,i,n,t){return i=i||"&",n=n||"=",null===r&&(r=void 0),"object"==typeof r?a(u(r),function(t){var e=encodeURIComponent(o(t))+n;return s(r[t])?a(r[t],function(t){return e+encodeURIComponent(o(t))}).join(i):e+encodeURIComponent(o(r[t]))}).join(i):t?encodeURIComponent(o(t))+n+encodeURIComponent(o(r)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var u=Object.keys||function(t){var e,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r}},{}],71:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":69,"./encode":70}],72:[function(t,e,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(r,"__esModule",{value:!0});var s=i(t("parse-uri")),a=i(t("mini-signals"));function o(){}function n(r,i,n,o){var s=0,a=r.length;!function t(e){e||s===a?n&&n(e):o?setTimeout(function(){i(r[s++],t)},1):i(r[s++],t)}()}function u(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:t,saturated:o,unsaturated:o,buffer:t/4,empty:o,drain:o,error:o,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=o,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var t=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),e(t.data,function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}(function(t){return function(){--r,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}(t)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");i.started=!0,null==t&&i.idle()?setTimeout(function(){return i.drain()},1):(r={data:t,callback:"function"==typeof r?r:o},e?i._tasks.unshift(r):i._tasks.push(r),setTimeout(function(){return i.process()},1))}return i}var l={eachSeries:n,queue:u},h={};function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),f=null;function m(){}var g=function(){function n(t,e,r){if("string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=m,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a,this.onProgress=new a,this.onComplete=new a,this.onAfterMiddleware=new a}n.setExtensionLoadType=function(t,e){v(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){v(n._xhrTypeMap,t,e)};var t=n.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;case n.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(t){return 0!=(this._flags&t)},t._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=n.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t._createSource=function(t,e,r){r=r||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=r,t},t._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var t=this.xhr;this.abort(y(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t._xhrOnTimeout=function(){var t=this.xhr;this.abort(y(t)+" Request timed out.")},t._xhrOnAbort=function(){var t=this.xhr;this.abort(y(t)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t,e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(0<r.length||e.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=n.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(t=new DOMParser,this.data=t.parseFromString(r,"text/xml")):((t=document.createElement("div")).innerHTML=r,this.data=t),this.type=n.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,(f=f||document.createElement("a")).href=t;var r=!(t=s(f.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},t._getExtension=function(){var t,e,r=this.url;return(this.isDataUrl?(e=r.indexOf("/"),r.substring(e+1,r.indexOf(";",e))):(t=r.indexOf("?"),e=r.indexOf("#"),e=Math.min(-1<t?t:r.length,-1<e?e:r.length),(r=r.substring(0,e)).substring(r.lastIndexOf(".")+1))).toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";case n.XHR_RESPONSE_TYPE.DEFAULT:case n.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},p(n,[{key:"isDataUrl",get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)}}]),n}();function v(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function y(t){return t.toString().replace("object ","")}g.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},g.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},g.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},g.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},g._loadTypeMap={gif:g.LOAD_TYPE.IMAGE,png:g.LOAD_TYPE.IMAGE,bmp:g.LOAD_TYPE.IMAGE,jpg:g.LOAD_TYPE.IMAGE,jpeg:g.LOAD_TYPE.IMAGE,tif:g.LOAD_TYPE.IMAGE,tiff:g.LOAD_TYPE.IMAGE,webp:g.LOAD_TYPE.IMAGE,tga:g.LOAD_TYPE.IMAGE,svg:g.LOAD_TYPE.IMAGE,"svg+xml":g.LOAD_TYPE.IMAGE,mp3:g.LOAD_TYPE.AUDIO,ogg:g.LOAD_TYPE.AUDIO,wav:g.LOAD_TYPE.AUDIO,mp4:g.LOAD_TYPE.VIDEO,webm:g.LOAD_TYPE.VIDEO},g._xhrTypeMap={xhtml:g.XHR_RESPONSE_TYPE.DOCUMENT,html:g.XHR_RESPONSE_TYPE.DOCUMENT,htm:g.XHR_RESPONSE_TYPE.DOCUMENT,xml:g.XHR_RESPONSE_TYPE.DOCUMENT,tmx:g.XHR_RESPONSE_TYPE.DOCUMENT,svg:g.XHR_RESPONSE_TYPE.DOCUMENT,tsx:g.XHR_RESPONSE_TYPE.DOCUMENT,gif:g.XHR_RESPONSE_TYPE.BLOB,png:g.XHR_RESPONSE_TYPE.BLOB,bmp:g.XHR_RESPONSE_TYPE.BLOB,jpg:g.XHR_RESPONSE_TYPE.BLOB,jpeg:g.XHR_RESPONSE_TYPE.BLOB,tif:g.XHR_RESPONSE_TYPE.BLOB,tiff:g.XHR_RESPONSE_TYPE.BLOB,webp:g.XHR_RESPONSE_TYPE.BLOB,tga:g.XHR_RESPONSE_TYPE.BLOB,json:g.XHR_RESPONSE_TYPE.JSON,text:g.XHR_RESPONSE_TYPE.TEXT,txt:g.XHR_RESPONSE_TYPE.TEXT,ttf:g.XHR_RESPONSE_TYPE.BUFFER,otf:g.XHR_RESPONSE_TYPE.BUFFER},g.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=_.charAt(n[s])}return e}var x=window.URL||window.webkitURL;var t={caching:function(t,e){var r=this;h[t.url]?(t.data=h[t.url],t.complete()):t.onComplete.once(function(){return h[r.url]=r.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===g.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=x.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=g.TYPE.IMAGE,void(t.data.onload=function(){x.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+b(t.xhr.responseText),t.type=g.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},w=/(#[\w-]+)?$/,E=function(){function o(t,e){var r=this;void 0===t&&(t=""),void 0===e&&(e=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=u(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new a,this.onError=new a,this.onLoad=new a,this.onStart=new a,this.onComplete=new a;for(var i=0;i<o._defaultBeforeMiddleware.length;++i)this.pre(o._defaultBeforeMiddleware[i]);for(var n=0;n<o._defaultAfterMiddleware.length;++n)this.use(o._defaultAfterMiddleware[n])}var t=o.prototype;return t.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,e=(r=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new g(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var l=0;l<s.length;++l)s[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},t.pre=function(t){return this._beforeMiddleware.push(t),this},t.use=function(t){return this._afterMiddleware.push(t),this},t.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(t){var e=s(t,{strictMode:!0});return e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(t=w.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},t._loadResource=function(r,t){var i=this;r._dequeue=t,n(this._beforeMiddleware,function(t,e){t.call(i,r,function(){e(r.isComplete?{}:null)})},function(){r.isComplete?i._onLoad(r):(r._onLoadBinding=r.onComplete.once(i._onLoad,i),r.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(r){var i=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),n(this._afterMiddleware,function(t,e){t.call(i,r,e)},function(){r.onAfterMiddleware.dispatch(r),i.progress=Math.min(100,i.progress+r.progressChunk),i.onProgress.dispatch(i,r),r.error?i.onError.dispatch(r.error,i,r):i.onLoad.dispatch(i,r),i._resourcesParsing.splice(i._resourcesParsing.indexOf(r),1),i._queue.idle()&&0===i._resourcesParsing.length&&i._onComplete()},!0)},p(o,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),o}();E._defaultBeforeMiddleware=[],E._defaultAfterMiddleware=[],E.pre=function(t){return E._defaultBeforeMiddleware.push(t),E},E.use=function(t){return E._defaultAfterMiddleware.push(t),E},r.Loader=E,r.Resource=g,r.async=l,r.encodeBinary=b,r.middleware=t},{"mini-signals":63,"parse-uri":65}],73:[function(r,t,e){var i;i=function(e){var t,r,i,p,o,s,d,f,m,g,v,y,n,a,_,i=(e&&e.fn&&e.fn.select2&&e.fn.select2.amd&&(h=e.fn.select2.amd),h&&h.requirejs||(h?r=h:h={},m={},g={},v={},y={},n=Object.prototype.hasOwnProperty,a=[].slice,_=/\.js$/,d=function(t,e){var r,i,n=l(t),o=n[0],e=e[1];return t=n[1],o&&(r=w(o=u(o,e))),o?t=r&&r.normalize?r.normalize(t,(i=e,function(t){return u(t,i)})):u(t,e):(o=(n=l(t=u(t,e)))[0],t=n[1],o&&(r=w(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:r}},f={require:function(t){return x(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:(e=t,function(){return v&&v.config&&v.config[e]||{}})};var e}},o=function(t,e,r,i){var n,o,s,a,u,l=[],h=typeof r,c=E(i=i||t);if("undefined"==h||"function"==h){for(e=!e.length&&r.length?["require","exports","module"]:e,a=0;a<e.length;a+=1)if("require"===(o=(s=d(e[a],c)).f))l[a]=f.require(t);else if("exports"===o)l[a]=f.exports(t),u=!0;else if("module"===o)n=l[a]=f.module(t);else if(b(m,o)||b(g,o)||b(y,o))l[a]=w(o);else{if(!s.p)throw new Error(t+" missing "+o);s.p.load(s.n,x(i,!0),function(e){return function(t){m[e]=t}}(o),{}),l[a]=m[o]}h=r?r.apply(m[t],l):void 0,t&&(n&&n.exports!==p&&n.exports!==m[t]?m[t]=n.exports:h===p&&u||(m[t]=h))}else t&&(m[t]=r)},t=r=s=function(t,e,r,i,n){if("string"==typeof t)return f[t]?f[t](e):w(d(t,E(e)).f);if(!t.splice){if((v=t).deps&&s(v.deps,v.callback),!e)return;e.splice?(t=e,e=r,r=null):t=p}return e=e||function(){},"function"==typeof r&&(r=i,i=n),i?o(p,t,e,r):setTimeout(function(){o(p,t,e,r)},4),s},s.config=function(t){return s(t)},t._defined=m,(i=function(t,e,r){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(r=e,e=[]),b(m,t)||b(g,t)||(g[t]=[t,e,r])}).amd={jQuery:!0},h.requirejs=t,h.require=r,h.define=i),h.define("almond",function(){}),h.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),h.define("select2/utils",["jquery"],function(o){var i={};function l(t){var e,r=t.prototype,i=[];for(e in r)"function"==typeof r[e]&&"constructor"!==e&&i.push(e);return i}i.Extend=function(t,e){var r,i={}.hasOwnProperty;function n(){this.constructor=t}for(r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i.Decorate=function(i,n){var t=l(n),e=l(i);function o(){var t=Array.prototype.unshift,e=n.prototype.constructor.length,r=i.prototype.constructor;0<e&&(t.call(arguments,i.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}n.displayName=i.displayName,o.prototype=new function(){this.constructor=o};for(var r=0;r<e.length;r++){var s=e[r];o.prototype[s]=i.prototype[s]}for(var a=0;a<t.length;a++){var u=t[a];o.prototype[u]=function(t){var e=function(){};t in o.prototype&&(e=o.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}}(u)}return o};function t(){this.listeners={}}t.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.trigger=function(t){var e=Array.prototype.slice,r=e.call(arguments,1);this.listeners=this.listeners||{},null==r&&(r=[]),0===r.length&&r.push({}),(r[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(t,e){for(var r=0,i=t.length;r<i;r++)t[r].apply(this,e)},i.Observable=t,i.generateChars=function(t){for(var e="",r=0;r<t;r++)e+=Math.floor(36*Math.random()).toString(36);return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var r=e.split("-"),i=t;if(1!==r.length){for(var n=0;n<r.length;n++){var o=r[n];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),n==r.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},i.hasScroll=function(t,e){var r=o(e),i=e.style.overflowX,n=e.style.overflowY;return(i!==n||"hidden"!==n&&"visible"!==n)&&("scroll"===i||"scroll"===n||(r.innerHeight()<e.scrollHeight||r.innerWidth()<e.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(t,e){var r;"1.7"===o.fn.jquery.substr(0,3)&&(r=o(),o.map(e,function(t){r=r.add(t)}),e=r),t.append(e)},i.__cache={};var r=0;return i.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++r),e=r.toString())),e},i.StoreData=function(t,e,r){t=i.GetUniqueElementId(t);i.__cache[t]||(i.__cache[t]={}),i.__cache[t][e]=r},i.GetData=function(t,e){var r=i.GetUniqueElementId(t);return e?i.__cache[r]&&null!=i.__cache[r][e]?i.__cache[r][e]:o(t).data(e):i.__cache[r]},i.RemoveData=function(t){var e=i.GetUniqueElementId(t);null!=i.__cache[e]&&delete i.__cache[e],t.removeAttribute("data-select2-id")},i}),h.define("select2/results",["jquery","./utils"],function(c,p){function i(t,e,r){this.$element=t,this.data=r,this.options=e,i.__super__.constructor.call(this)}return p.Extend(i,p.Observable),i.prototype.render=function(){var t=c('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=c('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(e(i(t.args))),r[0].className+=" select2-results__message",this.$results.append(r)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var r=0;r<t.results.length;r++){var i=t.results[r],i=this.option(i);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");(0<e.length?e:t).first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(t){var i=c.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=c(this),e=p.GetData(this,"data"),r=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<c.inArray(r,i)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},t=this.option(t);t.className+=" loading-results",this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var r,i={role:"option","aria-selected":"false"},n=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(r in(null!=t.element&&n.call(t.element,":disabled")||null==t.element&&t.disabled)&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var o=i[r];e.setAttribute(r,o)}if(t.children){var s=c(e),a=document.createElement("strong");a.className="select2-results__group";c(a);this.template(t,a);for(var u=[],l=0;l<t.children.length;l++){var h=t.children[l],h=this.option(h);u.push(h)}n=c("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});n.append(u),s.append(a),s.append(n)}else this.template(t,e);return p.StoreData(e,"data",t),e},i.prototype.bind=function(e,t){var n=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.options.get("scrollAfterSelect")&&n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t,e=n.getHighlightedResults();0!==e.length&&(t=p.GetData(e[0],"data"),"true"==e.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:t}))}),e.on("results:previous",function(){var t,e=n.getHighlightedResults(),r=n.$results.find("[aria-selected]"),i=r.index(e);i<=0||(t=i-1,0===e.length&&(t=0),(i=r.eq(t)).trigger("mouseenter"),e=n.$results.offset().top,r=i.offset().top,i=n.$results.scrollTop()+(r-e),0===t?n.$results.scrollTop(0):r-e<0&&n.$results.scrollTop(i))}),e.on("results:next",function(){var t,e=n.getHighlightedResults(),r=n.$results.find("[aria-selected]"),i=r.index(e)+1;i>=r.length||((t=r.eq(i)).trigger("mouseenter"),e=n.$results.offset().top+n.$results.outerHeight(!1),r=t.offset().top+t.outerHeight(!1),t=n.$results.scrollTop()+r-e,0===i?n.$results.scrollTop(0):e<r&&n.$results.scrollTop(t))}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),c.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),r=n.$results.get(0).scrollHeight-e+t.deltaY,e=0<t.deltaY&&e-t.deltaY<=0,r=t.deltaY<0&&r<=n.$results.height();e?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=c(this),r=p.GetData(this,"data");"true"!==e.attr("aria-selected")?n.trigger("select",{originalEvent:t,data:r}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:r}):n.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=p.GetData(this,"data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:c(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t,e,r,i,n=this.getHighlightedResults();0!==n.length&&(t=this.$results.find("[aria-selected]").index(n),i=this.$results.offset().top,e=n.offset().top,r=this.$results.scrollTop()+(e-i),i=e-i,r-=2*n.outerHeight(!1),t<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(r))},i.prototype.template=function(t,e){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),t=r(t,e);null==t?e.style.display="none":"string"==typeof t?e.innerHTML=i(t):c(e).append(t)},i}),h.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),h.define("select2/selection/base",["jquery","../utils","../keys"],function(r,i,n){function o(t,e){this.$element=t,this.options=e,o.__super__.constructor.call(this)}return i.Extend(o,i.Observable),o.prototype.render=function(){var t=r('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),t.attr("aria-disabled","false"),this.$selection=t},o.prototype.bind=function(t,e){var r=this,i=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){r.trigger("focus",t)}),this.$selection.on("blur",function(t){r._handleBlur(t)}),this.$selection.on("keydown",function(t){r.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){r.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){r.update(t.data)}),t.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",i),r._attachCloseHandler(t)}),t.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(t)}),t.on("enable",function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")}),t.on("disable",function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||r.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},o.prototype._attachCloseHandler=function(t){r(document.body).on("mousedown.select2."+t.id,function(t){var e=r(t.target).closest(".select2");r(".select2.select2-container--open").each(function(){this!=e[0]&&i.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(t){r(document.body).off("mousedown.select2."+t.id)},o.prototype.position=function(t,e){e.find(".selection").append(t)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),h.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,r,i){function n(){n.__super__.constructor.apply(this,arguments)}return r.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},n.prototype.bind=function(e,t){var r=this;n.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&r.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||r.$selection.trigger("focus")})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var r=this.options.get("templateSelection");return this.options.get("escapeMarkup")(r(t,e))},n.prototype.selectionContainer=function(){return t("<span></span>")},n.prototype.update=function(t){var e,r;0!==t.length?(r=t[0],e=this.$selection.find(".select2-selection__rendered"),t=this.display(r,e),e.empty().append(t),(r=r.title||r.text)?e.attr("title",r):e.removeAttr("title")):this.clear()},n}),h.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,a){function n(t,e){n.__super__.constructor.apply(this,arguments)}return a.Extend(n,t),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(t,e){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){var e;r.isDisabled()||(e=i(this).parent(),e=a.GetData(e[0],"data"),r.trigger("unselect",{originalEvent:t,data:e}))})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var r=this.options.get("templateSelection");return this.options.get("escapeMarkup")(r(t,e))},n.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],r=0;r<t.length;r++){var i=t[r],n=this.selectionContainer(),o=this.display(i,n);n.append(o);o=i.title||i.text;o&&n.attr("title",o),a.StoreData(n[0],"data",i),e.push(n)}var s=this.$selection.find(".select2-selection__rendered");a.appendMany(s,e)}},n}),h.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,r){this.placeholder=this.normalizePlaceholder(r.get("placeholder")),t.call(this,e,r)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var r=this.selectionContainer();return r.html(this.display(e)),r.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),r},e.prototype.update=function(t,e){var r=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||r)return t.call(this,e);this.clear();e=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(e)},e}),h.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(r,i,a){function t(){}return t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.isDisabled()){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){e.stopPropagation();var i=a.GetData(r[0],"data"),n=this.$element.val();this.$element.val(this.placeholder.id);var o={data:i};if(this.trigger("clear",o),o.prevented)this.$element.val(n);else{for(var s=0;s<i.length;s++)if(o={data:i[s]},this.trigger("unselect",o),o.prevented)return void this.$element.val(n);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},t.prototype._handleKeyboardClear=function(t,e,r){r.isOpen()||e.which!=i.DELETE&&e.which!=i.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){t.call(this,e),0<this.$selection.find(".select2-selection__placeholder").length||0===e.length||(t=this.options.get("translations").get("removeAllItems"),t=r('<span class="select2-selection__clear" title="'+t()+'">&times;</span>'),a.StoreData(t[0],"data",e),this.$selection.find(".select2-selection__rendered").prepend(t))},t}),h.define("select2/selection/search",["jquery","../utils","../keys"],function(r,s,a){function t(t,e,r){t.call(this,e,r)}return t.prototype.render=function(t){var e=r('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");t=t.call(this);return this._transferTabIndex(),t},t.prototype.bind=function(t,e,r){var i=this,n=e.id+"-results";t.call(this,e,r),e.on("open",function(){i.$search.attr("aria-controls",n),i.$search.trigger("focus")}),e.on("close",function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),e.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),e.on("disable",function(){i.$search.prop("disabled",!0)}),e.on("focus",function(t){i.$search.trigger("focus")}),e.on("results:focus",function(t){t.data._resultId?i.$search.attr("aria-activedescendant",t.data._resultId):i.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){i.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){i._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){var e;t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which!==a.BACKSPACE||""!==i.$search.val()||0<(e=i.$searchContainer.prev(".select2-selection__choice")).length&&(e=s.GetData(e[0],"data"),i.searchRemoveChoice(e),t.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(t){i.$search.val()&&t.stopPropagation()});var e=document.documentMode,o=e&&e<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){o?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){var e;o&&"input"===t.type?i.$selection.off("input.search input.searchcheck"):(e=t.which)!=a.SHIFT&&e!=a.CTRL&&e!=a.ALT&&e!=a.TAB&&i.handleSearch(t)})},t.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},t.prototype.update=function(t,e){var r=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),r&&this.$search.trigger("focus")},t.prototype.handleSearch=function(){var t;this.resizeSearch(),this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},t}),h.define("select2/selection/eventRelay",["jquery"],function(s){function t(){}return t.prototype.bind=function(t,e,r){var i=this,n=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];t.call(this,e,r),e.on("*",function(t,e){var r;-1!==s.inArray(t,n)&&(e=e||{},r=s.Event("select2:"+t,{params:e}),i.$element.trigger(r),-1!==s.inArray(t,o)&&(e.prevented=r.isDefaultPrevented()))})},t}),h.define("select2/translation",["jquery","require"],function(e,r){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(t){var e;return t in i._cache||(e=r(t),i._cache[t]=e),new i(i._cache[t])},i}),h.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),h.define("select2/data/base",["../utils"],function(r){function i(t,e){i.__super__.constructor.call(this)}return r.Extend(i,r.Observable),i.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(t,e){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(t,e){t=t.id+"-result-";return t+=r.generateChars(4),null!=e.id?t+="-"+e.id.toString():t+="-"+r.generateChars(4),t},i}),h.define("select2/data/select",["./base","../utils","jquery"],function(t,s,a){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return s.Extend(r,t),r.prototype.current=function(t){var e=[],r=this;this.$element.find(":selected").each(function(){var t=a(this),t=r.item(t);e.push(t)}),t(e)},r.prototype.select=function(n){var t,o=this;if(n.selected=!0,a(n.element).is("option"))return n.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(t){var e=[];(n=[n]).push.apply(n,t);for(var r=0;r<n.length;r++){var i=n[r].id;-1===a.inArray(i,e)&&e.push(i)}o.$element.val(e),o.$element.trigger("input").trigger("change")}):(t=n.id,this.$element.val(t),this.$element.trigger("input").trigger("change"))},r.prototype.unselect=function(n){var o=this;if(this.$element.prop("multiple")){if(n.selected=!1,a(n.element).is("option"))return n.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r].id;i!==n.id&&-1===a.inArray(i,e)&&e.push(i)}o.$element.val(e),o.$element.trigger("input").trigger("change")})}},r.prototype.bind=function(t,e){var r=this;(this.container=t).on("select",function(t){r.select(t.data)}),t.on("unselect",function(t){r.unselect(t.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){s.RemoveData(this)})},r.prototype.query=function(e,t){var r=[],i=this;this.$element.children().each(function(){var t=a(this);(t.is("option")||t.is("optgroup"))&&(t=i.item(t),null!==(t=i.matches(e,t))&&r.push(t))}),t({results:r})},r.prototype.addOptions=function(t){s.appendMany(this.$element,t)},r.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var r=a(e),t=this._normalizeItem(t);return t.element=e,s.StoreData(e,"data",t),r},r.prototype.item=function(t){var e={};if(null!=(e=s.GetData(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var r=t.children("option"),i=[],n=0;n<r.length;n++){var o=a(r[n]),o=this.item(o);i.push(o)}e.children=i}return(e=this._normalizeItem(e)).element=t[0],s.StoreData(t[0],"data",e),e},r.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=a.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),a.extend({},{selected:!1,disabled:!1},t)},r.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},r}),h.define("select2/data/array",["./select","../utils","jquery"],function(t,l,h){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return l.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(r){var t=this.$element.find("option").filter(function(t,e){return e.value==r.id.toString()});0===t.length&&(t=this.option(r),this.addOptions(t)),i.__super__.select.call(this,r)},i.prototype.convertToOptions=function(t){var e=this,r=this.$element.find("option"),i=r.map(function(){return e.item(h(this)).id}).get(),n=[];for(var o=0;o<t.length;o++){var s,a,u=this._normalizeItem(t[o]);0<=h.inArray(u.id,i)?(s=r.filter(function(t){return function(){return h(this).val()==t.id}}(u)),a=this.item(s),a=h.extend(!0,{},u,a),a=this.option(a),s.replaceWith(a)):(a=this.option(u),u.children&&(u=this.convertToOptions(u.children),l.appendMany(a,u)),n.push(a))}return n},i}),h.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,o){function r(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,t,e)}return e.Extend(r,t),r.prototype._applyDefaults=function(t){var e={data:function(t){return o.extend({},t,{q:t.term})},transport:function(t,e,r){t=o.ajax(t);return t.then(e),t.fail(r),t}};return o.extend({},e,t,!0)},r.prototype.processResults=function(t){return t},r.prototype.query=function(e,r){var i=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var n=o.extend({type:"GET"},this.ajaxOptions);function t(){var t=n.transport(n,function(t){t=i.processResults(t,e);i.options.get("debug")&&window.console&&console.error&&(t&&t.results&&o.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),r(t)},function(){"status"in t&&(0===t.status||"0"===t.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=t}"function"==typeof n.url&&(n.url=n.url.call(this.$element,e)),"function"==typeof n.data&&(n.data=n.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},r}),h.define("select2/data/tags",["jquery"],function(a){function t(t,e,r){var i=r.get("tags"),n=r.get("createTag");void 0!==n&&(this.createTag=n);n=r.get("insertTag");if(void 0!==n&&(this.insertTag=n),t.call(this,e,r),a.isArray(i))for(var o=0;o<i.length;o++){var s=i[o],s=this._normalizeItem(s),s=this.option(s);this.$element.append(s)}}return t.prototype.query=function(t,l,h){var c=this;this._removeOldTags(),null!=l.term&&null==l.page?t.call(this,l,function t(e,r){for(var i=e.results,n=0;n<i.length;n++){var o=i[n],s=null!=o.children&&!t({results:o.children},!0);if((o.text||"").toUpperCase()===(l.term||"").toUpperCase()||s)return!r&&(e.data=i,void h(e))}if(r)return!0;var a,u=c.createTag(l);null!=u&&((a=c.option(u)).attr("data-select2-tag",!0),c.addOptions([a]),c.insertTag(i,u)),e.results=i,h(e)}):t.call(this,l,h)},t.prototype.createTag=function(t,e){e=a.trim(e.term);return""===e?null:{id:e,text:e}},t.prototype.insertTag=function(t,e,r){e.unshift(r)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||a(this).remove()})},t}),h.define("select2/data/tokenizer",["jquery"],function(l){function t(t,e,r){var i=r.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,r)}return t.prototype.bind=function(t,e,r){t.call(this,e,r),this.$search=e.dropdown.$search||e.selection.$search||r.find(".select2-search__field")},t.prototype.query=function(t,e,r){var i=this;e.term=e.term||"";var n=this.tokenizer(e,this.options,function(t){var e,r=i._normalizeItem(t);i.$element.find("option").filter(function(){return l(this).val()===r.id}).length||((e=i.option(r)).attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([e])),e=r,i.trigger("select",{data:e})});n.term!==e.term&&(this.$search.length&&(this.$search.val(n.term),this.$search.trigger("focus")),e.term=n.term),t.call(this,e,r)},t.prototype.tokenizer=function(t,e,r,i){for(var n=r.get("tokenSeparators")||[],o=e.term,s=0,a=this.createTag||function(t){return{id:t.term,text:t.term}};s<o.length;){var u=o[s];-1!==l.inArray(u,n)?(u=o.substr(0,s),null!=(u=a(l.extend({},e,{term:u})))?(i(u),o=o.substr(s+1)||"",s=0):s++):s++}return{term:o}},t}),h.define("select2/data/minimumInputLength",[],function(){function t(t,e,r){this.minimumInputLength=r.get("minimumInputLength"),t.call(this,e,r)}return t.prototype.query=function(t,e,r){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,r)},t}),h.define("select2/data/maximumInputLength",[],function(){function t(t,e,r){this.maximumInputLength=r.get("maximumInputLength"),t.call(this,e,r)}return t.prototype.query=function(t,e,r){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,r)},t}),h.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,r){this.maximumSelectionLength=r.get("maximumSelectionLength"),t.call(this,e,r)}return t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),e.on("select",function(){i._checkIfMaximumSelected()})},t.prototype.query=function(t,e,r){var i=this;this._checkIfMaximumSelected(function(){t.call(i,e,r)})},t.prototype._checkIfMaximumSelected=function(t,e){var r=this;this.current(function(t){t=null!=t?t.length:0;0<r.maximumSelectionLength&&t>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):e&&e()})},t}),h.define("select2/dropdown",["jquery","./utils"],function(e,t){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},r.prototype.bind=function(){},r.prototype.position=function(t,e){},r.prototype.destroy=function(){this.$dropdown.remove()},r}),h.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),t=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=t,this.$search=t.find("input"),e.prepend(t),e},e.prototype.bind=function(t,e,r){var i=this,n=e.id+"-results";t.call(this,e,r),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),e.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-controls",n),i.$search.trigger("focus"),window.setTimeout(function(){i.$search.trigger("focus")},0)}),e.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.val(""),i.$search.trigger("blur")}),e.on("focus",function(){e.isOpen()||i.$search.trigger("focus")}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))}),e.on("results:focus",function(t){t.data._resultId?i.$search.attr("aria-activedescendant",t.data._resultId):i.$search.removeAttr("aria-activedescendant")})},e.prototype.handleSearch=function(t){var e;this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),h.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,r,i){this.placeholder=this.normalizePlaceholder(r.get("placeholder")),t.call(this,e,r,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var r=e.slice(0),i=e.length-1;0<=i;i--){var n=e[i];this.placeholder.id===n.id&&r.splice(i,1)}return r},t}),h.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function t(t,e,r,i){this.lastParams={},t.call(this,e,r,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=r.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&t&&(t=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=t+50&&this.loadMore())},t.prototype.loadMore=function(){this.loading=!0;var t=r.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=r('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),h.define("select2/dropdown/attachBody",["jquery","../utils"],function(h,s){function t(t,e,r){this.$dropdownParent=h(r.get("dropdownParent")||document.body),t.call(this,e,r)}return t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,r){e.attr("class",r.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=r},t.prototype.render=function(t){var e=h("<span></span>"),t=t.call(this);return e.append(t),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._bindContainerResultHandlers=function(t,e){var r;this._containerResultsHandlersBound||(r=this,e.on("results:all",function(){r._positionDropdown(),r._resizeDropdown()}),e.on("results:append",function(){r._positionDropdown(),r._resizeDropdown()}),e.on("results:message",function(){r._positionDropdown(),r._resizeDropdown()}),e.on("select",function(){r._positionDropdown(),r._resizeDropdown()}),e.on("unselect",function(){r._positionDropdown(),r._resizeDropdown()}),this._containerResultsHandlersBound=!0)},t.prototype._attachPositioningHandler=function(t,e){var r=this,i="scroll.select2."+e.id,n="resize.select2."+e.id,o="orientationchange.select2."+e.id,e=this.$container.parents().filter(s.hasScroll);e.each(function(){s.StoreData(this,"select2-scroll-position",{x:h(this).scrollLeft(),y:h(this).scrollTop()})}),e.on(i,function(t){var e=s.GetData(this,"select2-scroll-position");h(this).scrollTop(e.y)}),h(window).on(i+" "+n+" "+o,function(t){r._positionDropdown(),r._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var r="scroll.select2."+e.id,i="resize.select2."+e.id,e="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(r),h(window).off(r+" "+i+" "+e)},t.prototype._positionDropdown=function(){var t=h(window),e=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,n=this.$container.offset();n.bottom=n.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=n.top,o.bottom=n.top+o.height;var s=this.$dropdown.outerHeight(!1),a=t.scrollTop(),u=t.scrollTop()+t.height(),l=a<n.top-s,t=u>n.bottom+s,a={left:n.left,top:o.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());n={top:0,left:0};(h.contains(document.body,u[0])||u[0].isConnected)&&(n=u.offset()),a.top-=n.top,a.left-=n.left,e||r||(i="below"),t||!l||e?!l&&t&&e&&(i="below"):i="above",("above"==i||e&&"below"!==i)&&(a.top=o.top-n.top-s),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(a)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),h.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,r,i){this.minimumResultsForSearch=r.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,r,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var r=0,i=0;i<e.length;i++){var n=e[i];n.children?r+=t(n.children):r++}return r}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),h.define("select2/dropdown/selectOnClose",["../utils"],function(i){function t(){}return t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var r=e.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}r=this.getHighlightedResults();r.length<1||(null!=(r=i.GetData(r[0],"data")).element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r}))},t}),h.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,r){var i=this;t.call(this,e,r),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var r=e.originalEvent;r&&(r.ctrlKey||r.metaKey)||this.trigger("close",{originalEvent:r,originalSelect2Event:e})},t}),h.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,t="Please delete "+e+" character";return 1!=e&&(t+="s"),t},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),h.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(u,a,l,h,c,p,d,f,m,g,s,e,v,y,_,b,x,w,E,S,T,P,A,I,O,M,C,D,t){function r(){this.reset()}return r.prototype.apply=function(t){var e,r,i;null==(t=u.extend(!0,{},this.defaults,t)).dataAdapter&&(null!=t.ajax?t.dataAdapter=_:null!=t.data?t.dataAdapter=y:t.dataAdapter=v,0<t.minimumInputLength&&(t.dataAdapter=g.Decorate(t.dataAdapter,w)),0<t.maximumInputLength&&(t.dataAdapter=g.Decorate(t.dataAdapter,E)),0<t.maximumSelectionLength&&(t.dataAdapter=g.Decorate(t.dataAdapter,S)),t.tags&&(t.dataAdapter=g.Decorate(t.dataAdapter,b)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=g.Decorate(t.dataAdapter,x)),null!=t.query&&(e=a(t.amdBase+"compat/query"),t.dataAdapter=g.Decorate(t.dataAdapter,e)),null!=t.initSelection&&(r=a(t.amdBase+"compat/initSelection"),t.dataAdapter=g.Decorate(t.dataAdapter,r))),null==t.resultsAdapter&&(t.resultsAdapter=l,null!=t.ajax&&(t.resultsAdapter=g.Decorate(t.resultsAdapter,I)),null!=t.placeholder&&(t.resultsAdapter=g.Decorate(t.resultsAdapter,A)),t.selectOnClose&&(t.resultsAdapter=g.Decorate(t.resultsAdapter,C))),null==t.dropdownAdapter&&(t.multiple?t.dropdownAdapter=T:(r=g.Decorate(T,P),t.dropdownAdapter=r),0!==t.minimumResultsForSearch&&(t.dropdownAdapter=g.Decorate(t.dropdownAdapter,M)),t.closeOnSelect&&(t.dropdownAdapter=g.Decorate(t.dropdownAdapter,D)),null==t.dropdownCssClass&&null==t.dropdownCss&&null==t.adaptDropdownCssClass||(i=a(t.amdBase+"compat/dropdownCss"),t.dropdownAdapter=g.Decorate(t.dropdownAdapter,i)),t.dropdownAdapter=g.Decorate(t.dropdownAdapter,O)),null==t.selectionAdapter&&(t.multiple?t.selectionAdapter=c:t.selectionAdapter=h,null!=t.placeholder&&(t.selectionAdapter=g.Decorate(t.selectionAdapter,p)),t.allowClear&&(t.selectionAdapter=g.Decorate(t.selectionAdapter,d)),t.multiple&&(t.selectionAdapter=g.Decorate(t.selectionAdapter,f)),null==t.containerCssClass&&null==t.containerCss&&null==t.adaptContainerCssClass||(i=a(t.amdBase+"compat/containerCss"),t.selectionAdapter=g.Decorate(t.selectionAdapter,i)),t.selectionAdapter=g.Decorate(t.selectionAdapter,m)),t.language=this._resolveLanguage(t.language),t.language.push("en");for(var n=[],o=0;o<t.language.length;o++){var s=t.language[o];-1===n.indexOf(s)&&n.push(s)}return t.language=n,t.translations=this._processTranslations(t.language,t.debug),t},r.prototype.reset=function(){function a(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:g.escapeMarkup,language:{},matcher:function t(e,r){if(""===u.trim(e.term))return r;if(r.children&&0<r.children.length){for(var i=u.extend(!0,{},r),n=r.children.length-1;0<=n;n--)null==t(e,r.children[n])&&i.children.splice(n,1);return 0<i.children.length?i:t(e,i)}var o=a(r.text).toUpperCase(),s=a(e.term).toUpperCase();return-1<o.indexOf(s)?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},r.prototype.applyFromElement=function(t,e){var r=t.language,i=this.defaults.language,n=e.prop("lang"),e=e.closest("[lang]").prop("lang"),e=Array.prototype.concat.call(this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(i),this._resolveLanguage(e));return t.language=e,t},r.prototype._resolveLanguage=function(t){if(!t)return[];if(u.isEmptyObject(t))return[];if(u.isPlainObject(t))return[t];for(var e,r=u.isArray(t)?t:[t],i=[],n=0;n<r.length;n++)i.push(r[n]),"string"==typeof r[n]&&0<r[n].indexOf("-")&&(e=r[n].split("-")[0],i.push(e));return i},r.prototype._processTranslations=function(t,e){for(var r=new s,i=0;i<t.length;i++){var n=new s,o=t[i];if("string"==typeof o)try{n=s.loadPath(o)}catch(t){try{o=this.defaults.amdLanguageBase+o,n=s.loadPath(o)}catch(t){e&&window.console&&console.warn&&console.warn('Select2: The language file for "'+o+'" could not be automatically loaded. A fallback will be used instead.')}}else n=u.isPlainObject(o)?new s(o):o;r.extend(n)}return r},r.prototype.set=function(t,e){var r={};r[u.camelCase(t)]=e;r=g._convertData(r);u.extend(!0,this.defaults,r)},new r}),h.define("select2/options",["require","jquery","./defaults","./utils"],function(r,l,i,h){function t(t,e){this.options=t,null!=e&&this.fromElement(e),null!=e&&(this.options=i.applyFromElement(this.options,e)),this.options=i.apply(this.options),e&&e.is("input")&&(e=r(this.get("amdBase")+"compat/inputData"),this.options.dataAdapter=h.Decorate(this.options.dataAdapter,e))}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),h.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),h.StoreData(t[0],"data",h.GetData(t[0],"select2Tags")),h.StoreData(t[0],"tags",!0)),h.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",h.GetData(t[0],"ajaxUrl")),h.StoreData(t[0],"ajax-Url",h.GetData(t[0],"ajaxUrl")));var r={};function i(t,e){return e.toUpperCase()}for(var n=0;n<t[0].attributes.length;n++){var o,s=t[0].attributes[n].name;"data-"==s.substr(0,"data-".length)&&(o=s.substring("data-".length),s=h.GetData(t[0],o),r[o.replace(/-([a-z])/g,i)]=s)}l.fn.jquery&&"1."==l.fn.jquery.substr(0,2)&&t[0].dataset&&(r=l.extend(!0,{},t[0].dataset,r));var a,u=l.extend(!0,{},h.GetData(t[0]),r);for(a in u=h._convertData(u))-1<l.inArray(a,e)||(l.isPlainObject(this.options[a])?l.extend(this.options[a],u[a]):this.options[a]=u[a]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),h.define("select2/core",["jquery","./options","./utils","./keys"],function(o,n,s,i){var a=function(t,e){null!=s.GetData(t[0],"select2")&&s.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new n(e,t),a.__super__.constructor.call(this);var r=t.attr("tabindex")||0;s.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(t,this.options);r=this.render();this._placeContainer(r);e=this.options.get("selectionAdapter");this.selection=new e(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);e=this.options.get("dropdownAdapter");this.dropdown=new e(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);r=this.options.get("resultsAdapter");this.results=new r(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var i=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),s.StoreData(t[0],"select2",this),t.data("select2",this)};return s.Extend(a,s.Observable),a.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+s.generateChars(2):s.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},a.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},a.prototype._resolveWidth=function(t,e){var r=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){i=t.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"!=e)return"computedstyle"!=e?e:window.getComputedStyle(t[0]).width;t=t.attr("style");if("string"!=typeof t)return null;for(var n=t.split(";"),o=0,s=n.length;o<s;o+=1){var a=n[o].replace(/\s/g,"").match(r);if(null!==a&&1<=a.length)return a[1]}return null},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=s.bind(this._syncAttributes,this),this._syncS=s.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){e._syncA(),e._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},a.prototype._registerDataEvents=function(){var r=this;this.dataAdapter.on("*",function(t,e){r.trigger(t,e)})},a.prototype._registerSelectionEvents=function(){var r=this,i=["toggle","focus"];this.selection.on("toggle",function(){r.toggleDropdown()}),this.selection.on("focus",function(t){r.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,i)&&r.trigger(t,e)})},a.prototype._registerDropdownEvents=function(){var r=this;this.dropdown.on("*",function(t,e){r.trigger(t,e)})},a.prototype._registerResultsEvents=function(){var r=this;this.results.on("*",function(t,e){r.trigger(t,e)})},a.prototype._registerEvents=function(){var r=this;this.on("open",function(){r.$container.addClass("select2-container--open")}),this.on("close",function(){r.$container.removeClass("select2-container--open")}),this.on("enable",function(){r.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){r.$container.addClass("select2-container--disabled")}),this.on("blur",function(){r.$container.removeClass("select2-container--focus")}),this.on("query",function(e){r.isOpen()||r.trigger("open",{}),this.dataAdapter.query(e,function(t){r.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){r.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;r.isOpen()?e===i.ESC||e===i.TAB||e===i.UP&&t.altKey?(r.close(t),t.preventDefault()):e===i.ENTER?(r.trigger("results:select",{}),t.preventDefault()):e===i.SPACE&&t.ctrlKey?(r.trigger("results:toggle",{}),t.preventDefault()):e===i.UP?(r.trigger("results:previous",{}),t.preventDefault()):e===i.DOWN&&(r.trigger("results:next",{}),t.preventDefault()):(e===i.ENTER||e===i.SPACE||e===i.DOWN&&t.altKey)&&(r.open(),t.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},a.prototype._isChangeMutation=function(t,e){var r=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var n=0;n<e.addedNodes.length;n++)e.addedNodes[n].selected&&(r=!0);else e.removedNodes&&0<e.removedNodes.length?r=!0:o.isArray(e)&&o.each(e,function(t,e){if(i._isChangeMutation(t,e))return!(r=!0)});else r=!0;return r}},a.prototype._syncSubtree=function(t,e){var e=this._isChangeMutation(t,e),r=this;e&&this.dataAdapter.current(function(t){r.trigger("selection:update",{data:t})})},a.prototype.trigger=function(t,e){var r=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var n=i[t],i={prevented:!1,name:t,args:e};if(r.call(this,n,i),i.prevented)return void(e.prevented=!0)}r.call(this,t,e)},a.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},a.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},a.prototype.isEnabled=function(){return!this.isDisabled()},a.prototype.isDisabled=function(){return this.options.get("disabled")},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},a.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},a.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);t=!t[0];this.$element.prop("disabled",t)},a.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},a.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();t=t[0];o.isArray(t)&&(t=o.map(t,function(t){return t.toString()})),this.$element.val(t).trigger("input").trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",s.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),s.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),s.StoreData(t[0],"element",this.$element),t},a}),h.define("jquery-mousewheel",["jquery"],function(t){return t}),h.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(n,t,o,e,s){var a;return null==n.fn.select2&&(a=["open","close","destroy"],n.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=n.extend(!0,{},e);new o(n(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var r,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=s.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),r=t[e].apply(t,i)}),-1<n.inArray(e,a)?this:r}),null==n.fn.select2.defaults&&(n.fn.select2.defaults=e),o}),{define:h.define,require:h.require});function b(t,e){return n.call(t,e)}function u(t,e){var r,i,n,o,s,a,u,l,h,c,p=e&&e.split("/"),d=v.map,f=d&&d["*"]||{};if(t){for(e=(t=t.split("/")).length-1,v.nodeIdCompat&&_.test(t[e])&&(t[e]=t[e].replace(_,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),l=0;l<t.length;l++)"."===(c=t[l])?(t.splice(l,1),--l):".."===c&&(0===l||1===l&&".."===t[2]||".."===t[l-1]||0<l&&(t.splice(l-1,2),l-=2));t=t.join("/")}if((p||f)&&d){for(l=(r=t.split("/")).length;0<l;--l){if(i=r.slice(0,l).join("/"),p)for(h=p.length;0<h;--h)if(n=d[p.slice(0,h).join("/")],n=n&&n[i]){o=n,s=l;break}if(o)break;!a&&f&&f[i]&&(a=f[i],u=l)}!o&&a&&(o=a,s=u),o&&(r.splice(0,s,o),t=r.join("/"))}return t}function x(e,r){return function(){var t=a.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),s.apply(p,t.concat([e,r]))}}function w(t){var e;if(b(g,t)&&(e=g[t],delete g[t],y[t]=!0,o.apply(p,e)),!b(m,t)&&!b(y,t))throw new Error("No "+t);return m[t]}function l(t){var e,r=t?t.indexOf("!"):-1;return-1<r&&(e=t.substring(0,r),t=t.substring(r+1,t.length)),[e,t]}function E(t){return t?l(t):[]}var h=i.require("jquery.select2");return e.fn.select2.amd=i,h},"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t&&t.exports?t.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?r("jquery"):r("jquery")(t)),i(e),e}:i(jQuery)},{jquery:41}],74:[function(t,e,r){"use strict";var i,d,f=0;function m(t){return 48<=t&&t<=57}function n(t,e){for(var r=(t+="").length,i=(e+="").length,n=0,o=0;n<r&&o<i;){var s=t.charCodeAt(n),a=e.charCodeAt(o);if(m(s)){if(!m(a))return s-a;for(var u=n,l=o;48===s&&++u<r;)s=t.charCodeAt(u);for(;48===a&&++l<i;)a=e.charCodeAt(l);for(var h=u,c=l;h<r&&m(t.charCodeAt(h));)++h;for(;c<i&&m(e.charCodeAt(c));)++c;var p=h-u-c+l;if(p)return p;for(;u<h;)if(p=t.charCodeAt(u++)-e.charCodeAt(l++))return p;n=h,o=c}else{if(s!==a)return s<f&&a<f&&-1!==d[s]&&-1!==d[a]?d[s]-d[a]:s-a;++n,++o}}return r<=n&&o<i&&i<=r?-1:i<=o&&n<r&&r<=i?1:r-i}n.caseInsensitive=n.i=function(t,e){return n((""+t).toLowerCase(),(""+e).toLowerCase())},Object.defineProperties(n,{alphabet:{get:function(){return i},set:function(t){d=[];var e=0;if(i=t)for(;e<i.length;e++)d[i.charCodeAt(e)]=e;for(f=d.length,e=0;e<f;e++)void 0===d[e]&&(d[e]=-1)}}}),e.exports=n},{}],75:[function(u,t,l){(function(r,a){(function(){var i=u("process/browser.js").nextTick,t=Function.prototype.apply,n=Array.prototype.slice,o={},s=0;function e(t,e){this._id=t,this._clearFn=e}l.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},l.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},l._unrefActive=l.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},l.setImmediate="function"==typeof r?r:function(t){var e=s++,r=!(arguments.length<2)&&n.call(arguments,1);return o[e]=!0,i(function(){o[e]&&(r?t.apply(null,r):t.call(null),l.clearImmediate(e))}),e},l.clearImmediate="function"==typeof a?a:function(t){delete o[t]}}).call(this)}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":67,timers:75}],76:[function(t,H,e){!function(u){var l=/^\s+/,h=/\s+$/,i=0,o=u.round,c=u.min,p=u.max,t=u.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var r=function(t){var e={r:0,g:0,b:0},r=1,i=null,n=null,o=null,s=!1,a=!1;"string"==typeof t&&(t=function(t){t=t.replace(l,"").replace(h,"").toLowerCase();var e,r=!1;if(P[t])t=P[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=j.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=j.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=j.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=j.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=j.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=j.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=j.hex8.exec(t))return{r:C(e[1]),g:C(e[2]),b:C(e[3]),a:N(e[4]),format:r?"name":"hex8"};if(e=j.hex6.exec(t))return{r:C(e[1]),g:C(e[2]),b:C(e[3]),format:r?"name":"hex"};if(e=j.hex4.exec(t))return{r:C(e[1]+""+e[1]),g:C(e[2]+""+e[2]),b:C(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:r?"name":"hex8"};if(e=j.hex3.exec(t))return{r:C(e[1]+""+e[1]),g:C(e[2]+""+e[2]),b:C(e[3]+""+e[3]),format:r?"name":"hex"};return!1}(t));"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(e=function(t,e,r){return{r:255*O(t,255),g:255*O(e,255),b:255*O(r,255)}}(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(i=R(t.s),n=R(t.v),e=function(t,e,r){t=6*O(t,360),e=O(e,100),r=O(r,100);var i=u.floor(t),n=t-i,o=r*(1-e),t=r*(1-n*e),e=r*(1-(1-n)*e),i=i%6;return{r:255*[r,t,o,o,e,r][i],g:255*[e,r,r,t,o,o][i],b:255*[o,o,e,r,r,t][i]}}(t.h,i,n),s=!0,a="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(i=R(t.s),o=R(t.l),e=function(t,e,r){var i,n,o;function s(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}t=O(t,360),e=O(e,100),r=O(r,100),0===e?i=n=o=r:(i=s(e=2*r-(r=r<.5?r*(1+e):r+e-r*e),r,t+1/3),n=s(e,r,t),o=s(e,r,t-1/3));return{r:255*i,g:255*n,b:255*o}}(t.h,i,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a));return r=I(r),{ok:s,format:t.format||a,r:c(255,p(e.r,0)),g:c(255,p(e.g,0)),b:c(255,p(e.b,0)),a:r}}(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=o(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=r.ok,this._tc_id=i++}function n(t,e,r){t=O(t,255),e=O(e,255),r=O(r,255);var i,n=p(t,e,r),o=c(t,e,r),s=(n+o)/2;if(n==o)i=u=0;else{var a=n-o,u=.5<s?a/(2-n-o):a/(n+o);switch(n){case t:i=(e-r)/a+(e<r?6:0);break;case e:i=(r-t)/a+2;break;case r:i=(t-e)/a+4}i/=6}return{h:i,s:u,l:s}}function s(t,e,r){t=O(t,255),e=O(e,255),r=O(r,255);var i,n=p(t,e,r),o=c(t,e,r),s=n,a=n-o,u=0===n?0:a/n;if(n==o)i=0;else{switch(n){case t:i=(e-r)/a+(e<r?6:0);break;case e:i=(r-t)/a+2;break;case r:i=(t-e)/a+4}i/=6}return{h:i,s:u,v:s}}function e(t,e,r,i){r=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(r).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,r,i){return[D(L(i)),D(o(t).toString(16)),D(o(e).toString(16)),D(o(r).toString(16))].join("")}function r(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s-=e/100,t.s=M(t.s),d(t)}function f(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s+=e/100,t.s=M(t.s),d(t)}function m(t){return d(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l+=e/100,t.l=M(t.l),d(t)}function v(t,e){e=0===e?0:e||10;t=d(t).toRgb();return t.r=p(0,c(255,t.r-o(-e/100*255))),t.g=p(0,c(255,t.g-o(-e/100*255))),t.b=p(0,c(255,t.b-o(-e/100*255))),d(t)}function y(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l-=e/100,t.l=M(t.l),d(t)}function _(t,e){t=d(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,d(t)}function b(t){t=d(t).toHsl();return t.h=(t.h+180)%360,d(t)}function x(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+120)%360,s:e.s,l:e.l}),d({h:(r+240)%360,s:e.s,l:e.l})]}function w(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+90)%360,s:e.s,l:e.l}),d({h:(r+180)%360,s:e.s,l:e.l}),d({h:(r+270)%360,s:e.s,l:e.l})]}function E(t){var e=d(t).toHsl(),r=e.h;return[d(t),d({h:(r+72)%360,s:e.s,l:e.l}),d({h:(r+216)%360,s:e.s,l:e.l})]}function S(t,e,r){e=e||6,r=r||30;var i=d(t).toHsl(),n=360/r,o=[d(t)];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,o.push(d(i));return o}function T(t,e){e=e||6;for(var t=d(t).toHsv(),r=t.h,i=t.s,n=t.v,o=[],s=1/e;e--;)o.push(d({h:r,s:i,v:n})),n=(n+s)%1;return o}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,r=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:u.pow((.055+e)/1.055,2.4),r=r<=.03928?r/12.92:u.pow((.055+r)/1.055,2.4),t=t<=.03928?t/12.92:u.pow((.055+t)/1.055,2.4);return.2126*e+.7152*r+.0722*t},setAlpha:function(t){return this._a=I(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=o(360*t.h),r=o(100*t.s),t=o(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+t+"%)":"hsva("+e+", "+r+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=o(360*t.h),r=o(100*t.s),t=o(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+t+"%)":"hsla("+e+", "+r+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,r,i,n){i=[D(o(t).toString(16)),D(o(e).toString(16)),D(o(r).toString(16)),D(L(i))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*O(this._r,255))+"%",g:o(100*O(this._g,255))+"%",b:o(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%)":"rgba("+o(100*O(this._r,255))+"%, "+o(100*O(this._g,255))+"%, "+o(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&A[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),r=e,i=this._gradientType?"GradientType = 1, ":"";return t&&(r="#"+a((t=d(t))._r,t._g,t._b,t._a)),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+r+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,i=this._a<1&&0<=this._a;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){e=t.apply(null,[this].concat([].slice.call(e)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(r,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var r,i={};for(r in t)t.hasOwnProperty(r)&&(i[r]="a"===r?t[r]:R(t[r]));t=i}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(t,e,r){r=0===r?0:r||50;t=d(t).toRgb(),e=d(e).toRgb(),r/=100;return d({r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b,a:(e.a-t.a)*r+t.a})},d.readability=function(t,e){t=d(t),e=d(e);return(u.max(t.getLuminance(),e.getLuminance())+.05)/(u.min(t.getLuminance(),e.getLuminance())+.05)},d.isReadable=function(t,e,r){var i=d.readability(t,e),n=!1,r=function(t){var e;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==t&&"large"!==t&&(t="small");return{level:e,size:t}}(r);switch(r.level+r.size){case"AAsmall":case"AAAlarge":n=4.5<=i;break;case"AAlarge":n=3<=i;break;case"AAAsmall":n=7<=i}return n},d.mostReadable=function(t,e,r){for(var i,n=null,o=0,s=(r=r||{}).includeFallbackColors,a=r.level,u=r.size,l=0;l<e.length;l++)o<(i=d.readability(t,e[l]))&&(o=i,n=d(e[l]));return d.isReadable(t,n,{level:a,size:u})||!s?n:(r.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],r))};var P=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=d.hexNames=function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[t[e]]=e);return r}(P);function I(t){return t=parseFloat(t),(isNaN(t)||t<0||1<t)&&(t=1),t}function O(t,e){"string"==typeof(r=t)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(t="100%");var r,r="string"==typeof(r=t)&&-1!=r.indexOf("%");return t=c(e,p(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),u.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return c(1,p(0,t))}function C(t){return parseInt(t,16)}function D(t){return 1==t.length?"0"+t:""+t}function R(t){return t<=1&&(t=100*t+"%"),t}function L(t){return u.round(255*parseFloat(t)).toString(16)}function N(t){return C(t)/255}var F,k,B,j=(k="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",B="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+k),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+k),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+k),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(t){return j.CSS_UNIT.exec(t)}void 0!==H&&H.exports?H.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):window.tinycolor=d}(Math)},{}],77:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=t("./level"),h=t("./loggerManager"),t=(i.msg=function(t,e,r,i,n,o){if(!h.LoggerManager.isProductionMode()&&h.LoggerManager.isLevelAllowed(n)&&!h.LoggerManager.isMuted(r)){var s;switch(n){case l.Level.DEBUG:s="violet";break;case l.Level.ERROR:s="red";break;case l.Level.INFO:s="deepskyblue";break;case l.Level.LOG:s="gray";break;case l.Level.WARN:s="orange"}if(o){var a=o-r.length;if(0<a)for(var u=0;u<a;u++)r+=" "}o="%c "+r+"  %c "+t+" ",t="background: "+i+";color:white; border: 1px solid "+i+"; ",i="border: 1px solid "+s+"; ";switch((e=e[0]).unshift(i),e.unshift(t),e.unshift(o),n){case l.Level.INFO:console.info.apply(console,e);break;case l.Level.DEBUG:console.debug.apply(console,e);break;case l.Level.LOG:console.log.apply(console,e);break;case l.Level.WARN:console.warn.apply(console,e);break;case l.Level.ERROR:console.error.apply(console,e)}}},i);function i(){}r.Display=t},{"./level":79,"./loggerManager":81}],78:[function(t,e,r){"use strict";function i(t){for(var e in t)r.hasOwnProperty(e)||(r[e]=t[e])}Object.defineProperty(r,"__esModule",{value:!0}),i(t("./display")),i(t("./level")),i(t("./logger")),i(t("./loggerManager"))},{"./display":77,"./level":79,"./logger":80,"./loggerManager":81}],79:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),(r=r.Level||(r.Level={}))[r.INFO=0]="INFO",r[r.LOG=1]="LOG",r[r.DEBUG=2]="DEBUG",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR"},{}],80:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./level"),n=t("./display"),t=(o.prototype.debug=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._logMessage(t,i.Level.DEBUG,e)},o.prototype.log=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._logMessage(t,i.Level.LOG,e)},o.prototype.error=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._logMessage(t,i.Level.ERROR,e)},o.prototype.info=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._logMessage(t,i.Level.INFO,e)},o.prototype.warn=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this._logMessage(t,i.Level.WARN,e)},o.prototype._logMessage=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n.Display.msg(t,r,this.name,this.color,e,this.fixedWidth),this},o);function o(t,e,r){this.name=t,this.color=e,this.fixedWidth=r}r.Logger=t},{"./display":77,"./level":79}],81:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./logger"),t=(n.create=function(t,e){var r;return void 0===n.instances[t]?(n.instancesStateMap.hasOwnProperty(t)||(n.instancesStateMap[t]=!1),r=new i.Logger(t,e||n.getRandomColor(),0<n.levels.length?n.fixedWidth:void 0),n.instances[t]=r):r=n.instances[t],r},n.onlyLevels=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.levels=t,n.saveState()},n.onlyModules=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0!==t.length&&(n.muteAllModules(),t.forEach(function(t){return n.mute(t,!1)}))},n.mute=function(t,e){void 0===e&&(e=!0),n.instancesStateMap[t]=e,n.saveState()},n.unmute=function(t){n.mute(t,!1)},n.unMuteAllModules=function(){for(var t in n.instances)n.mute(t,!1)},n.muteAllModules=function(){for(var t in n.instances)n.mute(t,!0)},n.setProductionMode=function(){n.DEV_MODE=!1,delete window.LoggerManager},n.isProductionMode=function(){return!n.DEV_MODE},n.isMuted=function(t){return n.instancesStateMap[t]},n.isLevelAllowed=function(t){return 0==n.levels.length||n.levels.includes(t)},n.showConfig=function(){return{modulesState:n.instancesStateMap,levels:n.levels}},n.getRandomColor=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},n.saveState=function(){var t={map:n.instancesStateMap,levels:n.levels};localStorage.setItem(n.STORAGE_KEY,JSON.stringify(t))},n.loadState=function(){var t=localStorage.getItem(n.STORAGE_KEY);t&&(t=JSON.parse(t),n.instancesStateMap=t.map,n.levels=t.levels)},n.DEV_MODE=!0,n.STORAGE_KEY="typescript-logger-state",n.instances={},n.instancesStateMap={},n.fixedWidth=0,n.levels=[],n.initializationBlock=(window.LoggerManager={onlyLevel:n.onlyLevels,onlyModules:n.onlyModules,mute:n.mute,unmute:n.unmute,unMuteAllModules:n.unMuteAllModules,muteAllModules:n.muteAllModules,showConfig:n.showConfig},void n.loadState()),n);function n(){}r.LoggerManager=t},{"./logger":80}],82:[function(t,e,r){"use strict";var P=t("punycode"),A=t("./util");function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=n,r.resolve=function(t,e){return n(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?n(t,!1,!0).resolveObject(e):e},r.format=function(t){A.isString(t)&&(t=n(t));return t instanceof x?t.format():x.prototype.format.call(t)},r.Url=x;var I=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,O=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),M=["'"].concat(r),C=["%","/","?",";","#"].concat(M),D=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,L=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=t("querystring");function n(t,e,r){if(t&&A.isObject(t)&&t instanceof x)return t;var i=new x;return i.parse(t,e,r),i}x.prototype.parse=function(t,e,r){if(!A.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=-1!==i&&i<t.indexOf("#")?"?":"#",i=t.split(n);i[0]=i[0].replace(/\\/g,"/");var o=(o=t=i.join(n)).trim();if(!r&&1===t.split("#").length){var s=O.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=e?B.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,s=I.exec(o);if(s&&(T=(s=s[0]).toLowerCase(),this.protocol=T,o=o.substr(s.length)),(r||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===o.substr(0,2))||s&&F[s]||(o=o.substr(2),this.slashes=!0)),!F[s]&&(a||s&&!k[s])){for(var u=-1,l=0;l<D.length;l++)-1!==(h=o.indexOf(D[l]))&&(-1===u||h<u)&&(u=h);-1!==(x=-1===u?o.lastIndexOf("@"):o.lastIndexOf("@",u))&&(w=o.slice(0,x),o=o.slice(x+1),this.auth=decodeURIComponent(w)),u=-1;for(var h,l=0;l<C.length;l++)-1!==(h=o.indexOf(C[l]))&&(-1===u||h<u)&&(u=h);-1===u&&(u=o.length),this.host=o.slice(0,u),o=o.slice(u),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var p=this.hostname.split(/\./),l=0,d=p.length;l<d;l++){var f=p[l];if(f&&!f.match(R)){for(var m="",g=0,v=f.length;g<v;g++)127<f.charCodeAt(g)?m+="x":m+=f[g];if(!m.match(R)){var y=p.slice(0,l),_=p.slice(l+1),b=f.match(L);b&&(y.push(b[1]),_.unshift(b[2])),_.length&&(o="/"+_.join(".")+o),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=P.toASCII(this.hostname));var x=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+x,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!N[T])for(l=0,d=M.length;l<d;l++){var E,S=M[l];-1!==o.indexOf(S)&&((E=encodeURIComponent(S))===S&&(E=escape(S)),o=o.split(S).join(E))}c=o.indexOf("#");-1!==c&&(this.hash=o.substr(c),o=o.slice(0,c));var T,c=o.indexOf("?");return-1!==c?(this.search=o.substr(c),this.query=o.substr(c+1),e&&(this.query=B.parse(this.query)),o=o.slice(0,c)):e&&(this.search="",this.query={}),o&&(this.pathname=o),k[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(x=this.pathname||"",T=this.search||"",this.path=x+T),this.href=this.format(),this},x.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&A.isObject(this.query)&&Object.keys(this.query).length&&(o=B.stringify(this.query));o=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||k[e])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n=n||"",i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),e+n+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+i},x.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},x.prototype.resolveObject=function(t){A.isString(t)&&((d=new x).parse(t,!1,!0),t=d);for(var e=new x,r=Object.keys(this),i=0;i<r.length;i++){var n=r[i];e[n]=this[n]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];"protocol"!==a&&(e[a]=t[a])}return k[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!k[t.protocol]){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];e[h]=t[h]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||F[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(f=e.pathname||"",m=e.search||"",e.path=f+m),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=d||p||e.host&&t.pathname,m=f,g=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],p=e.protocol&&!k[e.protocol];if(p&&(e.hostname="",e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),f=f&&(""===c[0]||""===g[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,g=c;else if(c.length)(g=g||[]).pop(),g=g.concat(c),e.search=t.search,e.query=t.query;else if(!A.isNullOrUndefined(t.search))return p&&(e.hostname=e.host=g.shift(),(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),e.search=t.search,e.query=t.query,A.isNull(e.pathname)&&A.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!g.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var v=g.slice(-1)[0],d=(e.host||t.host||1<g.length)&&("."===v||".."===v)||""===v,y=0,_=g.length;0<=_;_--)"."===(v=g[_])?g.splice(_,1):".."===v?(g.splice(_,1),y++):y&&(g.splice(_,1),y--);if(!f&&!m)for(;y--;)g.unshift("..");!f||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),d&&"/"!==g.join("/").substr(-1)&&g.push("");var b,d=""===g[0]||g[0]&&"/"===g[0].charAt(0);return p&&(e.hostname=e.host=!d&&g.length?g.shift():"",(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),(f=f||e.host&&g.length)&&!d&&g.unshift(""),g.length?e.pathname=g.join("/"):(e.pathname=null,e.path=null),A.isNull(e.pathname)&&A.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},x.prototype.parseHost=function(){var t=this.host,e=i.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":83,punycode:68,querystring:71}],83:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],84:[function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,s,a,u){return new(a=a||Promise)(function(r,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,n)}o((u=u.apply(t,s||[])).next())})},o=this&&this.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.Application=n.CANVAS_HEIGHT=n.CANVAS_WIDTH=void 0;var s=t("./data/application.data"),a=t("typescript-logger"),u=t("pixi.js"),l=t("./sprite.adapter"),h=t("./form-parts.adapter"),c=t("./site.value"),p=t("./sprites.data.helper"),d=t("./site"),f=i(t("list.js")),m=t("./observer"),g=t("./colorpalette.adapter");n.CANVAS_WIDTH=720,n.CANVAS_HEIGHT=720;v.prototype.init=function(){var t=this;this._appData.loadFromStorage().then(function(){t.initSite()})},v.prototype.initSite=function(){return r(this,void 0,void 0,function(){var i=this;return o(this,function(t){return this.initTheme(),this.initSettings(),this._appData.currentSelectionForm||(this._appData.currentSelectionForm=0<this._appData.forms.length?this._appData.forms[0]:""),Promise.all(this._appData.forms.map(function(t){return i._sprite_data_helper.setup(t,i._appData.getPartsList(t))})).then(function(){for(var t=0,e=i._appData.forms;t<e.length;t++){var r=e[t];i._appData.initDefaultValues(r,i._sprite_data_helper.getDefaultFlagName(r))}i.initForm(),i.initCanvas()}),this.initFlagList(),this.initObservers(),[2]})})},v.prototype.initTheme=function(){switch($("body").removeAttr("data-theme"),this._appData.theme){case s.Theme.Dark:$("#chbDarkTheme").bootstrapToggle("on"),$("body").attr("data-theme","dark");break;case s.Theme.Light:default:$("#chbDarkTheme").bootstrapToggle("off"),$("body").attr("data-theme","light")}},v.prototype.initObservers=function(){},v.prototype.initSettings=function(){var e;return r(this,void 0,void 0,function(){var r;return o(this,function(t){return r=this,$("#btnClearSession").on("click",function(){r._appData.clearSessionStorage()}),$("#chbDarkTheme").on("change",function(){$("body").removeAttr("data-theme"),$(this).prop("checked")?($("body").attr("data-theme","dark"),r._appData.theme=s.Theme.Dark):($("body").attr("data-theme","light"),r._appData.theme=s.Theme.Light)}),$("#chbShowGrid").prop("checked",this._appData.settings.show_grid),$("#chbShowGrid").on("change",function(){$(this).is(":checked")?r._appData.showGrid():r._appData.hideGrid()}),this._appData.settings.outline_color||(this._appData.settings.outline_color=null!==(e=this._appData.getOutlineColor(this._appData.currentSelectionForm))&&void 0!==e?e:s.DEFAULT_OUTLINE_COLOR),this._appData.settings.outline_color=null!==(e=this._appData.settings.outline_color)&&void 0!==e?e:s.DEFAULT_CRAWS_COLOR,this._appData.saveSettings(),$("#txtCrawsColor").spectrum({color:this._appData.settings.craws_color,showInput:!0,showInitial:!0,allowEmpty:!0,showAlpha:!1}).on("hide.spectrum",function(t,e){e=e.toHexString();r._appData.setCrawsColor(e)}).on("move.spectrum",function(t,e){e=e.toHexString();r._appData.setCrawsColor(e)}),$("#txtOutlinesColor").spectrum({color:this._appData.settings.outline_color,showInput:!0,showInitial:!0,allowEmpty:!1,showAlpha:!1}).on("hide.spectrum",function(t,e){e=e.toHexString();r._appData.setOutlineColor(e)}).on("move.spectrum",function(t,e){e=e.toHexString();r._appData.setOutlineColor(e)}),[2]})})},v.prototype.initFlagList=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){return e={valueNames:["flag_info_image","flag_info_name","flag_info_description"],page:8,pagination:c.LIST_JS_PAGINATION},this._flagList=new f.default("lstFlagInfo",e),[2]})})},v.prototype.initForm=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return this.initFormParts(),[2]})})},v.prototype.initFormParts=function(){var e;return r(this,void 0,void 0,function(){return o(this,function(t){return this._formPartsAdapter=new h.FormPartsAdapter(this._appData,this._sprite_data_helper),null===(e=this._formPartsAdapter)||void 0===e||e.init(),[2]})})},v.prototype.initCanvas=function(){return r(this,void 0,void 0,function(){var r,i;return o(this,function(t){return this._colorPaletteAdapter=new g.ColorPaletteAdapter(this._parts_canvas),this._pixiApp=new u.Application({width:n.CANVAS_WIDTH,height:n.CANVAS_HEIGHT,antialias:!1,transparent:!0,resizeTo:$("#spriteViewContainer")[0]}),$("#spriteViewContainer").html(this._pixiApp.view),this._spriteAdapter=new l.SpriteAdapter(this._pixiApp,this._appData,this._parts_canvas,"#btnDownload","#btnFullDownload"),r=(r=d.site.data.sprites.map(function(t){return t.sheet})).filter(function(t,e){return r.indexOf(t)===e}),(i=this)._loader.baseUrl=d.site.base_url,this._loader.onProgress.add(function(){i.loadProgressHandler()}),this._loader.add(r).load(function(t,e){i.setupSpriteAdapters(t,e)}),[2]})})},v.prototype.setupSpriteAdapters=function(t,e){var r;null===(r=this._colorPaletteAdapter)||void 0===r||r.init(),null===(r=this._spriteAdapter)||void 0===r||r.init(this._appData.currentSelectionFormData,e),null===(e=this._spriteAdapter)||void 0===e||e.updateParts(this._appData.currentSelectionFormData.form,this._appData.currentSelectionFormData.parts)},v.prototype.loadProgressHandler=function(){},t=v;function v(){this._appData=new s.ApplicationData,this._loader=new u.Loader,this._parts_canvas=new m.DataSubject({width:0,height:0,uint8Array:[]}),this._sprite_data_helper=new p.SpriteDataHelper,this.log=a.LoggerManager.create("Application")}n.Application=t},{"./colorpalette.adapter":85,"./data/application.data":86,"./form-parts.adapter":88,"./observer":90,"./site":91,"./site.value":92,"./sprite.adapter":93,"./sprites.data.helper":94,"list.js":45,"pixi.js":66,"typescript-logger":78}],85:[function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,s,a,u){return new(a=a||Promise)(function(r,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,n)}o((u=u.apply(t,s||[])).next())})},o=this&&this.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ColorPaletteAdapter=void 0;var s=t("image-q"),a=t("typescript-logger"),u=i(t("list.js")),l=t("./site.value"),h=i(t("tinycolor2")),c=t("./site"),t=(p.prototype.init=function(){this.updatePalette(this._canvas.data),this.initObservers();var t={page:9,pagination:l.LIST_JS_PAGINATION,item:function(t){return'<li class="list-group-item color-palette-item" data-color="'+t.color+'" data-index="'+t.index+'">\n                    <div class="input-group">\n                        <input type="text" class="form-control color-palette-item-input" value="'+t.color+'" readonly disabled>\n                    </div>\n                </li>'}};this._colorPaletteList=new u.default("lstColorPalette",t).on("updated",function(t){$(t.list).find(".color-palette-item-input").spectrum({showInput:!0,showInitial:!0,allowEmpty:!1,showAlpha:!1})})},p.prototype.initObservers=function(){var e=this;function t(){}this._canvas.attach((t.prototype.update=function(t){e.updatePalette(t.data)},new t))},p.prototype.updatePalette=function(i){return n(this,void 0,void 0,function(){var e,r;return o(this,function(t){switch(t.label){case 0:return r=s.utils.PointContainer.fromUint8Array(i.uint8Array,i.width,i.height),[4,s.buildPalette([r])];case 1:return e=t.sent(),r=e.getPointContainer().getPointArray().map(function(t,e){return{color:h.default({r:t.r,g:t.g,b:t.b}).toHexString(),index:e}}),r=c.removeDuplicateObjectFromArray(r,"color"),this.log.debug("updatePalette",{palette:e},e.getPointContainer(),e.getPointContainer().getPointArray(),r),this._colorPaletteList&&(this._colorPaletteList.clear(),this._colorPaletteList.add(r)),[2]}})})},p);function p(t){this.log=a.LoggerManager.create("ColorPaletteAdapter"),this._canvas=t}r.ColorPaletteAdapter=t},{"./site":91,"./site.value":92,"image-q":38,"list.js":45,tinycolor2:76,"typescript-logger":78}],86:[function(t,e,s){"use strict";var r=this&&this.__awaiter||function(t,s,a,u){return new(a=a||Promise)(function(r,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,n)}o((u=u.apply(t,s||[])).next())})},b=this&&this.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0}),s.setProperty=s.getProperty=s.getUnsafeProperty=s.hasProperty=s.ApplicationData=s.CurrentSelectionForm=s.CurrentSelectionPart=s.Settings=s.Theme=s.ENABLE_FLIP_FEATURE=s.DEFAULT_OUTLINE_COLOR=s.DEFAULT_CRAWS_COLOR=s.WHOLE_PART=s.ALL_FILTER=s.DEFAULT_FLAG_NAME_NONE=void 0;var a,u=i(t("localforage")),l=t("../observer"),o=t("./sprite.data"),h=t("typescript-logger"),x=t("../site"),w="settings",E="version",S="current_selection_form",T="current_selection_show_whole";s.DEFAULT_FLAG_NAME_NONE="None",s.ALL_FILTER="all",s.WHOLE_PART="whole",s.DEFAULT_CRAWS_COLOR="#FFFFFF",s.DEFAULT_OUTLINE_COLOR="#000000",s.ENABLE_FLIP_FEATURE=!1,(t=a=s.Theme||(s.Theme={})).Light="light",t.Dark="dark";var c=function(){this.show_grid=!1,this.outline_color=s.DEFAULT_OUTLINE_COLOR,this.craws_color=s.DEFAULT_CRAWS_COLOR};s.Settings=c;var p=function(){this.flag_name=s.DEFAULT_FLAG_NAME_NONE,this.orientation=o.Orientation.Vertical,this.flip=!1};s.CurrentSelectionPart=p;var d=function(){this.form="",this.parts={}};s.CurrentSelectionForm=d;P.getStorageKeyCurrentSelectionPart=function(t,e){return"current_selection_part_"+t+"_"+e},P.getStorageKeyCurrentSelectionPartFilter=function(t,e){return"current_selection_filter_part_"+t+"_"+e},P.prototype.loadFromStorage=function(){var g,v,y,_;return r(this,void 0,void 0,function(){var e,r,i,n,o,s,a,u,l,h,c,p,d,f,m;return b(this,function(t){switch(t.label){case 0:return t.trys.push([0,15,,16]),[4,(e=this)._storeSession.getItem(E)];case 1:return e._version=null!==(g=t.sent())&&void 0!==g?g:"",""===this._version?[3,14]:(r=this._settings,[4,this._storeSession.getItem(w)]);case 2:return r.data=null!==(g=t.sent())&&void 0!==g?g:this._settings.data,[4,(i=this)._storeSession.getItem("theme")];case 3:return i._theme=null!==(v=t.sent())&&void 0!==v?v:this._theme,n=this._lastFlag,[4,this._storeSession.getItem("last_flag")];case 4:return n.data=null!==(v=t.sent())&&void 0!==v?v:this._lastFlag.data,o=this._currentSelectionForm,[4,this._storeSession.getItem(S)];case 5:return o.data=null!==(y=t.sent())&&void 0!==y?y:this._currentSelectionForm.data,s=this._currentSelectionShowWhole,[4,this._storeSession.getItem(T)];case 6:s.data=null!==(y=t.sent())&&void 0!==y?y:this._currentSelectionShowWhole.data,m=0,a=this.forms,t.label=7;case 7:if(!(m<a.length))return[3,13];u=a[m],l=0,c=this.getPartsList(u),t.label=8;case 8:return l<c.length?(h=c[l],c=P.getStorageKeyCurrentSelectionPart(u,h),p=P.getStorageKeyCurrentSelectionPartFilter(u,h),d=this._currentSelectionParts[u][h],[4,this._storeSession.getItem(c)]):[3,12];case 9:return d.data=null!==(_=t.sent())&&void 0!==_?_:this._currentSelectionParts[u][h].data,f=this._currentSelectionPartsFilter[u][h],[4,this._storeSession.getItem(p)];case 10:f.data=null!==(_=t.sent())&&void 0!==_?_:this._currentSelectionPartsFilter[u][h].data,t.label=11;case 11:return l++,[3,8];case 12:return m++,[3,7];case 13:this.log.debug("loadFromStorage",this._currentSelectionForm,this._currentSelectionParts,this._currentSelectionPartsFilter,this),this.saveCurrentSelection(),t.label=14;case 14:return this._version=x.site.version,this._storeSession.setItem(E,this._version),[3,16];case 15:return m=t.sent(),console.error("loadFromStorage",m),[3,16];case 16:return[2]}})})},P.prototype.clearSessionStorage=function(){this._storeSession.clear()},Object.defineProperty(P.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t,this._storeSession.setItem("theme",t),this._storeSession.setItem(E,this._version)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"lastFlagObservable",{get:function(){return this._lastFlag},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"lastFlag",{get:function(){return this._lastFlag.data},set:function(t){this._storeSession.setItem("last_flag",t),this._storeSession.setItem(E,this._version),this._lastFlag.data=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"settingsObservable",{get:function(){return this._settings},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"settings",{get:function(){return this._settings.data},set:function(t){this._storeSession.setItem(w,t),this._storeSession.setItem(E,this._version),this._settings.data=t},enumerable:!1,configurable:!0}),P.prototype.updateFormData=function(e){this._currentSelectionForm.data.form=e,this._currentSelectionForm.data.parts={};var r=this;return Object.keys(this._currentSelectionParts[e]).forEach(function(t){r._currentSelectionForm.data.parts[t]=r._currentSelectionParts[e][t].data}),this._currentSelectionForm.data},Object.defineProperty(P.prototype,"currentSelectionForm",{get:function(){return this._currentSelectionForm.data.form},set:function(t){t=this.updateFormData(t);this._storeSession.setItem(S,t),this._storeSession.setItem(E,this._version),this._currentSelectionForm.data=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currentSelectionFormObservable",{get:function(){return this._currentSelectionForm},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currentSelectionFormData",{get:function(){return this._currentSelectionForm.data},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currentSelectionShowWhole",{get:function(){return this._currentSelectionShowWhole.data},set:function(t){this._storeSession.setItem(T,t),this._storeSession.setItem(E,this._version),this._currentSelectionShowWhole.data=t},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currentSelectionShowWholeObservable",{get:function(){return this._currentSelectionShowWhole},enumerable:!1,configurable:!0}),P.prototype.getCurrentSelectionPartsData=function(e){var r=this;return this.getPartsList(e).map(function(t){return r._currentSelectionParts[e][t].data})},P.prototype.getCurrentSelectionPartsObservables=function(e){var r=this;return this.getPartsList(e).map(function(t){return{form:e,part:t,observable:r._currentSelectionParts[e][t]}})},P.prototype.getCurrentSelectionPartData=function(t,e){return t in this._currentSelectionParts&&e in this._currentSelectionParts[t]?this._currentSelectionParts[t][e].data:void 0},P.prototype.getCurrentSelectionPartsFilterObservables=function(e){var r=this;return this.getPartsList(e).map(function(t){return{form:e,part:t,observable:r._currentSelectionPartsFilter[e][t]}})},P.prototype.getCurrentSelectionPartFilter=function(t,e){return t in this._currentSelectionPartsFilter&&e in this._currentSelectionPartsFilter[t]?this._currentSelectionPartsFilter[t][e].data:void 0},P.prototype.saveCurrentSelection=function(){this._storeSession.setItem(S,this._currentSelectionForm.data),this._storeSession.setItem(T,this._currentSelectionShowWhole.data);for(var t=0,e=this.forms;t<e.length;t++)for(var r=e[t],i=0,n=this.getPartsList(r);i<n.length;i++){var o=n[i],s=P.getStorageKeyCurrentSelectionPart(r,o),a=P.getStorageKeyCurrentSelectionPartFilter(r,o);this._storeSession.setItem(s,this._currentSelectionParts[r][o].data),this._storeSession.setItem(a,this._currentSelectionPartsFilter[r][o].data)}this._storeSession.setItem(E,this._version)},P.prototype.saveSettings=function(){this._storeSession.setItem(w,this._settings.data),this._storeSession.setItem(E,this._version)},P.prototype.initDefaultValues=function(t,e){for(var r=0,i=this.getPartsList(t);r<i.length;r++){var n=i[r];this._currentSelectionParts[t][n].data.flag_name||(this._currentSelectionParts[t][n].data.flag_name=e,this._currentSelectionParts[t][n].data.orientation=o.Orientation.Vertical)}this.updateFormData(t),this.log.debug("initDefaultValues",this._currentSelectionParts,this),this.saveCurrentSelection()},P.prototype.setPartFlagName=function(t,e,r){this._currentSelectionParts[t][e].data.flag_name!==r&&(this._currentSelectionParts[t][e].data.flag_name=r,this.saveCurrentSelection(),this._currentSelectionParts[t][e].notify())},P.prototype.setPartOrientation=function(t,e,r){this._currentSelectionParts[t][e].data.orientation!==r&&(this._currentSelectionParts[t][e].data.orientation=r,this.saveCurrentSelection(),this._currentSelectionParts[t][e].notify())},P.prototype.setPartFlip=function(t,e,r){this._currentSelectionParts[t][e].data.flip!==r&&(this._currentSelectionParts[t][e].data.flip=r,this.saveCurrentSelection(),this._currentSelectionParts[t][e].notify())},P.prototype.setPartFilter=function(t,e,r){this._currentSelectionPartsFilter[t][e].data!==r&&(this._currentSelectionPartsFilter[t][e].data=r,this.saveCurrentSelection())},P.prototype.setPart=function(t,e,r,i,n){void 0===n&&(n=void 0),this._currentSelectionParts[t][e].data.flag_name===r&&this._currentSelectionParts[t][e].data.orientation===i&&this._currentSelectionParts[t][e].data.flip===n||(this._currentSelectionParts[t][e].data.flag_name=r,this._currentSelectionParts[t][e].data.orientation=i,void 0!==n&&(this._currentSelectionParts[t][e].data.flip=n),this.saveCurrentSelection(),this._currentSelectionParts[t][e].notify())},P.prototype.setForm=function(t){this._currentSelectionForm.data.form!==t&&(this._currentSelectionForm.data=this.updateFormData(t),this.saveCurrentSelection())},P.prototype.setShowWhole=function(t){this._currentSelectionShowWhole.data!==t&&(this._currentSelectionShowWhole.data=t,this.saveCurrentSelection())},P.prototype.setCrawsColor=function(t){this._settings.data.craws_color=t,this.saveSettings(),this._settings.notify()},P.prototype.setOutlineColor=function(t){this._settings.data.outline_color=t,this.saveSettings(),this._settings.notify()},P.prototype.showGrid=function(){this._settings.data.show_grid=!0,this.saveSettings(),this._settings.notify()},P.prototype.hideGrid=function(){this._settings.data.show_grid=!1,this.saveSettings(),this._settings.notify()},P.prototype.getPartsList=function(t){return n(x.site.data.flags_config,t)?f(x.site.data.flags_config,t).parts:[]},P.prototype.getOutlineColor=function(t){return n(x.site.data.flags_config,t)?f(x.site.data.flags_config,t).outline:void 0},P.prototype.getCrawColors=function(t){return n(x.site.data.flags_config,t)?f(x.site.data.flags_config,t).craws:[]},Object.defineProperty(P.prototype,"forms",{get:function(){return x.site.data.flags_config.forms},enumerable:!1,configurable:!0}),t=P;function P(){this._settings=new l.DataSubject(new c),this._theme=a.Dark,this._version=x.site.version,this._currentSelectionForm=new l.DataSubject(new d),this._currentSelectionParts={},this._currentSelectionShowWhole=new l.DataSubject(!1),this._currentSelectionPartsFilter={},this._lastFlag=new l.DataSubject(""),this._storeSession=u.default.createInstance({name:"session"}),this.log=h.LoggerManager.create("ApplicationData");for(var t=0,e=this.forms;t<e.length;t++){var r=e[t];this._currentSelectionPartsFilter[r]={},this._currentSelectionParts[r]={};for(var i=0,n=this.getPartsList(r);i<n.length;i++){var o=n[i];this._currentSelectionPartsFilter[r][o]=new l.DataSubject(s.ALL_FILTER),this._currentSelectionParts[r][o]=new l.DataSubject(new p)}}this.log.debug("app data",this._currentSelectionPartsFilter,this._currentSelectionParts,this)}function n(t,e){return e in t}function f(t,e){return e in t?t[e]:void 0}s.ApplicationData=t,s.hasProperty=n,s.getUnsafeProperty=f,s.getProperty=function(t,e){return t[e]},s.setProperty=function(t,e,r){t[e]=r}},{"../observer":90,"../site":91,"./sprite.data":87,localforage:61,"typescript-logger":78}],87:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Orientation=void 0,(r=r.Orientation||(r.Orientation={})).Horizontal="horizontal",r.Vertical="vertical"},{}],88:[function(t,e,r){"use strict";var s=this&&this.__awaiter||function(t,s,a,u){return new(a=a||Promise)(function(r,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,n)}o((u=u.apply(t,s||[])).next())})},u=this&&this.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.FormPartsAdapter=void 0;var d=t("./data/application.data"),a=t("./data/sprite.data"),n=t("typescript-logger"),f=t("./site.value"),o=i(t("list.js"));t("select2");var m=t("./site"),t=(g.prototype.init=function(){this.initObservers(),this.updateUI(this._appData.currentSelectionFormData)},g.prototype.initObservers=function(){var n=this;function t(){}this._appData.currentSelectionFormObservable.attach((t.prototype.update=function(t){n.updateUI(t.data),$(this).prop("disabled",!1),n._fallbackSetFormEnableButton&&(window.clearTimeout(n._fallbackSetFormEnableButton),n._fallbackSetFormEnableButton=void 0)},new t));for(var e=0,r=this._appData.forms;e<r.length;e++){var i=r[e];this._appData.getCurrentSelectionPartsFilterObservables(i).forEach(function(t){var e=t.form,r=t.part;function i(){}t.observable.attach((i.prototype.update=function(t){n.current_form===e&&n.updateFilter(r,t.data)},new i))}),this._appData.getCurrentSelectionPartsObservables(i).forEach(function(t){var r=t.form,i=t.part;function e(){}t.observable.attach((e.prototype.update=function(t){var e;n.updateSelectedPartUI(r,i),n.current_form===r&&(null===(e=n._parts_lists[i])||void 0===e||e.update())},new e))})}function o(){}this._appData.currentSelectionShowWholeObservable.attach((o.prototype.update=function(t){var e=d.WHOLE_PART;null===(e=n._parts_lists[e])||void 0===e||e.update()},new o))},g.prototype.updateUI=function(t){return this._currentForm=t,Promise.all([this.updateUISetForm(t.form),this.updateUISetParts(t),this.updateUIToolbox(t.form)])},g.prototype.updateFilter=function(t,e){e===d.ALL_FILTER?this._parts_lists[t].filter():this._parts_lists[t].filter(function(t){return t.values().category===e}),null===(t=this._parts_lists[t])||void 0===t||t.update()},Object.defineProperty(g.prototype,"filter_list",{get:function(){return[d.ALL_FILTER].concat(m.site.data.flags_config.categories)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"current_form",{get:function(){return this._currentForm.form},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"parts_list",{get:function(){return Object.keys(this._currentForm.parts)},enumerable:!1,configurable:!0}),g.prototype.getListId=function(t,e){return"lstSelect"+t+e},g.prototype.getIconImgHTML=function(t,e){void 0===e&&(e="");var r,i=m.site.base_url+"/"+t.filename,n=[];for(r in t.filename_set){var o=t.filename_set[r];n.push(m.site.base_url+"/"+o+" "+r)}return'<img srcset="'+n.join(",")+'" class="img-fluid '+e+'" src="'+i+'" alt="'+t.name+' Icon">'},g.prototype.getCurrentSelectedSprite=function(t,e){var r=this.getSelectedFlagName(t,e),i=this.getSelectedOrientation(t,e);return void 0!==r&&void 0!==i?this._sprite_data_helper.getSelectableSprite(t,e,r,i):void 0},g.prototype.getSelectedOrientation=function(t,e){return null===(e=this._appData.getCurrentSelectionPartData(t,e))||void 0===e?void 0:e.orientation},g.prototype.getSelectedFlagName=function(t,e){return null===(e=this._appData.getCurrentSelectionPartData(t,e))||void 0===e?void 0:e.flag_name},g.prototype.getSelectedFlip=function(t,e){return null===(e=this._appData.getCurrentSelectionPartData(t,e))||void 0===e?void 0:e.flip},g.prototype.getSelectedFilter=function(t,e){return this._appData.getCurrentSelectionPartFilter(t,e)},g.prototype.updateUIToolbox=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){return this._appData.getOutlineColor(e)?$("form-group-outlines-color").removeClass("d-none"):$("form-group-outlines-color").addClass("d-none"),this._appData.getCrawColors(e)?$("form-group-craws-color").removeClass("d-none"):$("form-group-craws-color").addClass("d-none"),[2]})})},g.prototype.updateUISetForm=function(o){return s(this,void 0,void 0,function(){var e,r,i,n;return u(this,function(t){for($("#lstSelectForm").empty(),e=0,r=m.site.data.flags_config.forms;e<r.length;e++)i=r[e],n=m.site.data.strings.select_form[i],n='<button type="button" class="list-group-item '+(o==i?"active":"")+'" data-form="'+i+'">\n                '+n+"\n            </button>",$("#lstSelectForm").append(n);return this.initEventSetForm(),[2]})})},g.prototype.updateUISetParts=function(a){return s(this,void 0,void 0,function(){var e,r,i,n,o,s;return u(this,function(t){for(e=a.form,$("#lstSelectContainer").empty().html(this.getSelectablePartsHTML(e)),r=0,i=Object.keys(a.parts);r<i.length;r++)s=i[r],this.getListId(e,s),this._parts_lists[s]=this.getSelectablePartsList(e,s),this.initSelectedPartEvents(e,s);for(this.initEventSetParts(),n=0,o=Object.keys(a.parts);n<o.length;n++)s=o[n],this._parts_lists[s].update();return $("#chbShowWholePart").prop("checked",this._appData.currentSelectionShowWhole),[2]})})},g.getSelectFilterId=function(t,e){return"lstSelectFilter"+t+"_"+e},g.getPartNavLinkId=function(t){return"pills-parts-"+t},g.getPartNavLinkTabId=function(t){return"pills-parts-"+t+"-tab"},g.getPartTabId=function(t){return"pills-tab-"+t+"-parts"},g.getPartTabContentId=function(t){return"pills-"+t+"-parts-tabContent"},g.prototype.getSelectablePartsHTML=function(t){for(var e=g.getPartTabId(t),r=g.getPartTabContentId(t),i=(0<this.parts_list.length?this.parts_list[0]:d.WHOLE_PART,""),n="",o=0,s=this.parts_list;o<s.length;o++){var a=s[o];i+=this.getNavLinkHTML(t,a),n+=this.genNavTabContent(t,a)}return'<ul class="nav nav-pills mb-2" id="'+e+'" role="tablist">\n            '+i+'\n        </ul>\n                <div class="tab-content" id="'+r+'">\n                    '+n+"\n                </div>"},g.prototype.getNavLinkHTML=function(t,e){var r=0<this.parts_list.length?this.parts_list[0]:d.WHOLE_PART,i=null!==(a=m.site.data.strings.select_parts[e])&&void 0!==a?a:m.site.data.strings.select_parts.unknown,n=e==r,o=n?"active":"",s=n?"border border-light rounded":"border border-dark rounded",a=g.getPartNavLinkId(e),r=g.getPartNavLinkTabId(e),e=this._sprite_data_helper.getDefaultSprite(t,e);return'<li class="nav-item '+s+'" role="presentation">\n            <a class="nav-link nav-link-parts text-center '+o+'" id="'+r+'" data-toggle="pill" href="#'+a+'" role="tab" aria-controls="'+a+'" aria-selected="'+n+'">\n                <span class="select-part-icon-container">'+(void 0!==e?g.getSelectPartIconHTML(e):"")+"</span>\n                "+i+"\n            </a>\n        </li>\n"},g.prototype.genNavTabContent=function(t,e){var r=e==(0<this.parts_list.length?this.parts_list[0]:d.WHOLE_PART)?"show active":"",i=g.getPartNavLinkId(e),n=g.getPartNavLinkTabId(e),o=this.getCurrentSelectedSprite(t,e),s=null!==(a=this.getSelectedFlip(t,e))&&void 0!==a&&a,a=void 0!==o?this.getSelectedPartHTML(t,e,o,s):"",o=this.getListId(t,e),s="";e==d.WHOLE_PART&&(s='<div class="form-check form-check-inline">\n                <input class="form-check-input" type="checkbox" id="chbShowWholePart" value="'+this._appData.currentSelectionShowWhole+'">\n                <label class="form-check-label" for="chbShowWholePart">'+m.site.data.strings.parts_list.show_whole_label+"</label>\n            </div>");for(var u='<select class="custom-select" id="'+g.getSelectFilterId(t,e)+'" data-placeholder="'+m.site.data.strings.parts_list.filter_label+'" data-form="'+t+'" data-part="'+e+'">',l=0,h=this.filter_list;l<h.length;l++){var c=h[l],p=m.site.data.strings.select_filter[c];p&&(u+="<option "+(this.getSelectedFilter(t,e)==c?"selected":"")+'" data-form="'+t+'" data-part="'+e+'" data-filter="'+c+'" value="'+c+'">\n                    '+p+"\n                </option>")}return'<div class="tab-pane fade '+r+'" id="'+i+'" role="tabpanel" aria-labelledby="'+n+'">\n                <ul class="list-group mb-4">\n                    '+a+'\n                </ul>\n                <div class="my-1 mb-2 part-settings">\n                    '+s+'\n                </div>\n                <div id="'+o+'">\n                    <div class="row mb-2">\n                        <div class="col-12">\n                            <div class="input-group">\n                                '+(u+="</select>")+'\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row mb-2">\n                        <div class="col-12">\n                            <div class="input-group">\n                                <div class="input-group-prepend">\n                                    <span class="input-group-text" id="searchHelp'+o+'"><i class="fas fa-search d-inline"></i></span>\n                                </div>\n                                <input type="text" class="form-control fuzzy-search" id="search'+o+'" aria-label="'+m.site.data.strings.parts_list.search_label+'" aria-describedby="searchHelp'+o+'" placeholder="'+m.site.data.strings.parts_list.search_label+'">\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-12">\n                            <div class="list-group list"></div>\n\n                            <nav class="my-2" aria-label="'+m.site.data.strings.parts_list.pagination_label+'">\n                                <ul class="pagination '+f.PAGINATION_CLASS+' justify-content-center">\n                                </ul>\n                            </nav>\n                        </div>\n                    </div>\n                </div>\n            </div>\n'},g.prototype.getCurrentSelectedPartId=function(t,e){return"btnCurrentPart"+t+"_"+e},g.getSelectPartIconHTML=function(t){return'<img class="img-fluid select-part-icon mx-auto d-block" src="'+m.site.base_url+"/"+t.filename+'" alt="'+t.flag_name+' Part Icon">'},g.prototype.getSelectablePartsList=function(t,e){var r={item:function(t){return'<button type="button" class="list-group-item" data-form="'+t.form+'" data-part="'+t.part+'" data-flag-name="'+t.flag_name+'" data-index="'+t.index+'">\n                <div class="row no-gutters">\n                    <div class="col-2 my-auto"><span class="align-middle">'+t.icon+'</span></div>\n                    <div class="col-7 mx-2 my-auto text-left"><span class="align-middle">'+t.name+"</span></div>\n                </div>\n            </button>"},page:7,pagination:f.LIST_JS_PAGINATION},i=this.getSelectablePartListValues(t,e),e=this.getListId(t,e);return new o.default(e,r,i)},g.prototype.getSelectablePartListValues=function(r,i){var n=this;return m.removeDuplicateObjectFromArray(this._sprite_data_helper.getSelectableSpritesParts(r,i).filter(function(t){return t.flags_fits}),"flag_name").map(function(t,e){return n.getListItemPart(r,i,t,e)}).filter(function(t){return void 0!==t})},g.prototype.getListItemPart=function(t,e,r,i){var n=m.site.data.flags.find(function(t){return t.name==r.flag_name});if(void 0!==n)return this.getListItemValue(t,e,n,i)},g.prototype.getListItemValueOrientationHTML=function(t){switch(t){case a.Orientation.Horizontal:return'<span class="orientation-container">\n                    <i class="fas fa-bars"></i><span class="sr-only">'+m.site.data.strings.orientation.horizontal+"</span>\n                </span>";case a.Orientation.Vertical:return'<span class="orientation-container">\n                    <i class="fas fa-bars fa-rotate-90"></i><span class="sr-only">'+m.site.data.strings.orientation.vertical+"</span>\n                </span>"}},g.prototype.getListItemValueFlipHTML=function(t,e){var r=t?"flipped":"",i=t?'<i class="fas fa-arrow-right"></i>':'<i class="fas fa-arrow-left"></i>';switch(e){case a.Orientation.Horizontal:return'<span class="flip-container '+r+'">\n                    '+i+'<span class="sr-only">'+m.site.data.strings.flip.horizontal+"</span>\n                </span>";case a.Orientation.Vertical:return'<span class="flip-container '+r+'">\n                    '+i+'<span class="sr-only">'+m.site.data.strings.flip.vertical+"</span>\n                </span>"}},g.prototype.getSelectedPartHTML=function(t,e,r,i){var n=r.orientation,o=r.flag_name,s=this.getCurrentSelectedPartId(t,e),a=this.getListItemValueOrientationHTML(n),u=this.getListItemValueFlipHTML(i,n),l="",h="";e==d.WHOLE_PART&&(l=this._appData.currentSelectionShowWhole?"":"disabled",h=this._appData.currentSelectionShowWhole?"":'aria-disabled="true"');r="";return d.ENABLE_FLIP_FEATURE&&(r='<button type="button" class="btn btn-link mx-2 current-selected-part-flip" data-form="'+t+'" data-part="'+e+'" data-flag-name="'+o+'" data-orientation="'+n+'" data-flip="'+i+'">\n                <span class="flip_icon">'+u+"</span>\n            </button>"),'<li class="list-group-item current-selected-part active form part flag_name '+l+'" '+h+' data-form="'+t+'" data-part="'+e+'" data-flag-name="'+o+'" data-orientation="'+n+'" data-flip="'+i+'" id="'+s+'">\n            <div class="row no-gutters">\n                <div class="col-10 my-auto text-left"><span class="name mx-2">'+o+'</span></div>\n                <div class="col-1 my-auto text-right">\n                    '+r+'\n                </div>\n                <div class="col-1 my-auto text-right">\n                    <button type="button" class="btn btn-link mx-2 current-selected-part-orientation" data-form="'+t+'" data-part="'+e+'" data-flag-name="'+o+'" data-orientation="'+n+'" data-flip="'+i+'">\n                        <span class="orientation_icon">'+a+"</span>\n                    </button>\n                </div>\n            </div>\n        </li>"},g.prototype.updateSelectedPartUI=function(i,n){var o;return s(this,void 0,void 0,function(){var e,r;return u(this,function(t){return e=null!==(o=this.getCurrentSelectedSprite(i,n))&&void 0!==o?o:this._sprite_data_helper.getDefaultSprite(i,n),r=null!==(o=this.getSelectedFlip(i,n))&&void 0!==o&&o,void 0!==e&&($("#"+this.getCurrentSelectedPartId(i,n)).replaceWith(this.getSelectedPartHTML(i,n,e,r)),this.initSelectedPartEvents(i,n)),[2]})})},g.prototype.initSelectedPartEvents=function(t,e){var e="#"+this.getCurrentSelectedPartId(t,e),n=this;d.ENABLE_FLIP_FEATURE&&$(e).find(".current-selected-part-flip").on("click",function(){var t=$(this).data("form"),e=$(this).data("part"),r=$(this).data("flag-name"),i=$(this).data("orientation"),r=n.setNewFlip(t,e,r),i=n.getListItemValueFlipHTML(r,i);$(this).data("flip",r),$(this).find(".flip_icon").html(i)}),$(e).find(".current-selected-part-orientation").on("click",function(){var t=$(this).data("form"),e=$(this).data("part"),r=$(this).data("flag-name"),e=n.setNewOrientation(t,e,r),r=n.getListItemValueOrientationHTML(e);$(this).data("orientation",e),$(this).find(".orientation_icon").html(r)})},g.prototype.getListItemValue=function(t,e,r,i){var n=void 0!==r?this.getIconImgHTML(r):"",o=r.name;return{icon:n,name:r.name,form:t,part:e,flag_name:o,index:i,category:r.category}},g.prototype.initEventSetForm=function(){var r=this;$("#lstSelectForm").find(".list-group-item").off("click").on("click",function(){var t=this,e=$(this).data("form");r._appData.currentSelectionForm!==e&&($(this).prop("disabled",!0),r._appData.setForm(e),r._fallbackSetFormEnableButton=window.setTimeout(function(){$(t).prop("disabled",!1),r._fallbackSetFormEnableButton=void 0},1e4))})},g.prototype.initEventSetParts=function(){for(var s=this,t=this,e=0,r=this.parts_list;e<r.length;e++)!function(n){t._parts_lists[n].on("updated",function(o){var t=s._appData.currentSelectionForm,i=s.getSelectedFlagName(t,n);o.items.forEach(function(t,e){var r=t.values().flag_name,t=$(o.list).find('[data-index="'+e+'"]');t.data("flag-name",r);e=n===d.WHOLE_PART&&!s._appData.currentSelectionShowWhole;t.attr("aria-disabled",e.toString()),t.prop("disabled",e),t.removeClass("active"),i===r&&t.addClass("active"),t.off("click").on("click",function(){var t=parseInt($(this).data("index")),e=o.get("index",t)[0],r=e.values(),i=r.form,n=r.flag_name,t=r.part;s.log.debug("click item",{form:i,part:t,flag_name:n,item:e,item_value:r}),s.setNewPart(i,t,n),s._appData.lastFlag=n})})}),$("#"+g.getSelectFilterId(t.current_form,n)).select2({theme:"bootstrap4"}).off("select2:select").on("select2:select",function(){var t=$(this).data("part"),e=null!==(e=$(this).val())&&void 0!==e?e:d.ALL_FILTER;s.log.debug("select filter",{part:t},$(this).val()),s._appData.setPartFilter(s.current_form,t,e)})}(r[e]);$("#chbShowWholePart").on("change",function(){var t=$(this).is(":checked");s._appData.setShowWhole(t)}),$("#"+g.getPartTabId(this.current_form)).on("shown.bs.tab",function(t){var e=$(t.target),t=$(t.relatedTarget);e.parent(".nav-item.border").addClass("border-light").removeClass("border-dark"),t.parent(".nav-item.border").removeClass("border-light").addClass("border-dark")})},g.prototype.setNewPart=function(t,e,r){var i=this._sprite_data_helper.getSelectableSpritesFlag(t,e,r).filter(function(t){return t.flags_fits}),n=i.find(function(t){return t.orientation==a.Orientation.Horizontal}),o=i.find(function(t){return t.orientation==a.Orientation.Vertical}),i=null!==(s=this.getSelectedOrientation(t,e))&&void 0!==s?s:a.Orientation.Vertical,s=i;return this.getSelectedFlagName(t,e)!==r?(n&&i===a.Orientation.Horizontal?s=a.Orientation.Horizontal:o&&i===a.Orientation.Vertical?s=a.Orientation.Vertical:n?s=a.Orientation.Horizontal:o&&(s=a.Orientation.Vertical),this._appData.setPart(t,e,r,s)):(n&&i===a.Orientation.Vertical?s=a.Orientation.Horizontal:o&&i===a.Orientation.Horizontal?s=a.Orientation.Vertical:n?s=a.Orientation.Horizontal:o&&(s=a.Orientation.Vertical),i!==s&&this._appData.setPart(t,e,r,s)),s},g.prototype.setNewOrientation=function(t,e,r){var i=this._sprite_data_helper.getSelectableSpritesFlag(t,e,r).filter(function(t){return t.flags_fits}),n=i.find(function(t){return t.orientation==a.Orientation.Horizontal}),o=i.find(function(t){return t.orientation==a.Orientation.Vertical}),i=null!==(s=this.getSelectedOrientation(t,e))&&void 0!==s?s:a.Orientation.Vertical,s=i;return this.getSelectedFlagName(t,e)!==r?(n&&i===a.Orientation.Horizontal?s=a.Orientation.Horizontal:o&&i===a.Orientation.Vertical?s=a.Orientation.Vertical:n?s=a.Orientation.Horizontal:o&&(s=a.Orientation.Vertical),this._appData.setPartOrientation(t,e,s)):(n&&i===a.Orientation.Vertical?s=a.Orientation.Horizontal:o&&i===a.Orientation.Horizontal?s=a.Orientation.Vertical:n?s=a.Orientation.Horizontal:o&&(s=a.Orientation.Vertical),i!==s&&this._appData.setPartOrientation(t,e,s)),s},g.prototype.setNewFlip=function(t,e,r){var i=!(null!==(i=this.getSelectedFlip(t,e))&&void 0!==i&&i);return this._appData.setPartFlip(t,e,i),i},g);function g(t,e){this._parts_lists={},this._fallbackSetFormEnableButton=void 0,this._currentForm=new d.CurrentSelectionForm,this.log=n.LoggerManager.create("FormPartsAdapter"),this._appData=t,this._sprite_data_helper=e,this._currentForm=this._appData.currentSelectionFormData}r.FormPartsAdapter=t},{"./data/application.data":86,"./data/sprite.data":87,"./site":91,"./site.value":92,"list.js":45,select2:73,"typescript-logger":78}],89:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("./application"),n=t("typescript-logger");$(function(){n.LoggerManager.setProductionMode(),(new i.Application).init()})},{"./application":84,"typescript-logger":78}],90:[function(t,e,r){"use strict";var o=this&&this.__awaiter||function(t,s,a,u){return new(a=a||Promise)(function(r,e){function i(t){try{o(u.next(t))}catch(t){e(t)}}function n(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?r(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,n)}o((u=u.apply(t,s||[])).next())})},s=this&&this.__generator||function(r,i){var n,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(r,a)}catch(t){e=[6,t],o=0}finally{n=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.DataListSubject=r.DataSubject=void 0;var i=t("typescript-logger"),t=(Object.defineProperty(n.prototype,"data",{get:function(){return this._state},set:function(t){this._state=t,this.notify()},enumerable:!1,configurable:!0}),n.prototype.let=function(t){return this._state=t(this._state),this.notify(),this._state},n.prototype.attach=function(t){this.observers.includes(t)?this.log.warn("Subject: Observer has been attached already."):(this.log.debug("Subject: Attached an observer.",t),this.observers.push(t))},n.prototype.detach=function(t){var e=this.observers.indexOf(t);-1!==e?(this.observers=this.observers.splice(e,1),this.log.debug("Subject: Detached an observer.",t)):this.log.warn("Subject: Nonexistent observer.")},n.prototype.notify=function(){var i=this;return this.log.debug("Subject: Notifying observers...",this._state),Promise.all(this.observers.map(function(r){return new Promise(function(t,e){try{t(r.update(i))}catch(t){e(t)}})}))},n);function n(t){this.observers=[],this.log=i.LoggerManager.create("Observer:DataSubject"),this._state=t}r.DataSubject=t;Object.defineProperty(a.prototype,"data",{get:function(){return this._state},set:function(t){this._state=t,this.notify()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._state.length},enumerable:!1,configurable:!0}),a.prototype.clear=function(){this.data=[]},a.prototype.last=function(){return 0<this._state.length?this._state[this._state.length-1]:void 0},a.prototype.get=function(t){return this._state[t]},a.prototype.find=function(t,e){return this._state.find(t,e)},a.prototype.findIndex=function(t,e){return this._state.findIndex(t,e)},a.prototype.let=function(t,e){0<=t&&t<this._state.length&&void 0!==this._state[t]&&(void 0!==(e=e(this._state[t],t))?(this._state[t]=e,this.notifyItem(e,t)):(e=this._state[t],this._state.splice(t,1),this.notifyRemovedItem(e)))},a.prototype.lets=function(r){0<this._state.length&&(this._state=this._state.map(function(t,e){return r(t,e)}).filter(function(t){return void 0!==t}),this.notify())},a.prototype.forEach=function(t,e){this._state.forEach(t,e)},a.prototype.set=function(t,e){0<=t&&t<this._state.length&&(this._state[t]=e,this.notifyItem(e,t))},a.prototype.push=function(t){this._state.push(t),this.notifyAddedItem(this._state[this._state.length-1])},a.prototype.remove=function(t){var e;0<=t&&t<this._state.length&&(e=this._state[t],this._state.splice(t,1),this.notifyRemovedItem(e))},a.prototype.attach=function(t){this.observers.includes(t)?this.log.warn("Subject: Observer has been attached already."):(this.log.debug("Subject: Attached an observer.",t),this.observers.push(t))},a.prototype.detach=function(t){var e=this.observers.indexOf(t);-1!==e?(this.observers=this.observers.splice(e,1),this.log.debug("Subject: Detached an observer.",t)):this.log.warn("Subject: Nonexistent observer.")},a.prototype.notify=function(){return o(this,void 0,void 0,function(){var e,r;return s(this,function(t){for(this.log.debug("Subject: Notifying observers...",this._state),e=0,r=this.observers;e<r.length;e++)r[e].update(this);return[2]})})},a.prototype.notifyItem=function(i,n){return o(this,void 0,void 0,function(){var e,r;return s(this,function(t){for(this.log.debug("Subject: Notifying observers, Item...",this._state,n),e=0,r=this.observers;e<r.length;e++)r[e].updateItem(this,i,n);return[2]})})},a.prototype.notifyAddedItem=function(i){return o(this,void 0,void 0,function(){var e,r;return s(this,function(t){for(this.log.debug("Subject: Notifying observers, AddedItem...",this._state,i),e=0,r=this.observers;e<r.length;e++)r[e].updateAddedItem(this,i);return[2]})})},a.prototype.notifyRemovedItem=function(i){return o(this,void 0,void 0,function(){var e,r;return s(this,function(t){for(this.log.debug("Subject: Notifying observers, RemovedItem...",this._state,i),e=0,r=this.observers;e<r.length;e++)r[e].updateRemovedItem(this,i);return[2]})})},t=a;function a(t){void 0===t&&(t=[]),this._state=[],this.observers=[],this.log=i.LoggerManager.create("Observer:ListDataSubject"),this._state=t}r.DataListSubject=t},{"typescript-logger":78}],91:[function(t,e,r){"use strict";String.prototype.format=function(){var i=arguments,n=0;return this.replace(/\{(\w*)\}/g,function(t,e){if(""===e&&(e=n,n++),e==+e)return"undefined"!==i[e]?i[e]:t;for(var r=0;r<i.length;r++)if("object"==typeof i[r]&&void 0!==i[r][e])return i[r][e];return t})};Number.prototype.clamp=function(t,e){return Math.min(Math.max(this,t),e)},e.exports={site:site,USE_CACHE:USE_CACHE,getUrlParameter:function(t){for(var e,r=window.location.search.substring(1).split("&"),i=0;i<r.length;i++)if((e=r[i].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1])},isOnScreen:function(t,e,r){void 0===e&&(e=1),void 0===r&&(r=1);var i=$(window),n={top:i.scrollTop(),left:i.scrollLeft()};n.right=n.left+i.width(),n.bottom=n.top+i.height();i=$(t).offset();return i.right=i.left+$(t).outerWidth()*e,i.bottom=i.top+$(t).outerHeight()*r,!(i.left>=n.left&&i.top>=n.top&&i.right<=n.right&&i.bottom<=n.bottom)},countlines:function(t){return null!==t&&""!==t?t.split(/\r\n|\r|\n/).length:0},makeDoubleClick:function(t,e,r){var i=0,n=!1;t.on("click",function(t){var e=this;i=setTimeout(function(){n||r(e),n=!1},250)}).on("dblclick",function(t){clearTimeout(i),n=!0,e(this)})},clamp:function(t,e,r){return Math.min(Math.max(t,e),r)},removeDuplicateObjectFromArray:function(t,e){var r=new Set;return t.filter(function(t){return!r.has(t[e])&&r.add(t[e])})}}},{}],92:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LIST_JS_PAGINATION=r.PAGINATION_CLASS=void 0,r.PAGINATION_CLASS="paginationBottom",r.LIST_JS_PAGINATION=[{paginationClass:r.PAGINATION_CLASS,innerWindow:5,left:2,right:2,item:'<li class="page-item"><a class="page page-link" href="#/"></a></li>'}]},{}],93:[function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.SpriteAdapter=void 0;var s=t("pixi.js"),o=t("typescript-logger"),l=t("./data/application.data"),h=t("./data/sprite.data"),a=t("./site"),u=i(t("tinycolor2")),t=(n.prototype.init=function(t,e){var r=this,i=t.form,t=t.parts;this._resources=e,this.updateParts(i,t),this._grid_out=new PixiJSGrid(this._parts_container.width),this._grid_in=new PixiJSGrid(this._parts_container.width),this._grids.addChild(this._grid_out),this._grids.addChild(this._grid_in),this._pixiApp.stage.addChild(this._parts_container),this._pixiApp.stage.addChild(this._grids),this._pixiApp.ticker.add(function(){r._pixiApp.renderer.render(r._parts_container),r._appData.settings.show_grid?(r._grid_out.drawGrid(),r._grid_in.drawGrid()):(r._grid_in.clearGrid(),r._grid_out.clearGrid())});var n=this;window.addEventListener("resize",function(){n.log.debug("resize"),n.updateSprite()}),this.updateSprite(),this.initObservers()},n.prototype.updatePart=function(t,e,r){this.setPart(t,e,null!==(e=r.flag_name)&&void 0!==e?e:l.DEFAULT_FLAG_NAME_NONE,r.orientation,r.flip,!1),this.updateSprite(),this.updateDownloadButton(),this.notifyPartsCanvas()},n.prototype.updateParts=function(t,e){this._parts_container.removeChildren();for(var r=0,i=Object.keys(e);r<i.length;r++){var n,o=i[r],s=e[o],a=null!==(u=s.orientation)&&void 0!==u?u:h.Orientation.Vertical,u=null!==(u=s.flip)&&void 0!==u&&u;void 0!==s?(this.setPart(t,o,null!==(s=s.flag_name)&&void 0!==s?s:l.DEFAULT_FLAG_NAME_NONE,a,u,!1),(o in this._sprites&&o!==l.WHOLE_PART&&!this._appData.currentSelectionShowWhole||o==l.WHOLE_PART&&this._appData.currentSelectionShowWhole)&&this._parts_container.addChild(this._sprites[o])):this.log.warn("updateParts","no sprite data for "+o),this._appData.settings.craws_color&&(n=this.setCraws(t,o,a,u,this._appData.settings.craws_color,!1))&&this._parts_container.addChild(n),!this._appData.settings.outline_color||(u=this.setOutline(t,o,a,u,this._appData.settings.outline_color,!1))&&this._parts_container.addChild(u)}this.updateSprite(),this.updateDownloadButton(),this.notifyPartsCanvas()},n.prototype.updateDownloadButton=function(){var i=this;this._pixiApp.renderer.extract.canvas(this._parts_container).toBlob(function(t){var e,r;i._downloadButton&&(e=i._appData.currentSelectionForm,(r=$(i._downloadButton)).attr("download",e),r.attr("href",URL.createObjectURL(t)))},"image/png"),this._pixiApp.renderer.extract.canvas(this._pixiApp.stage).toBlob(function(t){var e,r;i._downloadFullButton&&(e=i._appData.currentSelectionForm,(r=$(i._downloadFullButton)).attr("download",e),r.attr("href",URL.createObjectURL(t)))},"image/png")},n.prototype.notifyPartsCanvas=function(){this._parts_canvas.data={width:this._parts_container.width,height:this._parts_container.height,uint8Array:this._pixiApp.renderer.extract.pixels(this._parts_container)}},n.prototype.setPart=function(e,r,i,n,t,o){var s;void 0===o&&(o=!0),void 0!==this._resources&&(s=a.site.data.sprites.find(function(t){return t.flag_name==i&&t.form==e&&t.part==r&&t.orientation==n}),this.setPartSprite(s,e,i,r,n,t,o))},n.prototype.setCraws=function(e,r,i,t,n,o){if(void 0===n&&(n=l.DEFAULT_CRAWS_COLOR),void 0===o&&(o=!0),void 0!==this._resources){var s=a.site.data.sprites.find(function(t){return t.craws&&t.form==e&&t.part==r&&t.orientation==i});if(void 0!==s){o=this.setSpriteTexture(this.CRAWS_SPRITE_NAME,s,i,t,o);return o&&(o.tint=parseInt("0x"+u.default(n).toHex())),o}this.clearSpriteTexture(this.CRAWS_SPRITE_NAME)}},n.prototype.setOutline=function(e,r,i,t,n,o){if(void 0===n&&(n=l.DEFAULT_OUTLINE_COLOR),void 0===o&&(o=!0),void 0!==this._resources){var s=a.site.data.sprites.find(function(t){return t.outlines&&t.form==e&&t.part==r&&t.orientation==i});if(void 0!==s){o=this.setSpriteTexture(this.OUTLINE_SPRITE_NAME,s,i,t,o);return o&&(o.tint=parseInt("0x"+u.default(n).toHex())),o}this.clearSpriteTexture(this.OUTLINE_SPRITE_NAME)}},n.prototype.initObservers=function(){var n=this;function t(){}this._appData.currentSelectionFormObservable.attach((t.prototype.update=function(t){n._currentForm=t.data,n.updateParts(n._currentForm.form,n._currentForm.parts)},new t));for(var e=0,r=this._appData.forms;e<r.length;e++){var i=r[e];this._appData.getCurrentSelectionPartsObservables(i).forEach(function(t){var e=t.form,r=t.part;function i(){}t.observable.attach((i.prototype.update=function(t){n.updatePart(e,r,t.data)},new i))})}function o(){}function s(){}this._appData.settingsObservable.attach((s.prototype.update=function(t){n._show_grid=t.data.show_grid,n.updateParts(n._currentForm.form,n._currentForm.parts),n.updateGrid(t.data.show_grid)},new s)),this._appData.currentSelectionShowWholeObservable.attach((o.prototype.update=function(t){n.updateParts(n._currentForm.form,n._currentForm.parts)},new o))},n.prototype.setPartSprite=function(t,e,r,i,n,o,s){if(void 0===s&&(s=!0),void 0!==this._resources){if(void 0!==t)return this.setSpriteTexture(i,t,n,o,s);this.clearSpriteTexture(i),this.log.warn("setPart",r+" "+i+" "+n+" not found in meta")}},n.prototype.clearSpriteTexture=function(t){t in this._sprites&&(this._parts_container.removeChild(this._sprites[t]),delete this._sprites[t])},n.prototype.setSpriteTexture=function(t,e,r,i,n){if(void 0===n&&(n=!0),void 0!==this._resources){var o=this._resources[e.sheet];if(null!=o&&void 0!==o.textures){o=o.textures[e.id];if(t in this._sprites?this._sprites[t].texture=o:this._sprites[t]=new s.Sprite(o),this._sprites[t].texture.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST,l.ENABLE_FLIP_FEATURE){switch(this._sprites[t].scale.x=1,this._sprites[t].scale.y=1,this._sprites[t].anchor.x=.5,this._sprites[t].anchor.y=.5,r){case h.Orientation.Horizontal:this._sprites[t].scale.x=i?-1:1;break;case h.Orientation.Vertical:this._sprites[t].scale.y=i?-1:1}this._sprites[t].x=this._sprites[t].width/2,this._sprites[t].y=this._sprites[t].height/2}return n&&this.updateSprite(),this._sprites[t].texture.baseTexture.update(),this._sprites[t].texture.update(),this.log.debug("setSpriteTexture",{sprite_name:t,orientation:r,flip:i,update_sprite:n},this._sprites[t]),this._sprites[t]}this.log.warn("setSpriteTexture",e.sheet+" not found or no textures",this._resources[e.sheet])}},n.prototype.updateSprite=function(){var t=32<=this._pixiApp.screen.width?16:8<=this._pixiApp.screen.width?8:0,e=32<=this._pixiApp.screen.height?16:8<=this._pixiApp.screen.height?8:0,t=this._pixiApp.screen.width-t,e=this._pixiApp.screen.height-e;this._parts_container.width=Math.min(t,e),this._parts_container.height=Math.min(t,e),this._parts_container.position.set(this._pixiApp.screen.width/2-this._parts_container.width/2,this._pixiApp.screen.height/2-this._parts_container.height/2),this.log.debug("updateSprite: window",t,e),this.log.debug("updateSprite: sprites",this._parts_container.x,this._parts_container.y,this._parts_container.width,this._parts_container.height,this._parts_container),this._grid_in=new PixiJSGrid(this._parts_container.width),this._grid_out=new PixiJSGrid(this._parts_container.width),this.updateGrid(this._show_grid)},n.prototype.updateGrid=function(t){this._show_grid=t,this._grids.position=this._parts_container.position,this._grid_in.cellSize=this._parts_container.scale.x,this._grid_out.cellSize=this._parts_container.scale.x,this._grid_in.blendMode=PIXI.BLEND_MODES.SRC_OUT,this._grid_out.blendMode=PIXI.BLEND_MODES.SUBTRACT,this._grids.removeChildren(),this._show_grid?(this._grids.addChild(this._grid_out),this._grids.addChild(this._grid_in),this._grid_out.drawGrid(),this._grid_in.drawGrid()):(this._grid_in.clearGrid(),this._grid_out.clearGrid())},n);function n(t,e,r,i,n){void 0===i&&(i=void 0),void 0===n&&(n=void 0),this._sprites={},this._parts_container=new s.Container,this._grid_in=new PixiJSGrid(0),this._grid_out=new PixiJSGrid(0),this._grids=new s.Container,this._currentForm=new l.CurrentSelectionForm,this._show_grid=!1,this.log=o.LoggerManager.create("SpriteAdapter"),this.OUTLINE_SPRITE_NAME="outline",this.CRAWS_SPRITE_NAME="craws",this._pixiApp=t,this._appData=e,this._downloadButton=i,this._downloadFullButton=n,this._currentForm=this._appData.currentSelectionFormData,this._show_grid=this._appData.settings.show_grid,this._parts_canvas=r}r.SpriteAdapter=t},{"./data/application.data":86,"./data/sprite.data":87,"./site":91,"pixi.js":66,tinycolor2:76,"typescript-logger":78}],94:[function(t,e,i){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.SpriteDataHelper=i.FLAG_NAME_NONE_DEFAULT=void 0;var u=t("./site"),n=r(t("memory-cache")),l=t("./data/sprite.data");i.FLAG_NAME_NONE_DEFAULT="None";o.prototype.setup=function(t,e){return this.warmUpCache(t,e)},o.prototype.getDefaultFlagName=function(t){var e=this.DEFAULT_FLAG_NAME_KEY+"_"+t,r=this._cacheFlagNames.get(e);return r||(r=null!==(t=null===(t=u.site.data.sprites.find(function(t){return t.default}))||void 0===t?void 0:t.flag_name)&&void 0!==t?t:i.FLAG_NAME_NONE_DEFAULT,this._cacheFlagNames.put(e,r),r)},o.prototype.getSelectableSprites=function(e){var t=this.SELECTABLE_SPRITES_KEY+"_"+e,r=this._cacheSpriteMetaData.get(t);return r||(r=u.site.data.sprites.filter(function(t){return!(t.form!=e||void 0!==t.mask&&t.mask||void 0!==t.craws&&t.craws||void 0!==t.outlines&&t.outlines)}).sort(function(t,e){return t.default?1:e.default||t.flag_name>e.flag_name?-1:t.flag_name<e.flag_name?1:0}).reverse(),this._cacheSpriteMetaData.put(t,r),r)},o.prototype.getSelectableSpritesParts=function(t,e){var r=this.SELECTABLE_PARTS_KEY+"_"+t+"_"+e,i=this._cacheSpriteMetaData.get(r);return i||(i=this.getSelectableSprites(t).filter(function(t){return t.part==e}),this._cacheSpriteMetaData.put(r,i),i)},o.prototype.getSelectableSpritesFlag=function(t,e,r){var i=this.SELECTABLE_PARTS_KEY+"_"+t+"_"+e+"_"+r,n=this._cacheSpriteMetaData.get(i);return n||(n=this.getSelectableSpritesParts(t,e).filter(function(t){return t.flag_name==r}),this._cacheSpriteMetaData.put(i,n),n)},o.prototype.getSelectableSprite=function(t,e,r,i){var n=this.SELECTABLE_PARTS_KEY+"_"+t+"_"+e+"_"+r+"_"+i,o=this._cacheSpriteMetaData.get(n);return o&&0<o.length?o[0]:(o=this.getSelectableSpritesFlag(t,e,r).filter(function(t){return t.orientation==i}),this._cacheSpriteMetaData.put(n,o),0<o.length?o[0]:void 0)},o.prototype.getMaskSprite=function(e,r){var t=this.MASK_SPRITE_KEY+"_"+e+"_"+r,i=this._cacheSpriteMetaData.get(t);return i&&0<i.length?i[0]:(i=u.site.data.sprites.filter(function(t){return t.form==e&&t.part==r&&void 0!==t.mask&&t.mask}),this._cacheSpriteMetaData.put(t,i),0<i.length?i[0]:void 0)},o.prototype.getDefaultSprite=function(e,r){var t=this.DEFAULT_SPRITE_KEY+"_"+e+"_"+r,i=this._cacheSpriteMetaData.get(t);return i&&0<i.length?i[0]:(i=u.site.data.sprites.filter(function(t){return t.form==e&&t.part==r&&void 0!==t.default&&t.default}),this._cacheSpriteMetaData.put(t,i),0<i.length?i[0]:void 0)},o.prototype.getFlagData=function(e){var t,r=this.FLAG_DATA_KEY+"_"+e,i=this._cacheFlagData.get(r);return i||((i=null!==(t=u.site.data.flags.find(function(t){return t.name==e}))&&void 0!==t?t:null)&&this._cacheFlagData.put(r,i),i)},o.prototype.warmUpCache=function(s,t){var a=this,t=t.map(function(o){return new Promise(function(t,e){try{a.getSelectableSpritesParts(s,o),a.getDefaultSprite(s,o),a.getMaskSprite(s,o);for(var r=0,i=u.site.data.flags.map(function(t){return t.name});r<i.length;r++){var n=i[r];a.getFlagData(n),a.getSelectableSpritesFlag(s,o,n),a.getSelectableSprite(s,o,n,l.Orientation.Horizontal),a.getSelectableSprite(s,o,n,l.Orientation.Vertical)}t(!0)}catch(t){e(t)}})});return Promise.all(t)},t=o;function o(){this._cacheFlagData=new n.default.Cache,this._cacheSpriteMetaData=new n.default.Cache,this._cacheFlagNames=new n.default.Cache,this.DEFAULT_FLAG_NAME_KEY="default_flag_name",this.MASK_SPRITE_KEY="mask_sprite",this.DEFAULT_SPRITE_KEY="default_sprite",this.SELECTABLE_SPRITES_KEY="selectable_sprites",this.SELECTABLE_PARTS_KEY="selectable_parts",this.FLAG_DATA_KEY="flag_data"}i.SpriteDataHelper=t},{"./data/sprite.data":87,"./site":91,"memory-cache":62}]},{},[89]);
