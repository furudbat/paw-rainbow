!function r(o,i,a){function s(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(c,t,n){(function(r){(function(){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).localforage=e()}(function(){return function r(o,i,a){function s(n,e){if(!i[n]){if(!o[n]){var t="function"==typeof c&&c;if(!e&&t)return t(n,!0);if(u)return u(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=i[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,r,o,i,a)}return i[n].exports}for(var u="function"==typeof c&&c,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,c,t){(function(t){"use strict";var e,n,r,o,i=t.MutationObserver||t.WebKitMutationObserver,a=i?(e=0,i=new i(u),n=t.document.createTextNode(""),i.observe(n,{characterData:!0}),function(){n.data=e=++e%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)}:((r=new t.MessageChannel).port1.onmessage=u,function(){r.port2.postMessage(0)}),s=[];function u(){var e,t;o=!0;for(var n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}o=!1}c.exports=function(e){1!==s.push(e)||o||a()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var o=e(1);function u(){}var c={},i=["REJECTED"],a=["FULFILLED"],r=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,e!==u&&h(this,e)}function f(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(t,n,r){o(function(){var e;try{e=n(r)}catch(e){return c.reject(t,e)}e===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,e)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,c.reject(t,e))}function o(e){n||(n=!0,c.resolve(t,e))}var i=v(function(){e(o,r)});"error"===i.status&&r(i.value)}function v(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===i)return this;var n=new this.constructor(u);return this.state!==r?l(n,this.state===a?e:t,this.outcome):this.queue.push(new f(n,e,t)),n},f.prototype.callFulfilled=function(e){c.resolve(this.promise,e)},f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},f.prototype.callRejected=function(e){c.reject(this.promise,e)},f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},c.resolve=function(e,t){var n=v(d,t);if("error"===n.status)return c.reject(e,n.value);n=n.value;if(n)h(e,n);else{e.state=a,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},c.reject=function(e,t){e.state=i,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return c.resolve(new this(u),e)},s.reject=function(e){var t=new this(u);return c.reject(t,e)},s.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);var i=new Array(r),a=0,t=-1,s=new this(u);for(;++t<r;)!function(e,t){n.resolve(e).then(function(e){i[t]=e,++a!==r||o||(o=!0,c.resolve(s,i))},function(e){o||(o=!0,c.reject(s,e))})}(e[t],t);return s},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var o=-1,i=new this(u);for(;++o<n;)!function(e){t.resolve(e).then(function(e){r||(r=!0,c.resolve(i,e))},function(e){r||(r=!0,c.reject(i,e))})}(e[o]);return i}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var f=Promise;function l(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function d(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",o=void 0,h={},v=Object.prototype.toString,p="readonly",g="readwrite";function y(e){return"boolean"==typeof o?f.resolve(o):(r=e,new f(function(n){var e=r.transaction(a,g),t=i([""]);e.objectStore(a).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1}).then(function(e){return o=e}));var r}function b(e){var e=h[e.name],n={};n.promise=new f(function(e,t){n.resolve=e,n.reject=t}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function m(e){e=h[e.name].deferredOperations.pop();return e&&(e.resolve(),e.promise)}function _(e,t){e=h[e.name].deferredOperations.pop();if(e)return e.reject(t),e.promise}function w(o,i){return new f(function(e,t){if(h[o.name]=h[o.name]||M(),o.db){if(!i)return e(o.db);b(o),o.db.close()}var n=[o.name];i&&n.push(o.version);var r=s.open.apply(s,n);i&&(r.onupgradeneeded=function(t){var e=r.result;try{e.createObjectStore(o.storeName),t.oldVersion<=1&&e.createObjectStore(a)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+o.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),r.onerror=function(e){e.preventDefault(),t(r.error)},r.onsuccess=function(){e(r.result),m(o)}})}function S(e){return w(e,!1)}function I(e){return w(e,!0)}function E(e,t){if(!e.db)return 1;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;return r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),(o||n)&&(!n||(n=e.db.version+1)>e.version&&(e.version=n),1)}function O(e){return i([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data))],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function N(e){var t=this,n=t._initReady().then(function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function D(t,n,r,o){void 0===o&&(o=1);try{var e=t.db.transaction(t.storeName,n);r(null,e)}catch(e){if(0<o&&(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return f.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),I(t)}).then(function(){return function(n){b(n);for(var r=h[n.name],o=r.forages,e=0;e<o.length;e++){var t=o[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return n.db=null,S(n).then(function(e){return n.db=e,E(n)?I(n):e}).then(function(e){n.db=r.db=e;for(var t=0;t<o.length;t++)o[t]._dbInfo.db=e}).catch(function(e){throw _(n,e),e})}(t).then(function(){D(t,n,r,o-1)})}).catch(r);r(e)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var A={_driver:"asyncStorage",_initStorage:function(e){var r=this,o={db:null};if(e)for(var t in e)o[t]=e[t];var i=h[o.name];i||(i=M(),h[o.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=N);var n=[];function a(){return f.resolve()}for(var s=0;s<i.forages.length;s++){var u=i.forages[s];u!==r&&n.push(u._initReady().catch(a))}var c=i.forages.slice(0);return f.all(n).then(function(){return o.db=i.db,S(o)}).then(function(e){return o.db=e,E(o,r._defaultConfig.version)?I(o):e}).then(function(e){o.db=i.db=e,r._dbInfo=o;for(var t=0;t<c.length;t++){var n=c[t];n!==r&&(n._dbInfo.db=o.db,n._dbInfo.version=o.version)}})},_support:function(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(a,e){var s=this,t=new f(function(o,i){s.ready().then(function(){D(s._dbInfo,p,function(e,t){if(e)return i(e);try{var n=t.objectStore(s._dbInfo.storeName).openCursor(),r=1;n.onsuccess=function(){var e,t=n.result;t?(j(e=t.value)&&(e=O(e)),void 0!==(e=a(e,t.key,r++))?o(e):t.continue()):o()},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)});return l(t,e),t},getItem:function(i,e){var a=this;i=d(i);var t=new f(function(r,o){a.ready().then(function(){D(a._dbInfo,p,function(e,t){if(e)return o(e);try{var n=t.objectStore(a._dbInfo.storeName).get(i);n.onsuccess=function(){var e=n.result;void 0===e&&(e=null),j(e)&&(e=O(e)),r(e)},n.onerror=function(){o(n.error)}}catch(e){o(e)}})}).catch(o)});return l(t,e),t},setItem:function(s,t,e){var u=this;s=d(s);var n=new f(function(i,a){var e;u.ready().then(function(){return e=u._dbInfo,"[object Blob]"===v.call(t)?y(e.db).then(function(e){return e?t:(r=t,new f(function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){e=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:e,type:r.type})},n.readAsBinaryString(r)}));var r}):t}).then(function(o){D(u._dbInfo,g,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName);null===o&&(o=void 0);var r=n.put(o,s);t.oncomplete=function(){void 0===o&&(o=null),i(o)},t.onabort=t.onerror=function(){var e=r.error||r.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)});return l(n,e),n},removeItem:function(i,e){var a=this;i=d(i);var t=new f(function(r,o){a.ready().then(function(){D(a._dbInfo,g,function(e,t){if(e)return o(e);try{var n=t.objectStore(a._dbInfo.storeName).delete(i);t.oncomplete=function(){r()},t.onerror=function(){o(n.error)},t.onabort=function(){var e=n.error||n.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return l(t,e),t},clear:function(e){var i=this,t=new f(function(r,o){i.ready().then(function(){D(i._dbInfo,g,function(e,t){if(e)return o(e);try{var n=t.objectStore(i._dbInfo.storeName).clear();t.oncomplete=function(){r()},t.onabort=t.onerror=function(){var e=n.error||n.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return l(t,e),t},length:function(e){var i=this,t=new f(function(r,o){i.ready().then(function(){D(i._dbInfo,p,function(e,t){if(e)return o(e);try{var n=t.objectStore(i._dbInfo.storeName).count();n.onsuccess=function(){r(n.result)},n.onerror=function(){o(n.error)}}catch(e){o(e)}})}).catch(o)});return l(t,e),t},key:function(s,e){var u=this,t=new f(function(i,a){s<0?i(null):u.ready().then(function(){D(u._dbInfo,p,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName),r=!1,o=n.openKeyCursor();o.onsuccess=function(){var e=o.result;e?0===s||r?i(e.key):(r=!0,e.advance(s)):i(null)},o.onerror=function(){a(o.error)}}catch(e){a(e)}})}).catch(a)});return l(t,e),t},keys:function(e){var a=this,t=new f(function(o,i){a.ready().then(function(){D(a._dbInfo,p,function(e,t){if(e)return i(e);try{var n=t.objectStore(a._dbInfo.storeName).openKeyCursor(),r=[];n.onsuccess=function(){var e=n.result;e?(r.push(e.key),e.continue()):o(r)},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)});return l(t,e),t},dropInstance:function(a,e){e=c.apply(this,arguments);var t,n=this.config();return(a="function"!=typeof a&&a||{}).name||(a.name=a.name||n.name,a.storeName=a.storeName||n.storeName),l(t=a.name?(t=a.name===n.name&&this._dbInfo.db?f.resolve(this._dbInfo.db):S(a).then(function(e){var t=h[a.name],n=t.forages;t.db=e;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=e;return e}),a.storeName?t.then(function(e){if(e.objectStoreNames.contains(a.storeName)){var o=e.version+1;b(a);var r=h[a.name],i=r.forages;e.close();for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=null,n._dbInfo.version=o}return new f(function(t,n){var r=s.open(a.name,o);r.onerror=function(e){r.result.close(),n(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(a.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,m(n._dbInfo)}}).catch(function(e){throw(_(a,e)||f.resolve()).catch(function(){}),e})}}):t.then(function(e){b(a);var n=h[a.name],r=n.forages;e.close();for(var t=0;t<r.length;t++)r[t]._dbInfo.db=null;return new f(function(t,n){var r=s.deleteDatabase(a.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)m(r[t]._dbInfo)}).catch(function(e){throw(_(a,e)||f.resolve()).catch(function(){}),e})})):f.reject("Invalid arguments"),e),t}};var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=/^~~local_forage_type~([^~]+)~/,x="__lfsc__:",L=x.length,T="arbf",C="blob",B=L+T.length,P=Object.prototype.toString;function F(e){var t,n,r,o,i=.75*e.length,a=e.length,s=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);for(var i=new ArrayBuffer(i),u=new Uint8Array(i),c=0;c<a;c+=4)t=R.indexOf(e[c]),n=R.indexOf(e[c+1]),r=R.indexOf(e[c+2]),o=R.indexOf(e[c+3]),u[s++]=t<<2|n>>4,u[s++]=(15&n)<<4|r>>2,u[s++]=(3&r)<<6|63&o;return i}function U(e){for(var t=new Uint8Array(e),n="",r=0;r<t.length;r+=3)n+=R[t[r]>>2],n+=R[(3&t[r])<<4|t[r+1]>>4],n+=R[(15&t[r+1])<<2|t[r+2]>>6],n+=R[63&t[r+2]];return t.length%3==2?n=n.substring(0,n.length-1)+"=":t.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var z={serialize:function(t,n){var e="";if(t&&(e=P.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===P.call(t.buffer))){var r,o=x;t instanceof ArrayBuffer?(r=t,o+=T):(r=t.buffer,"[object Int8Array]"===e?o+="si08":"[object Uint8Array]"===e?o+="ui08":"[object Uint8ClampedArray]"===e?o+="uic8":"[object Int16Array]"===e?o+="si16":"[object Uint16Array]"===e?o+="ur16":"[object Int32Array]"===e?o+="si32":"[object Uint32Array]"===e?o+="ui32":"[object Float32Array]"===e?o+="fl32":"[object Float64Array]"===e?o+="fl64":n(new Error("Failed to get type for BinaryArray"))),n(o+U(r))}else if("[object Blob]"===e){e=new FileReader;e.onload=function(){var e="~~local_forage_type~"+t.type+"~"+U(this.result);n(x+C+e)},e.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),n(null,e)}},deserialize:function(e){if(e.substring(0,L)!==x)return JSON.parse(e);var t,n=e.substring(B),r=e.substring(L,B);r===C&&k.test(n)&&(t=(e=n.match(k))[1],n=n.substring(e[0].length));var o=F(n);switch(r){case T:return o;case C:return i([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:F,bufferToString:U};function W(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function q(e,r,o,i,a,s){e.executeSql(o,i,a,function(e,n){n.code===n.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(e,t){t.rows.length?s(e,n):W(e,r,function(){e.executeSql(o,i,a,s)},s)},s):s(e,n)},s)}function G(a,e,s,u){var c=this;a=d(a);var t=new f(function(o,i){c.ready().then(function(){void 0===e&&(e=null);var n=e,r=c._dbInfo;r.serializer.serialize(e,function(t,e){e?i(e):r.db.transaction(function(e){q(e,r,"INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[a,t],function(){o(n)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&(0<u?o(G.apply(c,[a,n,s,u-1])):i(e))})})}).catch(i)});return l(t,s),t}var $={_driver:"webSQLStorage",_initStorage:function(e){var r=this,o={db:null};if(e)for(var t in e)o[t]="string"!=typeof e[t]?e[t].toString():e[t];var n=new f(function(t,n){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(e){return n(e)}o.db.transaction(function(e){W(e,o,function(){r._dbInfo=o,t()},function(e,t){n(t)})},n)});return o.serializer=z,n},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,n=new f(function(u,n){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){q(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var n=t.rows,r=n.length,o=0;o<r;o++){var i=n.item(o),a=(a=i.value)&&s.serializer.deserialize(a);if(void 0!==(a=c(a,i.key,o+1)))return void u(a)}u()},function(e,t){n(t)})})}).catch(n)});return l(n,e),n},getItem:function(t,e){var i=this;t=d(t);var n=new f(function(r,o){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(e){q(e,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){t=(t=t.rows.length?t.rows.item(0).value:null)&&n.serializer.deserialize(t);r(t)},function(e,t){o(t)})})}).catch(o)});return l(n,e),n},setItem:function(e,t,n){return G.apply(this,[e,t,n,1])},removeItem:function(o,e){var i=this;o=d(o);var t=new f(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){q(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[o],function(){n()},function(e,t){r(t)})})}).catch(r)});return l(t,e),t},clear:function(e){var o=this,t=new f(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){q(e,t,"DELETE FROM "+t.storeName,[],function(){n()},function(e,t){r(t)})})}).catch(r)});return l(t,e),t},length:function(e){var o=this,t=new f(function(n,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){q(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){t=t.rows.item(0).c;n(t)},function(e,t){r(t)})})}).catch(r)});return l(t,e),t},key:function(o,e){var i=this,t=new f(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){q(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[o+1],function(e,t){t=t.rows.length?t.rows.item(0).key:null;n(t)},function(e,t){r(t)})})}).catch(r)});return l(t,e),t},keys:function(e){var r=this,t=new f(function(o,n){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(e){q(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).key);o(n)},function(e,t){n(t)})})}).catch(n)});return l(t,e),t},dropInstance:function(n,e){e=c.apply(this,arguments);var r=this.config();(n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName);var o=this,t=n.name?new f(function(e){var i,t=n.name===r.name?o._dbInfo.db:openDatabase(n.name,"","",0);n.storeName?e({db:t,storeNames:[n.storeName]}):e((i=t,new f(function(o,n){i.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).name);o({db:i,storeNames:n})},function(e,t){n(t)})},function(e){n(e)})})))}).then(function(a){return new f(function(o,i){a.db.transaction(function(r){for(var e=[],t=0,n=a.storeNames.length;t<n;t++)e.push(function(t){return new f(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){n(t)})})}(a.storeNames[t]));f.all(e).then(function(){o()}).catch(function(e){i(e)})},function(e){i(e)})})}):f.reject("Invalid arguments");return l(t,e),t}};function K(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function H(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),void localStorage.removeItem(e)}catch(e){return 1}}()||0<localStorage.length}function V(e,t){for(var n,r,o=e.length,i=0;i<o;){if((n=e[i])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return 1;i++}}var e={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=K(e,this._defaultConfig),H()?((this._dbInfo=t).serializer=z,f.resolve()):f.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,n=t.length,r=localStorage.length,o=1,i=0;i<r;i++){var a=localStorage.key(i);if(0===a.indexOf(t)){var s=(s=localStorage.getItem(a))&&e.serializer.deserialize(s);if(void 0!==(s=u(s,a.substring(n),o++)))return s}}});return l(t,e),t},getItem:function(n,e){var r=this;n=d(n);var t=r.ready().then(function(){var e=r._dbInfo,t=localStorage.getItem(e.keyPrefix+n);return t=t&&e.serializer.deserialize(t)});return l(t,e),t},setItem:function(a,e,t){var s=this;a=d(a);var n=s.ready().then(function(){void 0===e&&(e=null);var i=e;return new f(function(n,r){var o=s._dbInfo;o.serializer.serialize(e,function(e,t){if(t)r(t);else try{localStorage.setItem(o.keyPrefix+a,e),n(i)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})});return l(n,t),n},removeItem:function(t,e){var n=this;t=d(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return l(r,e),r},clear:function(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}});return l(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return l(t,e),t},key:function(n,e){var r=this,t=r.ready().then(function(){var t,e=r._dbInfo;try{t=localStorage.key(n)}catch(e){t=null}return t=t&&t.substring(e.keyPrefix.length)});return l(t,e),t},keys:function(e){var i=this,t=i.ready().then(function(){for(var e=i._dbInfo,t=localStorage.length,n=[],r=0;r<t;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&n.push(o.substring(e.keyPrefix.length))}return n});return l(t,e),t},dropInstance:function(t,e){e=c.apply(this,arguments),(t="function"!=typeof t&&t||{}).name||(r=this.config(),t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n=this,r=t.name?new f(function(e){t.storeName?e(K(t,n._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):f.reject("Invalid arguments");return l(r,e),r}},J=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q={},Y={},X={INDEXEDDB:A,WEBSQL:$,LOCALSTORAGE:e},e=[X.INDEXEDDB._driver,X.WEBSQL._driver,X.LOCALSTORAGE._driver],Z=["dropInstance"],ee=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Z),te={description:"",driver:e.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(J(n[r])?e[r]=n[r].slice():e[r]=n[r])}return e}function re(e){for(var t in!function(e){if(!(e instanceof re))throw new TypeError("Cannot call a class as a function")}(this),X){var n,r;X.hasOwnProperty(t)&&(r=(n=X[t])._driver,this[t]=r,Q[r]||this.defineDriver(n))}this._defaultConfig=ne({},te),this._config=ne({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}e=new(re.prototype.config=function(e){if("object"!==(void 0===e?"undefined":r(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},re.prototype.defineDriver=function(c,e,t){var n=new f(function(t,n){try{var r=c._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!c._driver)return void n(e);for(var o=ee.concat("_initStorage"),i=0,a=o.length;i<a;i++){var s=o[i];if((!V(Z,s)||c[s])&&"function"!=typeof c[s])return void n(e)}!function(){for(var e=0,t=Z.length;e<t;e++){var n=Z[e];c[n]||(c[n]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),e=f.reject(e);return l(e,arguments[arguments.length-1]),e}}(n))}}();var u=function(e){Q[r]&&console.info("Redefining LocalForage driver: "+r),Q[r]=c,Y[r]=e,t()};"_support"in c?c._support&&"function"==typeof c._support?c._support().then(u,n):u(!!c._support):u(!0)}catch(e){n(e)}});return u(n,e,t),n},re.prototype.driver=function(){return this._driver||null},re.prototype.getDriver=function(e,t,n){e=Q[e]?f.resolve(Q[e]):f.reject(new Error("Driver not found."));return u(e,t,n),e},re.prototype.getSerializer=function(e){var t=f.resolve(z);return u(t,e),t},re.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},re.prototype.setDriver=function(e,t,n){var i=this;J(e)||(e=[e]);var r=this._getSupportedDrivers(e);function a(){i._config.driver=i.driver()}function s(e){return i._extend(e),a(),i._ready=i._initStorage(i._config),i._ready}function o(o){return function(){var r=0;return function e(){for(;r<o.length;){var t=o[r];return r++,i._dbInfo=null,i._ready=null,i.getDriver(t).then(s).catch(e)}a();var n=new Error("No available storage method found.");return i._driverSet=f.reject(n),i._driverSet}()}}e=null!==this._driverSet?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=e.then(function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,a(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(r)})}).catch(function(){a();var e=new Error("No available storage method found.");return i._driverSet=f.reject(e),i._driverSet}),u(this._driverSet,t,n),this._driverSet},re.prototype.supports=function(e){return!!Y[e]},re.prototype._extend=function(e){ne(this,e)},re.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},re.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ee.length;e<t;e++)!function(t,n){t[n]=function(){var e=arguments;return t.ready().then(function(){return t[n].apply(t,e)})}}(this,ee[e])},re.prototype.createInstance=function(e){return new re(e)},re);t.exports=e},{3:3}]},{},[4])(4)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=e("./level"),f=e("./loggerManager"),e=(r.msg=function(e,t,n,r,o,i){if(!f.LoggerManager.isProductionMode()&&f.LoggerManager.isLevelAllowed(o)&&!f.LoggerManager.isMuted(n)){var a;switch(o){case c.Level.DEBUG:a="violet";break;case c.Level.ERROR:a="red";break;case c.Level.INFO:a="deepskyblue";break;case c.Level.LOG:a="gray";break;case c.Level.WARN:a="orange"}if(i){var s=i-n.length;if(0<s)for(var u=0;u<s;u++)n+=" "}i="%c "+n+"  %c "+e+" ",e="background: "+r+";color:white; border: 1px solid "+r+"; ",r="border: 1px solid "+a+"; ";switch((t=t[0]).unshift(r),t.unshift(e),t.unshift(i),o){case c.Level.INFO:console.info.apply(console,t);break;case c.Level.DEBUG:console.debug.apply(console,t);break;case c.Level.LOG:console.log.apply(console,t);break;case c.Level.WARN:console.warn.apply(console,t);break;case c.Level.ERROR:console.error.apply(console,t)}}},r);function r(){}n.Display=e},{"./level":4,"./loggerManager":6}],3:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./display")),r(e("./level")),r(e("./logger")),r(e("./loggerManager"))},{"./display":2,"./level":4,"./logger":5,"./loggerManager":6}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),(n=n.Level||(n.Level={}))[n.INFO=0]="INFO",n[n.LOG=1]="LOG",n[n.DEBUG=2]="DEBUG",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR"},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./level"),o=e("./display"),e=(i.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._logMessage(e,r.Level.DEBUG,t)},i.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._logMessage(e,r.Level.LOG,t)},i.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._logMessage(e,r.Level.ERROR,t)},i.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._logMessage(e,r.Level.INFO,t)},i.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._logMessage(e,r.Level.WARN,t)},i.prototype._logMessage=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return o.Display.msg(e,n,this.name,this.color,t,this.fixedWidth),this},i);function i(e,t,n){this.name=e,this.color=t,this.fixedWidth=n}n.Logger=e},{"./display":2,"./level":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./logger"),e=(o.create=function(e,t){var n;return void 0===o.instances[e]?(o.instancesStateMap.hasOwnProperty(e)||(o.instancesStateMap[e]=!1),n=new r.Logger(e,t||o.getRandomColor(),0<o.levels.length?o.fixedWidth:void 0),o.instances[e]=n):n=o.instances[e],n},o.onlyLevels=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.levels=e,o.saveState()},o.onlyModules=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0!==e.length&&(o.muteAllModules(),e.forEach(function(e){return o.mute(e,!1)}))},o.mute=function(e,t){void 0===t&&(t=!0),o.instancesStateMap[e]=t,o.saveState()},o.unmute=function(e){o.mute(e,!1)},o.unMuteAllModules=function(){for(var e in o.instances)o.mute(e,!1)},o.muteAllModules=function(){for(var e in o.instances)o.mute(e,!0)},o.setProductionMode=function(){o.DEV_MODE=!1,delete window.LoggerManager},o.isProductionMode=function(){return!o.DEV_MODE},o.isMuted=function(e){return o.instancesStateMap[e]},o.isLevelAllowed=function(e){return 0==o.levels.length||o.levels.includes(e)},o.showConfig=function(){return{modulesState:o.instancesStateMap,levels:o.levels}},o.getRandomColor=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},o.saveState=function(){var e={map:o.instancesStateMap,levels:o.levels};localStorage.setItem(o.STORAGE_KEY,JSON.stringify(e))},o.loadState=function(){var e=localStorage.getItem(o.STORAGE_KEY);e&&(e=JSON.parse(e),o.instancesStateMap=e.map,o.levels=e.levels)},o.DEV_MODE=!0,o.STORAGE_KEY="typescript-logger-state",o.instances={},o.instancesStateMap={},o.fixedWidth=0,o.levels=[],o.initializationBlock=(window.LoggerManager={onlyLevel:o.onlyLevels,onlyModules:o.onlyModules,mute:o.mute,unmute:o.unmute,unMuteAllModules:o.unMuteAllModules,muteAllModules:o.muteAllModules,showConfig:o.showConfig},void o.loadState()),o);function o(){}n.LoggerManager=e},{"./logger":5}],7:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function o(e){try{i(u.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}i((u=u.apply(e,a||[])).next())})},o=this&&this.__generator||function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.ApplicationData=n.Settings=n.Theme=void 0;var a,s=i(e("localforage")),u=e("./observer"),c=e("./site"),f="settings",l="version";(e=a=n.Theme||(n.Theme={})).Light="light",e.Dark="dark";var d=function(){};n.Settings=d;h.prototype.loadFromStorage=function(){return r(this,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return e.trys.push([0,5,,6]),[4,(t=this)._storeSession.getItem(l)];case 1:return t._version=e.sent()||"",""===this._version?[3,4]:(n=this._settings,[4,this._storeSession.getItem(f)]);case 2:return n.data=e.sent()||this._settings.data,[4,(r=this)._storeSession.getItem("theme")];case 3:r._theme=e.sent()||this._theme,e.label=4;case 4:return this._version=c.site.version,this._storeSession.setItem(l,this._version),[3,6];case 5:return r=e.sent(),console.error("loadFromStorage",r),[3,6];case 6:return[2]}})})},h.prototype.clearSessionStorage=function(){this._storeSession.clear()},Object.defineProperty(h.prototype,"theme",{get:function(){return this._theme},set:function(e){this._theme=e,this._storeSession.setItem("theme",e),this._storeSession.setItem(l,this._version)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"settingsObservable",{get:function(){return this._settings},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"settings",{get:function(){return this._settings.data},set:function(e){this._storeSession.setItem(f,e),this._storeSession.setItem(l,this._version),this._settings.data=e},enumerable:!1,configurable:!0}),e=h;function h(){this._settings=new u.DataSubject(new d),this._theme=a.Dark,this._version=c.site.version,this._storeSession=s.default.createInstance({name:"session"})}n.ApplicationData=e},{"./observer":10,"./site":11,localforage:1}],8:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function o(e){try{i(u.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,o)}i((u=u.apply(e,a||[])).next())})},o=this&&this.__generator||function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,i=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Application=void 0;var i=e("./application.data"),a=e("typescript-logger"),e=(s.prototype.init=function(){var e=this;this._appData.loadFromStorage().then(function(){e.initSite()})},s.prototype.initSite=function(){return r(this,void 0,void 0,function(){return o(this,function(e){return this.initTheme(),this.initSettings(),this.initObservers(),[2]})})},s.prototype.initTheme=function(){switch($("body").removeAttr("data-theme"),this._appData.theme){case i.Theme.Dark:$("#chbDarkTheme").bootstrapToggle("on"),$("body").attr("data-theme","dark");break;case i.Theme.Light:default:$("#chbDarkTheme").bootstrapToggle("off"),$("body").attr("data-theme","light")}},s.prototype.initSettings=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){return t=this,$("#btnClearSession").on("click",function(){t._appData.clearSessionStorage()}),$("#chbDarkTheme").on("change",function(){$("body").removeAttr("data-theme"),$(this).prop("checked")?($("body").attr("data-theme","dark"),t._appData.theme=i.Theme.Dark):($("body").attr("data-theme","light"),t._appData.theme=i.Theme.Light)}),[2]})})},s.prototype.initObservers=function(){},s);function s(){this._appData=new i.ApplicationData,this.log=a.LoggerManager.create("Application")}n.Application=e},{"./application.data":7,"typescript-logger":3}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e("./site");var r=e("./application"),o=e("typescript-logger");$(function(){o.LoggerManager.setProductionMode(),(new r.Application).init()})},{"./application":8,"./site":11,"typescript-logger":3}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataListSubject=n.DataSubject=void 0;var r=e("typescript-logger"),e=(Object.defineProperty(o.prototype,"data",{get:function(){return this._state},set:function(e){this._state=e,this.notify()},enumerable:!1,configurable:!0}),o.prototype.let=function(e){return this._state=e(this._state),this.notify(),this._state},o.prototype.attach=function(e){this.observers.includes(e)?this.log.warn("Subject: Observer has been attached already."):(this.log.debug("Subject: Attached an observer.",e),this.observers.push(e))},o.prototype.detach=function(e){var t=this.observers.indexOf(e);-1!==t?(this.observers=this.observers.splice(t,1),this.log.debug("Subject: Detached an observer.",e)):this.log.warn("Subject: Nonexistent observer.")},o.prototype.notify=function(){this.log.debug("Subject: Notifying observers...",this._state);for(var e=0,t=this.observers;e<t.length;e++)t[e].update(this)},o);function o(e){this.observers=[],this.log=r.LoggerManager.create("Observer:DataSubject"),this._state=e}n.DataSubject=e;Object.defineProperty(i.prototype,"data",{get:function(){return this._state},set:function(e){this._state=e,this.notify()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._state.length},enumerable:!1,configurable:!0}),i.prototype.clear=function(){this.data=[]},i.prototype.last=function(){return 0<this._state.length?this._state[this._state.length-1]:void 0},i.prototype.get=function(e){return this._state[e]},i.prototype.find=function(e,t){return this._state.find(e,t)},i.prototype.findIndex=function(e,t){return this._state.findIndex(e,t)},i.prototype.let=function(e,t){0<=e&&e<this._state.length&&void 0!==this._state[e]&&(void 0!==(t=t(this._state[e],e))?(this._state[e]=t,this.notifyItem(t,e)):(t=this._state[e],this._state.splice(e,1),this.notifyRemovedItem(t)))},i.prototype.lets=function(n){0<this._state.length&&(this._state=this._state.map(function(e,t){return n(e,t)}).filter(function(e){return void 0!==e}),this.notify())},i.prototype.forEach=function(e,t){this._state.forEach(e,t)},i.prototype.set=function(e,t){0<=e&&e<this._state.length&&(this._state[e]=t,this.notifyItem(t,e))},i.prototype.push=function(e){this._state.push(e),this.notifyAddedItem(this._state[this._state.length-1])},i.prototype.remove=function(e){var t;0<=e&&e<this._state.length&&(t=this._state[e],this._state.splice(e,1),this.notifyRemovedItem(t))},i.prototype.attach=function(e){this.observers.includes(e)?this.log.warn("Subject: Observer has been attached already."):(this.log.debug("Subject: Attached an observer.",e),this.observers.push(e))},i.prototype.detach=function(e){var t=this.observers.indexOf(e);-1!==t?(this.observers=this.observers.splice(t,1),this.log.debug("Subject: Detached an observer.",e)):this.log.warn("Subject: Nonexistent observer.")},i.prototype.notify=function(){this.log.debug("Subject: Notifying observers...",this._state);for(var e=0,t=this.observers;e<t.length;e++)t[e].update(this)},i.prototype.notifyItem=function(e,t){this.log.debug("Subject: Notifying observers, Item...",this._state,t);for(var n=0,r=this.observers;n<r.length;n++)r[n].updateItem(this,e,t)},i.prototype.notifyAddedItem=function(e){this.log.debug("Subject: Notifying observers, AddedItem...",this._state,e);for(var t=0,n=this.observers;t<n.length;t++)n[t].updateAddedItem(this,e)},i.prototype.notifyRemovedItem=function(e){this.log.debug("Subject: Notifying observers, RemovedItem...",this._state,e);for(var t=0,n=this.observers;t<n.length;t++)n[t].updateRemovedItem(this,e)},e=i;function i(e){void 0===e&&(e=[]),this._state=[],this.observers=[],this.log=r.LoggerManager.create("Observer:ListDataSubject"),this._state=e}n.DataListSubject=e},{"typescript-logger":3}],11:[function(e,t,n){"use strict";String.prototype.format=function(){var r=arguments,o=0;return this.replace(/\{(\w*)\}/g,function(e,t){if(""===t&&(t=o,o++),t==+t)return"undefined"!==r[t]?r[t]:e;for(var n=0;n<r.length;n++)if("object"==typeof r[n]&&void 0!==r[n][t])return r[n][t];return e})};Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)},t.exports={site:site,USE_CACHE:USE_CACHE,getUrlParameter:function(e){for(var t,n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++)if((t=n[r].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])},isOnScreen:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var r=$(window),o={top:r.scrollTop(),left:r.scrollLeft()};o.right=o.left+r.width(),o.bottom=o.top+r.height();r=$(e).offset();return r.right=r.left+$(e).outerWidth()*t,r.bottom=r.top+$(e).outerHeight()*n,!(r.left>=o.left&&r.top>=o.top&&r.right<=o.right&&r.bottom<=o.bottom)},countlines:function(e){return null!==e&&""!==e?e.split(/\r\n|\r|\n/).length:0},makeDoubleClick:function(e,t,n){var r=0,o=!1;e.on("click",function(e){var t=this;r=setTimeout(function(){o||n(t),o=!1},250)}).on("dblclick",function(e){clearTimeout(r),o=!0,t(this)})},clamp:function(e,t,n){return Math.min(Math.max(e,t),n)}}},{}]},{},[9]);
